{"version":3,"file":"wd.module.js","sources":["../node_modules/wonder-commonlib/dist/es2015/utils/JudgeUtils.ts","../node_modules/wonder-commonlib/dist/es2015/global/Variable.ts","../node_modules/wonder-commonlib/dist/es2015/Log.ts","../src/utils/Log.ts","../src/config/CompileConfig.ts","../src/core/MainData.ts","../src/definition/typescript/decorator/contract.ts","../node_modules/wonder-expect.js/index.js","../node_modules/wonder-commonlib/dist/es2015/global/Const.ts","../node_modules/wonder-commonlib/dist/es2015/List.ts","../node_modules/wonder-commonlib/dist/es2015/utils/ExtendUtils.ts","../node_modules/wonder-commonlib/dist/es2015/Collection.ts","../src/utils/JudgeUtils.ts","../src/utils/objectUtils.ts","../src/component/ComponentData.ts","../src/utils/ClassUtils.ts","../src/component/ComponentTypeIDManager.ts","../src/component/ComponentSystem.ts","../src/component/utils/contractUtils.ts","../src/definition/typescript/decorator/registerClass.ts","../src/component/Component.ts","../src/component/camera/CameraControllerData.ts","../src/component/camera/CameraController.ts","../src/utils/arrayUtils.ts","../src/utils/cacheUtils.ts","../src/component/camera/PerspectiveCameraData.ts","../src/component/camera/CameraData.ts","../src/component/camera/CameraControllerSystem.ts","../src/math/Vector2.ts","../src/math/Global.ts","../src/math/Matrix3.ts","../src/math/Vector4.ts","../src/math/Vector3.ts","../src/math/Quaternion.ts","../src/math/Matrix4.ts","../src/component/camera/PerspectiveCameraSystem.ts","../src/core/entityObject/gameObject/GameObjectData.ts","../src/config/DataBufferConfig.ts","../src/component/transform/ThreeDTransformData.ts","../src/definition/GlobalTempData.ts","../src/component/transform/ThreeDTransform.ts","../src/utils/DataUtils.ts","../node_modules/.0.1.2@wonder-lodash/identity.js","../node_modules/.0.1.2@wonder-lodash/_freeGlobal.js","../node_modules/.0.1.2@wonder-lodash/_root.js","../node_modules/.0.1.2@wonder-lodash/_Symbol.js","../node_modules/.0.1.2@wonder-lodash/_getRawTag.js","../node_modules/.0.1.2@wonder-lodash/_objectToString.js","../node_modules/.0.1.2@wonder-lodash/_baseGetTag.js","../node_modules/.0.1.2@wonder-lodash/isObject.js","../node_modules/.0.1.2@wonder-lodash/isFunction.js","../node_modules/.0.1.2@wonder-lodash/_coreJsData.js","../node_modules/.0.1.2@wonder-lodash/_isMasked.js","../node_modules/.0.1.2@wonder-lodash/_toSource.js","../node_modules/.0.1.2@wonder-lodash/_baseIsNative.js","../node_modules/.0.1.2@wonder-lodash/_getValue.js","../node_modules/.0.1.2@wonder-lodash/_getNative.js","../node_modules/.0.1.2@wonder-lodash/_WeakMap.js","../node_modules/.0.1.2@wonder-lodash/_metaMap.js","../node_modules/.0.1.2@wonder-lodash/_baseSetData.js","../node_modules/.0.1.2@wonder-lodash/_baseCreate.js","../node_modules/.0.1.2@wonder-lodash/_createCtor.js","../node_modules/.0.1.2@wonder-lodash/_createBind.js","../node_modules/.0.1.2@wonder-lodash/_apply.js","../node_modules/.0.1.2@wonder-lodash/_composeArgs.js","../node_modules/.0.1.2@wonder-lodash/_composeArgsRight.js","../node_modules/.0.1.2@wonder-lodash/_countHolders.js","../node_modules/.0.1.2@wonder-lodash/_baseLodash.js","../node_modules/.0.1.2@wonder-lodash/_LazyWrapper.js","../node_modules/.0.1.2@wonder-lodash/noop.js","../node_modules/.0.1.2@wonder-lodash/_getData.js","../node_modules/.0.1.2@wonder-lodash/_realNames.js","../node_modules/.0.1.2@wonder-lodash/_getFuncName.js","../node_modules/.0.1.2@wonder-lodash/_LodashWrapper.js","../node_modules/.0.1.2@wonder-lodash/isArray.js","../node_modules/.0.1.2@wonder-lodash/isObjectLike.js","../node_modules/.0.1.2@wonder-lodash/_copyArray.js","../node_modules/.0.1.2@wonder-lodash/_wrapperClone.js","../node_modules/.0.1.2@wonder-lodash/wrapperLodash.js","../node_modules/.0.1.2@wonder-lodash/_isLaziable.js","../node_modules/.0.1.2@wonder-lodash/_shortOut.js","../node_modules/.0.1.2@wonder-lodash/_setData.js","../node_modules/.0.1.2@wonder-lodash/_getWrapDetails.js","../node_modules/.0.1.2@wonder-lodash/_insertWrapDetails.js","../node_modules/.0.1.2@wonder-lodash/constant.js","../node_modules/.0.1.2@wonder-lodash/_defineProperty.js","../node_modules/.0.1.2@wonder-lodash/_baseSetToString.js","../node_modules/.0.1.2@wonder-lodash/_setToString.js","../node_modules/.0.1.2@wonder-lodash/_arrayEach.js","../node_modules/.0.1.2@wonder-lodash/_baseFindIndex.js","../node_modules/.0.1.2@wonder-lodash/_baseIsNaN.js","../node_modules/.0.1.2@wonder-lodash/_strictIndexOf.js","../node_modules/.0.1.2@wonder-lodash/_baseIndexOf.js","../node_modules/.0.1.2@wonder-lodash/_arrayIncludes.js","../node_modules/.0.1.2@wonder-lodash/_updateWrapDetails.js","../node_modules/.0.1.2@wonder-lodash/_setWrapToString.js","../node_modules/.0.1.2@wonder-lodash/_createRecurry.js","../node_modules/.0.1.2@wonder-lodash/_getHolder.js","../node_modules/.0.1.2@wonder-lodash/_isIndex.js","../node_modules/.0.1.2@wonder-lodash/_reorder.js","../node_modules/.0.1.2@wonder-lodash/_replaceHolders.js","../node_modules/.0.1.2@wonder-lodash/_createHybrid.js","../node_modules/.0.1.2@wonder-lodash/_createCurry.js","../node_modules/.0.1.2@wonder-lodash/_createPartial.js","../node_modules/.0.1.2@wonder-lodash/_mergeData.js","../node_modules/.0.1.2@wonder-lodash/isSymbol.js","../node_modules/.0.1.2@wonder-lodash/toNumber.js","../node_modules/.0.1.2@wonder-lodash/toFinite.js","../node_modules/.0.1.2@wonder-lodash/toInteger.js","../node_modules/.0.1.2@wonder-lodash/_createWrap.js","../node_modules/.0.1.2@wonder-lodash/curry.js","../node_modules/.0.1.2@wonder-lodash/_arrayPush.js","../node_modules/.0.1.2@wonder-lodash/_baseIsArguments.js","../node_modules/.0.1.2@wonder-lodash/isArguments.js","../node_modules/.0.1.2@wonder-lodash/_isFlattenable.js","../node_modules/.0.1.2@wonder-lodash/_baseFlatten.js","../node_modules/.0.1.2@wonder-lodash/flatten.js","../node_modules/.0.1.2@wonder-lodash/_overRest.js","../node_modules/.0.1.2@wonder-lodash/_flatRest.js","../node_modules/.0.1.2@wonder-lodash/_createFlow.js","../node_modules/.0.1.2@wonder-lodash/flowRight.js","../src/utils/functionalUtils.ts","../src/component/transform/utils.ts","../src/utils/entityUtils.ts","../node_modules/bowser/src/bowser.js","../src/component/transform/hierarchySystem.ts","../src/component/transform/operateDataSystem.ts","../src/component/transform/LinkList.ts","../src/component/transform/dirtySystem.ts","../src/component/transform/isTransformSystem.ts","../src/component/transform/cacheSystem.ts","../src/component/transform/updateSystem.ts","../src/component/transform/contractUtils.ts","../src/component/transform/batchSystem.ts","../src/component/tag/TagData.ts","../src/component/tag/Tag.ts","../src/component/tag/TagSystem.ts","../src/config/MemoryConfig.ts","../src/utils/memoryUtils.ts","../src/component/transform/ThreeDTransformSystem.ts","../src/utils/contractUtils.ts","../node_modules/.0.1.2@wonder-lodash/_arrayMap.js","../node_modules/.0.1.2@wonder-lodash/_baseToString.js","../node_modules/.0.1.2@wonder-lodash/toString.js","../node_modules/wonder-fantasy-land/dist/es2015/types/IO.ts","../src/core/DirectorSystem.ts","../node_modules/immutable/dist/immutable.js","../src/utils/stateUtils.ts","../src/core/DirectorData.ts","../src/core/entityObject/gameObject/GameObject.ts","../src/component/geometry/GeometryData.ts","../src/definition/typescript/decorator/singleton.ts","../src/config/DebugConfig.ts","../src/device/EScreenSize.ts","../node_modules/wonder-frp/dist/es2015/core/Main.ts","../src/device/GPUDetectorSystem.ts","../src/core/MainSystem.ts","../node_modules/wonder-commonlib/dist/es2015/utils/DomQuery.ts","../src/structure/ViewSystem.ts","../src/structure/RectRegion.ts","../src/definition/Variable.ts","../src/utils/rootUtils.ts","../src/device/DeviceManagerSystem.ts","../src/device/DeviceManagerData.ts","../src/device/GPUDetector.ts","../src/renderer/enum/EBufferType.ts","../src/renderer/enum/EDrawMode.ts","../src/component/geometry/GeometrySystem.ts","../src/component/geometry/Geometry.ts","../src/renderer/shader/Shader.ts","../src/renderer/buffer/bufferUtils.ts","../src/renderer/buffer/IndexBufferSystem.ts","../src/renderer/utils/renderConfigUtils.ts","../src/renderer/shader/snippet/ShaderSnippet.ts","../src/renderer/shader/chunk/ShaderChunk.ts","../src/renderer/shader/shaderSourceBuildSystem.ts","../src/renderer/shader/locationSystem.ts","../src/renderer/enum/EVariableType.ts","../src/renderer/buffer/ArrayBufferSystem.ts","../src/renderer/shader/glslSenderSystem.ts","../src/renderer/shader/programSystem.ts","../src/renderer/shader/ShaderSystem.ts","../src/renderer/data/material_config.ts","../src/component/material/MaterialData.ts","../src/renderer/data/shaderLib_generator.ts","../src/definition/typescript/decorator/cache.ts","../src/structure/Color.ts","../src/renderer/shader/ShaderData.ts","../src/component/material/MaterialSystem.ts","../src/component/material/Material.ts","../src/core/entityObject/gameObject/GameObjectSystem.ts","../src/component/camera/CameraSystem.ts","../src/component/camera/Camera.ts","../src/component/camera/PerspectiveCamera.ts","../src/component/ComponentTypeIdManager.ts","../src/component/geometry/BoxGeometrySystem.ts","../src/component/geometry/BoxGeometry.ts","../src/component/geometry/CustomGeometrySystem.ts","../src/component/geometry/CustomGeometry.ts","../src/component/material/BasicMaterialSystem.ts","../src/component/material/BasicMaterial.ts","../src/component/renderer/MeshRendererData.ts","../src/component/renderer/MeshRendererSystem.ts","../src/component/renderer/MeshRenderer.ts","../node_modules/wonder-frp/node_modules/wonder-commonlib/dist/es2015/utils/JudgeUtils.ts","../node_modules/wonder-frp/node_modules/wonder-commonlib/dist/es2015/global/Variable.ts","../node_modules/wonder-frp/node_modules/wonder-commonlib/dist/es2015/Log.ts","../node_modules/wonder-frp/dist/es2015/core/Entity.ts","../node_modules/wonder-frp/node_modules/wonder-commonlib/dist/es2015/global/Const.ts","../node_modules/wonder-frp/node_modules/wonder-commonlib/dist/es2015/List.ts","../node_modules/wonder-frp/node_modules/wonder-commonlib/dist/es2015/utils/ExtendUtils.ts","../node_modules/wonder-frp/node_modules/wonder-commonlib/dist/es2015/Collection.ts","../node_modules/wonder-frp/dist/es2015/JudgeUtils.ts","../node_modules/wonder-frp/dist/es2015/observer/SubjectObserver.ts","../node_modules/wonder-frp/dist/es2015/core/Observer.ts","../node_modules/wonder-frp/dist/es2015/definition/typescript/decorator/contract.ts","../node_modules/wonder-frp/dist/es2015/observer/AutoDetachObserver.ts","../node_modules/wonder-frp/dist/es2015/Disposable/InnerSubscription.ts","../node_modules/wonder-frp/dist/es2015/subject/Subject.ts","../node_modules/wonder-frp/dist/es2015/Disposable/SingleDisposable.ts","../node_modules/wonder-frp/dist/es2015/utils/ClassMapUtils.ts","../node_modules/wonder-frp/node_modules/wonder-commonlib/dist/es2015/utils/FunctionUtils.ts","../node_modules/wonder-frp/dist/es2015/core/Stream.ts","../node_modules/wonder-frp/dist/es2015/stream/BaseStream.ts","../node_modules/wonder-frp/dist/es2015/global/Variable.ts","../node_modules/wonder-frp/dist/es2015/core/Scheduler.ts","../node_modules/wonder-frp/dist/es2015/stream/AnonymousStream.ts","../node_modules/wonder-frp/dist/es2015/stream/FromArrayStream.ts","../node_modules/wonder-frp/dist/es2015/stream/FromPromiseStream.ts","../node_modules/wonder-frp/dist/es2015/stream/FromEventPatternStream.ts","../node_modules/wonder-frp/dist/es2015/stream/IntervalStream.ts","../node_modules/wonder-frp/dist/es2015/stream/IntervalRequestStream.ts","../node_modules/wonder-frp/dist/es2015/stream/TimeoutStream.ts","../node_modules/wonder-frp/dist/es2015/Disposable/GroupDisposable.ts","../node_modules/wonder-frp/dist/es2015/stream/DeferStream.ts","../node_modules/wonder-frp/dist/es2015/definition/typescript/decorator/registerClass.ts","../node_modules/wonder-frp/dist/es2015/global/Operator.ts","../node_modules/wonder-frp/dist/es2015/observer/ConcatObserver.ts","../node_modules/wonder-frp/dist/es2015/stream/ConcatStream.ts","../node_modules/wonder-frp/dist/es2015/observer/IgnoreElementsObserver.ts","../node_modules/wonder-frp/dist/es2015/stream/IgnoreElementsStream.ts","../node_modules/wonder-frp/dist/es2015/extend/root.ts","../src/utils/time/TimeController.ts","../src/utils/time/DirectorTimeController.ts","../src/core/entityObject/scene/SceneSystem.ts","../src/renderer/command/RenderCommand.ts","../src/renderer/command/RenderCommandSystem.ts","../src/renderer/sort/SortRenderCommandSystem.ts","../src/renderer/draw/DrawRenderCommandSystem.ts","../src/renderer/buffer/ArrayBufferData.ts","../src/renderer/buffer/IndexBufferData.ts","../src/renderer/data/render_config.ts","../src/core/entityObject/scene/SceneData.ts","../src/renderer/render/WebGLRenderSystem.ts","../src/structure/View.ts","../src/device/DeviceManager.ts","../src/core/Director.ts","../src/core/entityObject/scene/Scene.ts","../src/core/Main.ts","../src/definition/typescript/decorator/control.ts","../src/definition/typescript/decorator/virtual.ts","../src/test/forUnitTest.ts","../src/utils/time/CommonTimeController.ts"],"sourcesContent":["declare var global: any, module: any;\r\n\r\nexport class JudgeUtils {\r\n    public static isArray(arr: any) {\r\n        const MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\r\n        var length = arr && arr.length;\r\n\r\n        return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\r\n    }\r\n\r\n    public static isArrayExactly(arr: any) {\r\n        return Object.prototype.toString.call(arr) === \"[object Array]\";\r\n    }\r\n\r\n    public static isNumber(num: any) {\r\n        return typeof num == \"number\";\r\n    }\r\n\r\n    public static isNumberExactly(num: any) {\r\n        return Object.prototype.toString.call(num) === \"[object Number]\";\r\n    }\r\n\r\n    public static isString(str: any) {\r\n        return typeof str == \"string\";\r\n    }\r\n\r\n    public static isStringExactly(str: any) {\r\n        return Object.prototype.toString.call(str) === \"[object String]\";\r\n    }\r\n\r\n    public static isBoolean(bool: any) {\r\n        return bool === true || bool === false || toString.call(bool) === '[boolect Boolean]';\r\n    }\r\n\r\n    public static isDom(obj: any) {\r\n        return !!(obj && obj.nodeType === 1);\r\n    }\r\n\r\n\r\n    public static isObject(obj: any) {\r\n        var type = typeof obj;\r\n\r\n        return type === 'function' || type === 'object' && !!obj;\r\n    }\r\n\r\n    /**\r\n     * 判断是否为对象字面量（{}）\r\n     */\r\n    public static isDirectObject(obj: any) {\r\n        return Object.prototype.toString.call(obj) === \"[object Object]\";\r\n    }\r\n\r\n    /**\r\n     * 检查宿主对象是否可调用\r\n     *\r\n     * 任何对象，如果其语义在ECMAScript规范中被定义过，那么它被称为原生对象；\r\n     环境所提供的，而在ECMAScript规范中没有被描述的对象，我们称之为宿主对象。\r\n\r\n     该方法用于特性检测，判断对象是否可用。用法如下：\r\n\r\n     MyEngine addEvent():\r\n     if (Tool.judge.isHostMethod(dom, \"addEventListener\")) {    //判断dom是否具有addEventListener方法\r\n        dom.addEventListener(sEventType, fnHandler, false);\r\n        }\r\n     */\r\n    public static isHostMethod(object: any, property: any) {\r\n        var type = typeof object[property];\r\n\r\n        return type === \"function\" ||\r\n            (type === \"object\" && !!object[property]);\r\n        // || type == \"unknown\";\r\n    }\r\n\r\n    public static isNodeJs() {\r\n        return ((typeof global != \"undefined\" && global.module) || (typeof module != \"undefined\")) && typeof module.exports != \"undefined\";\r\n    }\r\n\r\n    //overwrite it in the end of this file\r\n    public static isFunction(func: any): boolean {\r\n        return true;\r\n    }\r\n}\r\n\r\n// Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\r\n// IE 11 (#1621), and in Safari 8 (#1929).\r\nif (typeof /./ != 'function' && typeof Int8Array != 'object') {\r\n    JudgeUtils.isFunction = (func: any) => {\r\n        return typeof func == 'function';\r\n    };\r\n}\r\nelse {\r\n    JudgeUtils.isFunction = (func: any) => {\r\n        return Object.prototype.toString.call(func) === \"[object Function]\";\r\n    };\r\n}","import { JudgeUtils } from \"../utils/JudgeUtils\";\r\nimport {Log} from \"../Log\";\r\n\r\ndeclare var global: NodeJS.Global, window: Window;\r\nexport var root: any;\r\n\r\nif (JudgeUtils.isNodeJs() && typeof global != \"undefined\") {\r\n    root = global;\r\n}\r\nelse if(typeof window != \"undefined\"){\r\n    root = window;\r\n}\r\nelse if(typeof self != \"undefined\"){\r\n    /*!\r\n     in web worker\r\n     */\r\n    root = self;\r\n}\r\nelse{\r\n    Log.error(\"no avaliable root!\");\r\n}","import { root } from \"./global/Variable\";\r\n\r\nexport class Log {\r\n    public static info = {\r\n        INVALID_PARAM: \"invalid parameter\",\r\n\r\n        helperFunc: function(...args) {\r\n            var result = \"\";\r\n\r\n            args.forEach(function(val) {\r\n                result += String(val) + \" \";\r\n            });\r\n\r\n            return result.slice(0, -1);\r\n        },\r\n        assertion: function(...args) {\r\n            if (args.length === 2) {\r\n                return this.helperFunc(args[0], args[1]);\r\n            }\r\n            else if (args.length === 3) {\r\n                return this.helperFunc(args[1], args[0], args[2]);\r\n            }\r\n            else {\r\n                throw new Error(\"args.length must <= 3\");\r\n            }\r\n        },\r\n\r\n        FUNC_INVALID: function(...args) {\r\n            args.unshift(\"invalid\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST: function(...args) {\r\n            args.unshift(\"must\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_BE: function(...args) {\r\n            args.unshift(\"must be\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_NOT_BE: function(...args) {\r\n            args.unshift(\"must not be\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_SHOULD: function(...args) {\r\n            args.unshift(\"should\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_SHOULD_NOT: function(...args) {\r\n            args.unshift(\"should not\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_SUPPORT: function(...args) {\r\n            args.unshift(\"support\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_NOT_SUPPORT: function(...args) {\r\n            args.unshift(\"not support\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_DEFINE: function(...args) {\r\n            args.unshift(\"must define\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_NOT_DEFINE: function(...args) {\r\n            args.unshift(\"must not define\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_UNKNOW: function(...args) {\r\n            args.unshift(\"unknow\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_EXPECT: function(...args) {\r\n            args.unshift(\"expect\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_UNEXPECT: function(...args) {\r\n            args.unshift(\"unexpect\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_EXIST: function(...args) {\r\n            args.unshift(\"exist\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_NOT_EXIST: function(...args) {\r\n            args.unshift(\"not exist\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_ONLY: function(...args) {\r\n            args.unshift(\"only\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_CAN_NOT: function(...args) {\r\n            args.unshift(\"can't\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Output Debug message.\r\n     * @function\r\n     * @param {String} message\r\n     */\r\n    public static log(...messages) {\r\n        if (!this._exec(\"log\", messages)) {\r\n            root.alert(messages.join(\",\"));\r\n        }\r\n\r\n        this._exec(\"trace\", messages);\r\n    }\r\n\r\n    /**\r\n     * 断言失败时，会提示错误信息，但程序会继续执行下去\r\n     * 使用断言捕捉不应该发生的非法情况。不要混淆非法情况与错误情况之间的区别，后者是必然存在的并且是一定要作出处理的。\r\n     *\r\n     * 1）对非预期错误使用断言\r\n     断言中的布尔表达式的反面一定要描述一个非预期错误，下面所述的在一定情况下为非预期错误的一些例子：\r\n     （1）空指针。\r\n     （2）输入或者输出参数的值不在预期范围内。\r\n     （3）数组的越界。\r\n     非预期错误对应的就是预期错误，我们通常使用错误处理代码来处理预期错误，而使用断言处理非预期错误。在代码执行过程中，有些错误永远不应该发生，这样的错误是非预期错误。断言可以被看成是一种可执行的注释，你不能依赖它来让代码正常工作（《Code Complete 2》）。例如：\r\n     int nRes = f(); // nRes 由 f 函数控制， f 函数保证返回值一定在 -100 ~ 100\r\n     Assert(-100 <= nRes && nRes <= 100); // 断言，一个可执行的注释\r\n     由于 f 函数保证了返回值处于 -100 ~ 100，那么如果出现了 nRes 不在这个范围的值时，就表明一个非预期错误的出现。后面会讲到“隔栏”，那时会对断言有更加深刻的理解。\r\n     2）不要把需要执行的代码放入断言中\r\n     断言用于软件的开发和维护，而通常不在发行版本中包含断言。\r\n     需要执行的代码放入断言中是不正确的，因为在发行版本中，这些代码通常不会被执行，例如：\r\n     Assert(f()); // f 函数通常在发行版本中不会被执行\r\n     而使用如下方法则比较安全：\r\n     res = f();\r\n     Assert(res); // 安全\r\n     3）对来源于内部系统的可靠的数据使用断言，而不要对外部不可靠的数据使用断言，对于外部不可靠数据，应该使用错误处理代码。\r\n     再次强调，把断言看成可执行的注释。\r\n     * @param cond 如果cond返回false，则断言失败，显示message\r\n     * @param message\r\n     */\r\n    public static assert(cond, ...messages) {\r\n        if (cond) {\r\n            if (!this._exec(\"assert\", arguments, 1)) {\r\n                this.log.apply(this, Array.prototype.slice.call(arguments, 1));\r\n            }\r\n        }\r\n    }\r\n\r\n    public static error(cond, ...message): any {\r\n        if (cond) {\r\n            /*!\r\n            console.error will not interrupt, it will throw error and continue exec the left statements\r\n\r\n            but here need interrupt! so not use it here.\r\n             */\r\n            //if (!this._exec(\"error\", arguments, 1)) {\r\n            throw new Error(Array.prototype.slice.call(arguments, 1).join(\"\\n\"));\r\n            //}\r\n        }\r\n    }\r\n\r\n    public static warn(...message) {\r\n        var result = this._exec(\"warn\", arguments);\r\n\r\n        if (!result) {\r\n            this.log.apply(this, arguments);\r\n        }\r\n        else {\r\n            this._exec(\"trace\", [\"warn trace\"]);\r\n        }\r\n    }\r\n\r\n    private static _exec(consoleMethod, args, sliceBegin = 0) {\r\n        if (root.console && root.console[consoleMethod]) {\r\n            root.console[consoleMethod].apply(root.console, Array.prototype.slice.call(args, sliceBegin));\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}","// import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { Log as Log$ } from \"wonder-commonlib/dist/es2015/Log\";\r\n\r\n// @registerClass(\"Log\")\r\nexport class Log extends Log$ {\r\n}\r\n\r\n\r\nexport var error = (cond: boolean, ...messages): void => {\r\n    if (cond) {\r\n        /*!\r\n         console.error will not interrupt, it will throw error and continue exec the left statements\r\n\r\n         but here need interrupt! so not use it here.\r\n         */\r\n        //if (!this._exec(\"error\", arguments, 1)) {\r\n        throw new Error(messages.join(\"\\n\"));\r\n        //}\r\n    }\r\n}\r\n","export const CompileConfig = {\r\n    isCompileTest: true,\r\n    closeContractTest: false\r\n};","export class MainData {\r\n    public static isTest: boolean = false;\r\n}\r\n","import { Log } from \"../../../utils/Log\";\r\nimport { CompileConfig } from \"../../../config/CompileConfig\";\r\nimport { DirectorData } from \"../../../core/DirectorData\";\r\nimport { MainData } from \"../../../core/MainData\";\r\n\r\nvar _describeContext = null;\r\n\r\nvar getIsTest = () => {\r\n    return MainData.isTest;\r\n}\r\n\r\nexport function assert(cond: boolean, message: string = \"contract error\") {\r\n    Log.error(!cond, message);\r\n}\r\n\r\nexport function describe(message: string, func: Function, preCondition: Function = () => true, context: any = this) {\r\n    if (preCondition.call(context, null)) {\r\n        _describeContext = context;\r\n\r\n        try {\r\n            func.call(context, null);\r\n        }\r\n        catch (e) {\r\n            assert(false, `${message}->${e.message}`);\r\n        }\r\n        finally {\r\n            _describeContext = null;\r\n        }\r\n    }\r\n}\r\n\r\nexport function it(message: string, func: Function, context?: any) {\r\n    try {\r\n        if (arguments.length === 3) {\r\n            func.call(context, null);\r\n        }\r\n        else {\r\n            if (_describeContext) {\r\n                func.call(_describeContext, null);\r\n            }\r\n            else {\r\n                func();\r\n            }\r\n        }\r\n    }\r\n    catch (e) {\r\n        assert(false, `${message}->${e.message}`);\r\n    }\r\n}\r\n\r\nexport function requireCheck(inFunc) {\r\n    return function(target, name, descriptor) {\r\n        if (CompileConfig.isCompileTest) {\r\n            let value = descriptor.value;\r\n\r\n            descriptor.value = function(args) {\r\n                if (getIsTest()) {\r\n                    inFunc.apply(this, arguments);\r\n                }\r\n\r\n                return value.apply(this, arguments);\r\n            };\r\n        }\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function requireCheckFunc(checkFunc: Function, bodyFunc: Function) {\r\n    if (!CompileConfig.isCompileTest) {\r\n        return bodyFunc;\r\n    }\r\n\r\n    return (...paramArr) => {\r\n        if (!getIsTest()) {\r\n            return bodyFunc.apply(null, paramArr);\r\n        }\r\n\r\n        checkFunc.apply(null, paramArr);\r\n\r\n        return bodyFunc.apply(null, paramArr);\r\n    }\r\n}\r\n\r\nexport function ensure(outFunc) {\r\n    return function(target, name, descriptor) {\r\n        if (CompileConfig.isCompileTest) {\r\n            let value = descriptor.value;\r\n\r\n            descriptor.value = function(args) {\r\n                var result = value.apply(this, arguments);\r\n\r\n                if (getIsTest()) {\r\n\r\n                    var params = [result];\r\n\r\n                    for (let i = 0, len = arguments.length; i < len; i++) {\r\n                        params[i + 1] = arguments[i];\r\n                    }\r\n\r\n                    outFunc.apply(this, params);\r\n                }\r\n\r\n                return result;\r\n            }\r\n        }\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function ensureFunc(checkFunc: Function, bodyFunc: Function) {\r\n    if (!CompileConfig.isCompileTest) {\r\n        return bodyFunc;\r\n    }\r\n\r\n    return (...paramArr) => {\r\n        if (!getIsTest()) {\r\n            return bodyFunc.apply(null, paramArr);\r\n        }\r\n\r\n        let result = bodyFunc.apply(null, paramArr);\r\n\r\n        checkFunc.apply(null, [result].concat(paramArr));\r\n\r\n        return result;\r\n    }\r\n}\r\n\r\nexport function requireGetterAndSetter(inGetterFunc, inSetterFunc) {\r\n    return function(target, name, descriptor) {\r\n        if (CompileConfig.isCompileTest) {\r\n            let getter = descriptor.get,\r\n                setter = descriptor.set;\r\n\r\n            descriptor.get = function() {\r\n                if (getIsTest()) {\r\n                    inGetterFunc.call(this);\r\n                }\r\n\r\n                return getter.call(this);\r\n            };\r\n\r\n            descriptor.set = function(val) {\r\n                if (getIsTest()) {\r\n                    inSetterFunc.call(this, val);\r\n                }\r\n\r\n                setter.call(this, val);\r\n            };\r\n        }\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function requireGetter(inFunc) {\r\n    return function(target, name, descriptor) {\r\n        if (CompileConfig.isCompileTest) {\r\n            let getter = descriptor.get;\r\n\r\n            descriptor.get = function() {\r\n                if (getIsTest()) {\r\n                    inFunc.call(this);\r\n                }\r\n\r\n                return getter.call(this);\r\n            };\r\n\r\n        }\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function requireSetter(inFunc) {\r\n    return function(target, name, descriptor) {\r\n        if (CompileConfig.isCompileTest) {\r\n            let setter = descriptor.set;\r\n\r\n            descriptor.set = function(val) {\r\n                if (getIsTest()) {\r\n                    inFunc.call(this, val);\r\n                }\r\n\r\n                setter.call(this, val);\r\n            };\r\n        }\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function ensureGetterAndSetter(outGetterFunc, outSetterFunc) {\r\n    return function(target, name, descriptor) {\r\n        if (CompileConfig.isCompileTest) {\r\n            let getter = descriptor.get,\r\n                setter = descriptor.set;\r\n\r\n            descriptor.get = function() {\r\n                var result = getter.call(this);\r\n\r\n                if (getIsTest()) {\r\n                    outGetterFunc.call(this, result);\r\n                }\r\n\r\n                return result;\r\n            };\r\n\r\n            descriptor.set = function(val) {\r\n                var result = setter.call(this, val);\r\n\r\n                if (getIsTest()) {\r\n                    let params = [result, val];\r\n                    outSetterFunc.apply(this, params);\r\n                }\r\n            };\r\n        }\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function ensureGetter(outFunc) {\r\n    return function(target, name, descriptor) {\r\n        if (CompileConfig.isCompileTest) {\r\n            let getter = descriptor.get;\r\n\r\n            descriptor.get = function() {\r\n                var result = getter.call(this);\r\n\r\n                if (getIsTest()) {\r\n                    outFunc.call(this, result);\r\n                }\r\n\r\n                return result;\r\n            };\r\n        }\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function ensureSetter(outFunc) {\r\n    return function(target, name, descriptor) {\r\n        if (CompileConfig.isCompileTest) {\r\n            let setter = descriptor.set;\r\n\r\n            descriptor.set = function(val) {\r\n                var result = setter.call(this, val);\r\n\r\n                if (getIsTest()) {\r\n                    let params = [result, val];\r\n                    outFunc.apply(this, params);\r\n                }\r\n            };\r\n        }\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function invariant(func) {\r\n    return function(target) {\r\n        if (CompileConfig.isCompileTest) {\r\n            if (getIsTest()) {\r\n                func(target);\r\n            }\r\n        }\r\n    }\r\n}","(function (global, module) {\n\n  var exports = module.exports;\n\n  /**\n   * Exports.\n   */\n\n    /**\n     * modify by wonder\n     */\n  module.exports.expect = expect;\n\n\n\n\n  expect.Assertion = Assertion;\n\n  /**\n   * Exports version.\n   */\n\n  expect.version = '0.3.1';\n\n  /**\n   * Possible assertion flags.\n   */\n\n  var flags = {\n      not: ['to', 'be', 'have', 'include', 'only']\n    , to: ['be', 'have', 'include', 'only', 'not']\n    , only: ['have']\n    , have: ['own']\n    , be: ['an']\n  };\n\n  function expect (obj) {\n    return new Assertion(obj);\n  }\n\n  /**\n   * Constructor\n   *\n   * @api private\n   */\n\n  function Assertion (obj, flag, parent) {\n    this.obj = obj;\n    this.flags = {};\n\n    if (undefined != parent) {\n      this.flags[flag] = true;\n\n      for (var i in parent.flags) {\n        if (parent.flags.hasOwnProperty(i)) {\n          this.flags[i] = true;\n        }\n      }\n    }\n\n    var $flags = flag ? flags[flag] : keys(flags)\n      , self = this;\n\n    if ($flags) {\n      for (var i = 0, l = $flags.length; i < l; i++) {\n        // avoid recursion\n        if (this.flags[$flags[i]]) continue;\n\n        var name = $flags[i]\n          , assertion = new Assertion(this.obj, name, this)\n\n        if ('function' == typeof Assertion.prototype[name]) {\n          // clone the function, make sure we dont touch the prot reference\n          var old = this[name];\n          this[name] = function () {\n            return old.apply(self, arguments);\n          };\n\n          for (var fn in Assertion.prototype) {\n            if (Assertion.prototype.hasOwnProperty(fn) && fn != name) {\n                /*!\n                modify by wonder\n                 */\n              if(fn !== \"length\"){\n                  this[name][fn] = bind(assertion[fn], assertion);\n              }\n            }\n          }\n        } else {\n          this[name] = assertion;\n        }\n      }\n    }\n  }\n\n  /**\n   * Performs an assertion\n   *\n   * @api private\n   */\n\n  Assertion.prototype.assert = function (truth, msg, error, expected) {\n    var msg = this.flags.not ? error : msg\n      , ok = this.flags.not ? !truth : truth\n      , err;\n\n    if (!ok) {\n      err = new Error(msg.call(this));\n      if (arguments.length > 3) {\n        err.actual = this.obj;\n        err.expected = expected;\n        err.showDiff = true;\n      }\n      throw err;\n    }\n\n    this.and = new Assertion(this.obj);\n  };\n\n  /**\n   * Check if the value is truthy\n   *\n   * @api public\n   */\n\n  Assertion.prototype.ok = function () {\n    this.assert(\n        !!this.obj\n      , function(){ return 'expected ' + i(this.obj) + ' to be truthy' }\n      , function(){ return 'expected ' + i(this.obj) + ' to be falsy' });\n  };\n\n  /**\n   * Creates an anonymous function which calls fn with arguments.\n   *\n   * @api public\n   */\n\n  Assertion.prototype.withArgs = function() {\n    expect(this.obj).to.be.a('function');\n    var fn = this.obj;\n    var args = Array.prototype.slice.call(arguments);\n    return expect(function() { fn.apply(null, args); });\n  };\n\n  /**\n   * Assert that the function throws.\n   *\n   * @param {Function|RegExp} callback, or regexp to match error string against\n   * @api public\n   */\n\n  Assertion.prototype.throwError =\n  Assertion.prototype.throwException = function (fn) {\n    expect(this.obj).to.be.a('function');\n\n    var thrown = false\n      , not = this.flags.not;\n\n    try {\n      this.obj();\n    } catch (e) {\n      if (isRegExp(fn)) {\n        var subject = 'string' == typeof e ? e : e.message;\n        if (not) {\n          expect(subject).to.not.match(fn);\n        } else {\n          expect(subject).to.match(fn);\n        }\n      } else if ('function' == typeof fn) {\n        fn(e);\n      }\n      thrown = true;\n    }\n\n    if (isRegExp(fn) && not) {\n      // in the presence of a matcher, ensure the `not` only applies to\n      // the matching.\n      this.flags.not = false;\n    }\n\n    var name = this.obj.name || 'fn';\n    this.assert(\n        thrown\n      , function(){ return 'expected ' + name + ' to throw an exception' }\n      , function(){ return 'expected ' + name + ' not to throw an exception' });\n  };\n\n  /**\n   * Checks if the array is empty.\n   *\n   * @api public\n   */\n\n  Assertion.prototype.empty = function () {\n    var expectation;\n\n    if ('object' == typeof this.obj && null !== this.obj && !isArray(this.obj)) {\n      if ('number' == typeof this.obj.length) {\n        expectation = !this.obj.length;\n      } else {\n        expectation = !keys(this.obj).length;\n      }\n    } else {\n      if ('string' != typeof this.obj) {\n        expect(this.obj).to.be.an('object');\n      }\n\n      expect(this.obj).to.have.property('length');\n      expectation = !this.obj.length;\n    }\n\n    this.assert(\n        expectation\n      , function(){ return 'expected ' + i(this.obj) + ' to be empty' }\n      , function(){ return 'expected ' + i(this.obj) + ' to not be empty' });\n    return this;\n  };\n\n  /**\n   * Checks if the obj exactly equals another.\n   *\n   * @api public\n   */\n\n  Assertion.prototype.be =\n  Assertion.prototype.equal = function (obj) {\n    this.assert(\n        obj === this.obj\n      , function(){ return 'expected ' + i(this.obj) + ' to equal ' + i(obj) }\n      , function(){ return 'expected ' + i(this.obj) + ' to not equal ' + i(obj) });\n    return this;\n  };\n\n  /**\n   * Checks if the obj sortof equals another.\n   *\n   * @api public\n   */\n\n  Assertion.prototype.eql = function (obj) {\n    this.assert(\n        expect.eql(this.obj, obj)\n      , function(){ return 'expected ' + i(this.obj) + ' to sort of equal ' + i(obj) }\n      , function(){ return 'expected ' + i(this.obj) + ' to sort of not equal ' + i(obj) }\n      , obj);\n    return this;\n  };\n\n  /**\n   * Assert within start to finish (inclusive).\n   *\n   * @param {Number} start\n   * @param {Number} finish\n   * @api public\n   */\n\n  Assertion.prototype.within = function (start, finish) {\n    var range = start + '..' + finish;\n    this.assert(\n        this.obj >= start && this.obj <= finish\n      , function(){ return 'expected ' + i(this.obj) + ' to be within ' + range }\n      , function(){ return 'expected ' + i(this.obj) + ' to not be within ' + range });\n    return this;\n  };\n\n  /**\n   * Assert typeof / instance of\n   *\n   * @api public\n   */\n\n  Assertion.prototype.a =\n  Assertion.prototype.an = function (type) {\n    if ('string' == typeof type) {\n      // proper english in error msg\n      var n = /^[aeiou]/.test(type) ? 'n' : '';\n\n      // typeof with support for 'array'\n      this.assert(\n          'array' == type ? isArray(this.obj) :\n            'regexp' == type ? isRegExp(this.obj) :\n              'object' == type\n                ? 'object' == typeof this.obj && null !== this.obj\n                : type == typeof this.obj\n        , function(){ return 'expected ' + i(this.obj) + ' to be a' + n + ' ' + type }\n        , function(){ return 'expected ' + i(this.obj) + ' not to be a' + n + ' ' + type });\n    } else {\n      // instanceof\n      var name = type.name || 'supplied constructor';\n      this.assert(\n          this.obj instanceof type\n        , function(){ return 'expected ' + i(this.obj) + ' to be an instance of ' + name }\n        , function(){ return 'expected ' + i(this.obj) + ' not to be an instance of ' + name });\n    }\n\n    return this;\n  };\n\n  /**\n   * Assert numeric value above _n_.\n   *\n   * @param {Number} n\n   * @api public\n   */\n\n  Assertion.prototype.greaterThan =\n  Assertion.prototype.above = function (n) {\n    this.assert(\n        this.obj > n\n      , function(){ return 'expected ' + i(this.obj) + ' to be above ' + n }\n      , function(){ return 'expected ' + i(this.obj) + ' to be below ' + n });\n    return this;\n  };\n\n  /**\n   * Assert numeric value below _n_.\n   *\n   * @param {Number} n\n   * @api public\n   */\n\n  Assertion.prototype.lessThan =\n  Assertion.prototype.below = function (n) {\n    this.assert(\n        this.obj < n\n      , function(){ return 'expected ' + i(this.obj) + ' to be below ' + n }\n      , function(){ return 'expected ' + i(this.obj) + ' to be above ' + n });\n    return this;\n  };\n\n  /**\n   * Assert string value matches _regexp_.\n   *\n   * @param {RegExp} regexp\n   * @api public\n   */\n\n  Assertion.prototype.match = function (regexp) {\n    this.assert(\n        regexp.exec(this.obj)\n      , function(){ return 'expected ' + i(this.obj) + ' to match ' + regexp }\n      , function(){ return 'expected ' + i(this.obj) + ' not to match ' + regexp });\n    return this;\n  };\n\n  /**\n   * Assert property \"length\" exists and has value of _n_.\n   *\n   * @param {Number} n\n   * @api public\n   */\n\n  Assertion.prototype.length = function (n) {\n    expect(this.obj).to.have.property('length');\n    var len = this.obj.length;\n    this.assert(\n        n == len\n      , function(){ return 'expected ' + i(this.obj) + ' to have a length of ' + n + ' but got ' + len }\n      , function(){ return 'expected ' + i(this.obj) + ' to not have a length of ' + len });\n    return this;\n  };\n\n  /**\n   * Assert property _name_ exists, with optional _val_.\n   *\n   * @param {String} name\n   * @param {Mixed} val\n   * @api public\n   */\n\n  Assertion.prototype.property = function (name, val) {\n    if (this.flags.own) {\n      this.assert(\n          Object.prototype.hasOwnProperty.call(this.obj, name)\n        , function(){ return 'expected ' + i(this.obj) + ' to have own property ' + i(name) }\n        , function(){ return 'expected ' + i(this.obj) + ' to not have own property ' + i(name) });\n      return this;\n    }\n\n    if (this.flags.not && undefined !== val) {\n      if (undefined === this.obj[name]) {\n        throw new Error(i(this.obj) + ' has no property ' + i(name));\n      }\n    } else {\n      var hasProp;\n      try {\n        hasProp = name in this.obj\n      } catch (e) {\n        hasProp = undefined !== this.obj[name]\n      }\n\n      this.assert(\n          hasProp\n        , function(){ return 'expected ' + i(this.obj) + ' to have a property ' + i(name) }\n        , function(){ return 'expected ' + i(this.obj) + ' to not have a property ' + i(name) });\n    }\n\n    if (undefined !== val) {\n      this.assert(\n          val === this.obj[name]\n        , function(){ return 'expected ' + i(this.obj) + ' to have a property ' + i(name)\n          + ' of ' + i(val) + ', but got ' + i(this.obj[name]) }\n        , function(){ return 'expected ' + i(this.obj) + ' to not have a property ' + i(name)\n          + ' of ' + i(val) });\n    }\n\n    this.obj = this.obj[name];\n    return this;\n  };\n\n  /**\n   * Assert that the array contains _obj_ or string contains _obj_.\n   *\n   * @param {Mixed} obj|string\n   * @api public\n   */\n\n  Assertion.prototype.string =\n  Assertion.prototype.contain = function (obj) {\n    if ('string' == typeof this.obj) {\n      this.assert(\n          ~this.obj.indexOf(obj)\n        , function(){ return 'expected ' + i(this.obj) + ' to contain ' + i(obj) }\n        , function(){ return 'expected ' + i(this.obj) + ' to not contain ' + i(obj) });\n    } else {\n      this.assert(\n          ~indexOf(this.obj, obj)\n        , function(){ return 'expected ' + i(this.obj) + ' to contain ' + i(obj) }\n        , function(){ return 'expected ' + i(this.obj) + ' to not contain ' + i(obj) });\n    }\n    return this;\n  };\n\n  /**\n   * Assert exact keys or inclusion of keys by using\n   * the `.own` modifier.\n   *\n   * @param {Array|String ...} keys\n   * @api public\n   */\n\n  Assertion.prototype.key =\n  Assertion.prototype.keys = function ($keys) {\n    var str\n      , ok = true;\n\n    $keys = isArray($keys)\n      ? $keys\n      : Array.prototype.slice.call(arguments);\n\n    if (!$keys.length) throw new Error('keys required');\n\n    var actual = keys(this.obj)\n      , len = $keys.length;\n\n    // Inclusion\n    ok = every($keys, function (key) {\n      return ~indexOf(actual, key);\n    });\n\n    // Strict\n    if (!this.flags.not && this.flags.only) {\n      ok = ok && $keys.length == actual.length;\n    }\n\n    // Key string\n    if (len > 1) {\n      $keys = map($keys, function (key) {\n        return i(key);\n      });\n      var last = $keys.pop();\n      str = $keys.join(', ') + ', and ' + last;\n    } else {\n      str = i($keys[0]);\n    }\n\n    // Form\n    str = (len > 1 ? 'keys ' : 'key ') + str;\n\n    // Have / include\n    str = (!this.flags.only ? 'include ' : 'only have ') + str;\n\n    // Assertion\n    this.assert(\n        ok\n      , function(){ return 'expected ' + i(this.obj) + ' to ' + str }\n      , function(){ return 'expected ' + i(this.obj) + ' to not ' + str });\n\n    return this;\n  };\n\n  /**\n   * Assert a failure.\n   *\n   * @param {String ...} custom message\n   * @api public\n   */\n  Assertion.prototype.fail = function (msg) {\n    var error = function() { return msg || \"explicit failure\"; }\n    this.assert(false, error, error);\n    return this;\n  };\n\n\n\n\n\n\n\n    /**\n     * extend by wonder\n     */\n\n\n    function addProperty(name, fn) {\n        Object.defineProperty(Assertion.prototype, name, {\n            get: function addProperty() {\n                return fn.call(this);\n            },\n            configurable: true\n        });\n    }\n\n\n\n    Assertion.prototype.lte = function (n) {\n        this.assert(\n            this.obj <= n\n            , function(){ return 'expected ' + i(this.obj) + ' to be <= ' + n }\n            , function(){ return 'expected ' + i(this.obj) + ' to be > ' + n });\n        return this;\n    };\n\n    Assertion.prototype.gte = function (n) {\n        this.assert(\n            this.obj >= n\n            , function(){ return 'expected ' + i(this.obj) + ' to be >= ' + n }\n            , function(){ return 'expected ' + i(this.obj) + ' to be < ' + n });\n        return this;\n    };\n\n\n    addProperty(\"exist\",  function () {\n        this.assert(\n            this.obj !== null && this.obj !== undefined\n            , function(){ return 'expected ' + i(this.obj) + ' to be exist' }\n            , function(){ return 'expected ' + i(this.obj) + ' to not exist' });\n        return this;\n    });\n\n    addProperty(\"true\",  function () {\n        this.assert(\n            this.obj === true\n            , function(){ return 'expected ' + i(this.obj) + ' to be true' }\n            , function(){ return 'expected ' + i(this.obj) + ' to be false' });\n        return this;\n    });\n\n    addProperty(\"false\",  function () {\n        this.assert(\n            this.obj === false\n            , function(){ return 'expected ' + i(this.obj) + ' to be false' }\n            , function(){ return 'expected ' + i(this.obj) + ' to be true' });\n        return this;\n    });\n\n\n\n\n\n\n\n\n\n\n  /**\n   * Function bind implementation.\n   */\n\n  function bind (fn, scope) {\n    return function () {\n      return fn.apply(scope, arguments);\n    }\n  }\n\n  /**\n   * Array every compatibility\n   *\n   * @see bit.ly/5Fq1N2\n   * @api public\n   */\n\n  function every (arr, fn, thisObj) {\n    var scope = thisObj || global;\n    for (var i = 0, j = arr.length; i < j; ++i) {\n      if (!fn.call(scope, arr[i], i, arr)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Array indexOf compatibility.\n   *\n   * @see bit.ly/a5Dxa2\n   * @api public\n   */\n\n  function indexOf (arr, o, i) {\n    if (Array.prototype.indexOf) {\n      return Array.prototype.indexOf.call(arr, o, i);\n    }\n\n    if (arr.length === undefined) {\n      return -1;\n    }\n\n    for (var j = arr.length, i = i < 0 ? i + j < 0 ? 0 : i + j : i || 0\n        ; i < j && arr[i] !== o; i++);\n\n    return j <= i ? -1 : i;\n  }\n\n  // https://gist.github.com/1044128/\n  var getOuterHTML = function(element) {\n    if ('outerHTML' in element) return element.outerHTML;\n    var ns = \"http://www.w3.org/1999/xhtml\";\n    var container = document.createElementNS(ns, '_');\n    var xmlSerializer = new XMLSerializer();\n    var html;\n    if (document.xmlVersion) {\n      return xmlSerializer.serializeToString(element);\n    } else {\n      container.appendChild(element.cloneNode(false));\n      html = container.innerHTML.replace('><', '>' + element.innerHTML + '<');\n      container.innerHTML = '';\n      return html;\n    }\n  };\n\n  // Returns true if object is a DOM element.\n  var isDOMElement = function (object) {\n    if (typeof HTMLElement === 'object') {\n      return object instanceof HTMLElement;\n    } else {\n      return object &&\n        typeof object === 'object' &&\n        object.nodeType === 1 &&\n        typeof object.nodeName === 'string';\n    }\n  };\n\n  /**\n   * Inspects an object.\n   *\n   * @see taken from node.js `util` module (copyright Joyent, MIT license)\n   * @api private\n   */\n\n  function i (obj, showHidden, depth) {\n    var seen = [];\n\n    function stylize (str) {\n      return str;\n    }\n\n    function format (value, recurseTimes) {\n      // Provide a hook for user-specified inspect functions.\n      // Check that value is an object with an inspect function on it\n      if (value && typeof value.inspect === 'function' &&\n          // Filter out the util module, it's inspect function is special\n          value !== exports &&\n          // Also filter out any prototype objects using the circular check.\n          !(value.constructor && value.constructor.prototype === value)) {\n        return value.inspect(recurseTimes);\n      }\n\n      // Primitive types cannot have properties\n      switch (typeof value) {\n        case 'undefined':\n          return stylize('undefined', 'undefined');\n\n        case 'string':\n          var simple = '\\'' + json.stringify(value).replace(/^\"|\"$/g, '')\n                                                   .replace(/'/g, \"\\\\'\")\n                                                   .replace(/\\\\\"/g, '\"') + '\\'';\n          return stylize(simple, 'string');\n\n        case 'number':\n          return stylize('' + value, 'number');\n\n        case 'boolean':\n          return stylize('' + value, 'boolean');\n      }\n      // For some reason typeof null is \"object\", so special case here.\n      if (value === null) {\n        return stylize('null', 'null');\n      }\n\n      if (isDOMElement(value)) {\n        return getOuterHTML(value);\n      }\n\n      // Look up the keys of the object.\n      var visible_keys = keys(value);\n      var $keys = showHidden ? Object.getOwnPropertyNames(value) : visible_keys;\n\n      // Functions without properties can be shortcutted.\n      if (typeof value === 'function' && $keys.length === 0) {\n        if (isRegExp(value)) {\n          return stylize('' + value, 'regexp');\n        } else {\n          var name = value.name ? ': ' + value.name : '';\n          return stylize('[Function' + name + ']', 'special');\n        }\n      }\n\n      // Dates without properties can be shortcutted\n      if (isDate(value) && $keys.length === 0) {\n        return stylize(value.toUTCString(), 'date');\n      }\n\n      // Error objects can be shortcutted\n      if (value instanceof Error) {\n        return stylize(\"[\"+value.toString()+\"]\", 'Error');\n      }\n\n      var base, type, braces;\n      // Determine the object type\n      if (isArray(value)) {\n        type = 'Array';\n        braces = ['[', ']'];\n      } else {\n        type = 'Object';\n        braces = ['{', '}'];\n      }\n\n      // Make functions say that they are functions\n      if (typeof value === 'function') {\n        var n = value.name ? ': ' + value.name : '';\n        base = (isRegExp(value)) ? ' ' + value : ' [Function' + n + ']';\n      } else {\n        base = '';\n      }\n\n      // Make dates with properties first say the date\n      if (isDate(value)) {\n        base = ' ' + value.toUTCString();\n      }\n\n      if ($keys.length === 0) {\n        return braces[0] + base + braces[1];\n      }\n\n      if (recurseTimes < 0) {\n        if (isRegExp(value)) {\n          return stylize('' + value, 'regexp');\n        } else {\n          return stylize('[Object]', 'special');\n        }\n      }\n\n      seen.push(value);\n\n      var output = map($keys, function (key) {\n        var name, str;\n        if (value.__lookupGetter__) {\n          if (value.__lookupGetter__(key)) {\n            if (value.__lookupSetter__(key)) {\n              str = stylize('[Getter/Setter]', 'special');\n            } else {\n              str = stylize('[Getter]', 'special');\n            }\n          } else {\n            if (value.__lookupSetter__(key)) {\n              str = stylize('[Setter]', 'special');\n            }\n          }\n        }\n        if (indexOf(visible_keys, key) < 0) {\n          name = '[' + key + ']';\n        }\n        if (!str) {\n          if (indexOf(seen, value[key]) < 0) {\n            if (recurseTimes === null) {\n              str = format(value[key]);\n            } else {\n              str = format(value[key], recurseTimes - 1);\n            }\n            if (str.indexOf('\\n') > -1) {\n              if (isArray(value)) {\n                str = map(str.split('\\n'), function (line) {\n                  return '  ' + line;\n                }).join('\\n').substr(2);\n              } else {\n                str = '\\n' + map(str.split('\\n'), function (line) {\n                  return '   ' + line;\n                }).join('\\n');\n              }\n            }\n          } else {\n            str = stylize('[Circular]', 'special');\n          }\n        }\n        if (typeof name === 'undefined') {\n          if (type === 'Array' && key.match(/^\\d+$/)) {\n            return str;\n          }\n          name = json.stringify('' + key);\n          if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n            name = name.substr(1, name.length - 2);\n            name = stylize(name, 'name');\n          } else {\n            name = name.replace(/'/g, \"\\\\'\")\n                       .replace(/\\\\\"/g, '\"')\n                       .replace(/(^\"|\"$)/g, \"'\");\n            name = stylize(name, 'string');\n          }\n        }\n\n        return name + ': ' + str;\n      });\n\n      seen.pop();\n\n      var numLinesEst = 0;\n      var length = reduce(output, function (prev, cur) {\n        numLinesEst++;\n        if (indexOf(cur, '\\n') >= 0) numLinesEst++;\n        return prev + cur.length + 1;\n      }, 0);\n\n      if (length > 50) {\n        output = braces[0] +\n                 (base === '' ? '' : base + '\\n ') +\n                 ' ' +\n                 output.join(',\\n  ') +\n                 ' ' +\n                 braces[1];\n\n      } else {\n        output = braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n      }\n\n      return output;\n    }\n    return format(obj, (typeof depth === 'undefined' ? 2 : depth));\n  }\n\n  expect.stringify = i;\n\n  function isArray (ar) {\n    return Object.prototype.toString.call(ar) === '[object Array]';\n  }\n\n  function isRegExp(re) {\n    var s;\n    try {\n      s = '' + re;\n    } catch (e) {\n      return false;\n    }\n\n    return re instanceof RegExp || // easy case\n           // duck-type for context-switching evalcx case\n           typeof(re) === 'function' &&\n           re.constructor.name === 'RegExp' &&\n           re.compile &&\n           re.test &&\n           re.exec &&\n           s.match(/^\\/.*\\/[gim]{0,3}$/);\n  }\n\n  function isDate(d) {\n    return d instanceof Date;\n  }\n\n  function keys (obj) {\n    if (Object.keys) {\n      return Object.keys(obj);\n    }\n\n    var keys = [];\n\n    for (var i in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, i)) {\n        keys.push(i);\n      }\n    }\n\n    return keys;\n  }\n\n  function map (arr, mapper, that) {\n    if (Array.prototype.map) {\n      return Array.prototype.map.call(arr, mapper, that);\n    }\n\n    var other= new Array(arr.length);\n\n    for (var i= 0, n = arr.length; i<n; i++)\n      if (i in arr)\n        other[i] = mapper.call(that, arr[i], i, arr);\n\n    return other;\n  }\n\n  function reduce (arr, fun) {\n    if (Array.prototype.reduce) {\n      return Array.prototype.reduce.apply(\n          arr\n        , Array.prototype.slice.call(arguments, 1)\n      );\n    }\n\n    var len = +this.length;\n\n    if (typeof fun !== \"function\")\n      throw new TypeError();\n\n    // no value to return if no initial value and an empty array\n    if (len === 0 && arguments.length === 1)\n      throw new TypeError();\n\n    var i = 0;\n    if (arguments.length >= 2) {\n      var rv = arguments[1];\n    } else {\n      do {\n        if (i in this) {\n          rv = this[i++];\n          break;\n        }\n\n        // if array contains no values, no initial value to return\n        if (++i >= len)\n          throw new TypeError();\n      } while (true);\n    }\n\n    for (; i < len; i++) {\n      if (i in this)\n        rv = fun.call(null, rv, this[i], i, this);\n    }\n\n    return rv;\n  }\n\n  /**\n   * Asserts deep equality\n   *\n   * @see taken from node.js `assert` module (copyright Joyent, MIT license)\n   * @api private\n   */\n\n  expect.eql = function eql(actual, expected) {\n    // 7.1. All identical values are equivalent, as determined by ===.\n    if (actual === expected) {\n      return true;\n    } else if ('undefined' != typeof Buffer\n      && Buffer.isBuffer(actual) && Buffer.isBuffer(expected)) {\n      if (actual.length != expected.length) return false;\n\n      for (var i = 0; i < actual.length; i++) {\n        if (actual[i] !== expected[i]) return false;\n      }\n\n      return true;\n\n      // 7.2. If the expected value is a Date object, the actual value is\n      // equivalent if it is also a Date object that refers to the same time.\n    } else if (actual instanceof Date && expected instanceof Date) {\n      return actual.getTime() === expected.getTime();\n\n      // 7.3. Other pairs that do not both pass typeof value == \"object\",\n      // equivalence is determined by ==.\n    } else if (typeof actual != 'object' && typeof expected != 'object') {\n      return actual == expected;\n    // If both are regular expression use the special `regExpEquiv` method\n    // to determine equivalence.\n    } else if (isRegExp(actual) && isRegExp(expected)) {\n      return regExpEquiv(actual, expected);\n    // 7.4. For all other Object pairs, including Array objects, equivalence is\n    // determined by having the same number of owned properties (as verified\n    // with Object.prototype.hasOwnProperty.call), the same set of keys\n    // (although not necessarily the same order), equivalent values for every\n    // corresponding key, and an identical \"prototype\" property. Note: this\n    // accounts for both named and indexed properties on Arrays.\n    } else {\n      return objEquiv(actual, expected);\n    }\n  };\n\n  function isUndefinedOrNull (value) {\n    return value === null || value === undefined;\n  }\n\n  function isArguments (object) {\n    return Object.prototype.toString.call(object) == '[object Arguments]';\n  }\n\n  function regExpEquiv (a, b) {\n    return a.source === b.source && a.global === b.global &&\n           a.ignoreCase === b.ignoreCase && a.multiline === b.multiline;\n  }\n\n  function objEquiv (a, b) {\n    if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n      return false;\n    // an identical \"prototype\" property.\n    if (a.prototype !== b.prototype) return false;\n    //~~~I've managed to break Object.keys through screwy arguments passing.\n    //   Converting to array solves the problem.\n    if (isArguments(a)) {\n      if (!isArguments(b)) {\n        return false;\n      }\n      a = pSlice.call(a);\n      b = pSlice.call(b);\n      return expect.eql(a, b);\n    }\n    try{\n      var ka = keys(a),\n        kb = keys(b),\n        key, i;\n    } catch (e) {//happens when one is a string literal and the other isn't\n      return false;\n    }\n    // having the same number of owned properties (keys incorporates hasOwnProperty)\n    if (ka.length != kb.length)\n      return false;\n    //the same set of keys (although not necessarily the same order),\n    ka.sort();\n    kb.sort();\n    //~~~cheap key test\n    for (i = ka.length - 1; i >= 0; i--) {\n      if (ka[i] != kb[i])\n        return false;\n    }\n    //equivalent values for every corresponding key, and\n    //~~~possibly expensive deep test\n    for (i = ka.length - 1; i >= 0; i--) {\n      key = ka[i];\n      if (!expect.eql(a[key], b[key]))\n         return false;\n    }\n    return true;\n  }\n\n  var json = (function () {\n    \"use strict\";\n\n    if ('object' == typeof JSON && JSON.parse && JSON.stringify) {\n      return {\n          parse: nativeJSON.parse\n        , stringify: nativeJSON.stringify\n      }\n    }\n\n    var JSON = {};\n\n    function f(n) {\n        // Format integers to have at least two digits.\n        return n < 10 ? '0' + n : n;\n    }\n\n    function date(d, key) {\n      return isFinite(d.valueOf()) ?\n          d.getUTCFullYear()     + '-' +\n          f(d.getUTCMonth() + 1) + '-' +\n          f(d.getUTCDate())      + 'T' +\n          f(d.getUTCHours())     + ':' +\n          f(d.getUTCMinutes())   + ':' +\n          f(d.getUTCSeconds())   + 'Z' : null;\n    }\n\n    var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        gap,\n        indent,\n        meta = {    // table of character substitutions\n            '\\b': '\\\\b',\n            '\\t': '\\\\t',\n            '\\n': '\\\\n',\n            '\\f': '\\\\f',\n            '\\r': '\\\\r',\n            '\"' : '\\\\\"',\n            '\\\\': '\\\\\\\\'\n        },\n        rep;\n\n\n    function quote(string) {\n\n  // If the string contains no control characters, no quote characters, and no\n  // backslash characters, then we can safely slap some quotes around it.\n  // Otherwise we must also replace the offending characters with safe escape\n  // sequences.\n\n        escapable.lastIndex = 0;\n        return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n            var c = meta[a];\n            return typeof c === 'string' ? c :\n                '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n        }) + '\"' : '\"' + string + '\"';\n    }\n\n\n    function str(key, holder) {\n\n  // Produce a string from holder[key].\n\n        var i,          // The loop counter.\n            k,          // The member key.\n            v,          // The member value.\n            length,\n            mind = gap,\n            partial,\n            value = holder[key];\n\n  // If the value has a toJSON method, call it to obtain a replacement value.\n\n        if (value instanceof Date) {\n            value = date(key);\n        }\n\n  // If we were called with a replacer function, then call the replacer to\n  // obtain a replacement value.\n\n        if (typeof rep === 'function') {\n            value = rep.call(holder, key, value);\n        }\n\n  // What happens next depends on the value's type.\n\n        switch (typeof value) {\n        case 'string':\n            return quote(value);\n\n        case 'number':\n\n  // JSON numbers must be finite. Encode non-finite numbers as null.\n\n            return isFinite(value) ? String(value) : 'null';\n\n        case 'boolean':\n        case 'null':\n\n  // If the value is a boolean or null, convert it to a string. Note:\n  // typeof null does not produce 'null'. The case is included here in\n  // the remote chance that this gets fixed someday.\n\n            return String(value);\n\n  // If the type is 'object', we might be dealing with an object or an array or\n  // null.\n\n        case 'object':\n\n  // Due to a specification blunder in ECMAScript, typeof null is 'object',\n  // so watch out for that case.\n\n            if (!value) {\n                return 'null';\n            }\n\n  // Make an array to hold the partial results of stringifying this object value.\n\n            gap += indent;\n            partial = [];\n\n  // Is the value an array?\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n\n  // The value is an array. Stringify every element. Use null as a placeholder\n  // for non-JSON values.\n\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n\n  // Join all of the elements together, separated with commas, and wrap them in\n  // brackets.\n\n                v = partial.length === 0 ? '[]' : gap ?\n                    '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']' :\n                    '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n\n  // If the replacer is an array, use it to select the members to be stringified.\n\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    if (typeof rep[i] === 'string') {\n                        k = rep[i];\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            } else {\n\n  // Otherwise, iterate through all of the keys in the object.\n\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n\n  // Join all of the member texts together, separated with commas,\n  // and wrap them in braces.\n\n            v = partial.length === 0 ? '{}' : gap ?\n                '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + '}' :\n                '{' + partial.join(',') + '}';\n            gap = mind;\n            return v;\n        }\n    }\n\n  // If the JSON object does not yet have a stringify method, give it one.\n\n    JSON.stringify = function (value, replacer, space) {\n\n  // The stringify method takes a value and an optional replacer, and an optional\n  // space parameter, and returns a JSON text. The replacer can be a function\n  // that can replace values, or an array of strings that will select the keys.\n  // A default replacer method can be provided. Use of the space parameter can\n  // produce text that is more easily readable.\n\n        var i;\n        gap = '';\n        indent = '';\n\n  // If the space parameter is a number, make an indent string containing that\n  // many spaces.\n\n        if (typeof space === 'number') {\n            for (i = 0; i < space; i += 1) {\n                indent += ' ';\n            }\n\n  // If the space parameter is a string, it will be used as the indent string.\n\n        } else if (typeof space === 'string') {\n            indent = space;\n        }\n\n  // If there is a replacer, it must be a function or an array.\n  // Otherwise, throw an error.\n\n        rep = replacer;\n        if (replacer && typeof replacer !== 'function' &&\n                (typeof replacer !== 'object' ||\n                typeof replacer.length !== 'number')) {\n            throw new Error('JSON.stringify');\n        }\n\n  // Make a fake root object containing our value under the key of ''.\n  // Return the result of stringifying the value.\n\n        return str('', {'': value});\n    };\n\n  // If the JSON object does not yet have a parse method, give it one.\n\n    JSON.parse = function (text, reviver) {\n    // The parse method takes a text and an optional reviver function, and returns\n    // a JavaScript value if the text is a valid JSON text.\n\n        var j;\n\n        function walk(holder, key) {\n\n    // The walk method is used to recursively walk the resulting structure so\n    // that modifications can be made.\n\n            var k, v, value = holder[key];\n            if (value && typeof value === 'object') {\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = walk(value, k);\n                        if (v !== undefined) {\n                            value[k] = v;\n                        } else {\n                            delete value[k];\n                        }\n                    }\n                }\n            }\n            return reviver.call(holder, key, value);\n        }\n\n\n    // Parsing happens in four stages. In the first stage, we replace certain\n    // Unicode characters with escape sequences. JavaScript handles many characters\n    // incorrectly, either silently deleting them, or treating them as line endings.\n\n        text = String(text);\n        cx.lastIndex = 0;\n        if (cx.test(text)) {\n            text = text.replace(cx, function (a) {\n                return '\\\\u' +\n                    ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n            });\n        }\n\n    // In the second stage, we run the text against regular expressions that look\n    // for non-JSON patterns. We are especially concerned with '()' and 'new'\n    // because they can cause invocation, and '=' because it can cause mutation.\n    // But just to be safe, we want to reject all unexpected forms.\n\n    // We split the second stage into 4 regexp operations in order to work around\n    // crippling inefficiencies in IE's and Safari's regexp engines. First we\n    // replace the JSON backslash pairs with '@' (a non-JSON character). Second, we\n    // replace all simple value tokens with ']' characters. Third, we delete all\n    // open brackets that follow a colon or comma or that begin the text. Finally,\n    // we look to see that the remaining characters are only whitespace or ']' or\n    // ',' or ':' or '{' or '}'. If that is so, then the text is safe for eval.\n\n        if (/^[\\],:{}\\s]*$/\n                .test(text.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@')\n                    .replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, ']')\n                    .replace(/(?:^|:|,)(?:\\s*\\[)+/g, ''))) {\n\n    // In the third stage we use the eval function to compile the text into a\n    // JavaScript structure. The '{' operator is subject to a syntactic ambiguity\n    // in JavaScript: it can begin a block or an object literal. We wrap the text\n    // in parens to eliminate the ambiguity.\n\n            j = eval('(' + text + ')');\n\n    // In the optional fourth stage, we recursively walk the new structure, passing\n    // each name/value pair to a reviver function for possible transformation.\n\n            return typeof reviver === 'function' ?\n                walk({'': j}, '') : j;\n        }\n\n    // If the text is not JSON parseable, then a SyntaxError is thrown.\n\n        throw new SyntaxError('JSON.parse');\n    };\n\n    return JSON;\n  })();\n\n  if ('undefined' != typeof window) {\n      /**\n       * modify by wonder\n       */\n      if(!window.expect){\n          window.expect = module.exports.expect;\n      }\n  }\n\n})(\n    this\n  , 'undefined' != typeof module ? module : {exports: {}}\n);\n","export const $BREAK = {\r\n    break: true\r\n};\r\nexport const $REMOVE = void 0;","import { JudgeUtils } from \"./utils/JudgeUtils\";\r\nimport { $BREAK } from \"./global/Const\";\r\n\r\nexport class List<T> {\r\n    protected children: Array<T> = null;\r\n\r\n    public getCount(): number {\r\n        return this.children.length;\r\n    }\r\n\r\n    public hasChild(child: any): boolean {\r\n        var c: any = null,\r\n            children = this.children;\r\n\r\n        for (let i = 0, len = children.length; i < len; i++) {\r\n            c = children[i];\r\n\r\n            if (child.uid && c.uid && child.uid == c.uid) {\r\n                return true;\r\n            }\r\n            else if (child === c) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public hasChildWithFunc(func: Function): boolean {\r\n        for (let i = 0, len = this.children.length; i < len; i++) {\r\n            if (func(this.children[i], i)) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\n    public getChildren() {\r\n        return this.children;\r\n    }\r\n\r\n    public getChild(index: number) {\r\n        return this.children[index];\r\n    }\r\n\r\n    public addChild(child: T) {\r\n        this.children.push(child);\r\n\r\n        return this;\r\n    }\r\n\r\n    public addChildren(arg: Array<T> | List<T> | any) {\r\n        if (JudgeUtils.isArray(arg)) {\r\n            let children: Array<T> = arg;\r\n\r\n            this.children = this.children.concat(children);\r\n        }\r\n        else if (arg instanceof List) {\r\n            let children: List<T> = arg;\r\n\r\n            this.children = this.children.concat(children.getChildren());\r\n        }\r\n        else {\r\n            let child: any = arg;\r\n\r\n            this.addChild(child);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    //todo test\r\n    public setChildren(children: Array<T>) {\r\n        this.children = children;\r\n\r\n        return this;\r\n    }\r\n\r\n    public unShiftChild(child: T) {\r\n        this.children.unshift(child);\r\n    }\r\n\r\n    public removeAllChildren() {\r\n        this.children = [];\r\n\r\n        return this;\r\n    }\r\n\r\n    public forEach(func: Function, context?: any) {\r\n        this._forEach(this.children, func, context);\r\n\r\n        return this;\r\n    }\r\n\r\n    //public removeChildAt (index) {\r\n    //    Log.error(index < 0, \"序号必须大于等于0\");\r\n    //\r\n    //    this.children.splice(index, 1);\r\n    //}\r\n    //\r\n\r\n    public toArray() {\r\n        return this.children;\r\n    }\r\n\r\n    protected copyChildren() {\r\n        return this.children.slice(0);\r\n    }\r\n\r\n    protected removeChildHelper(arg: any): Array<T> {\r\n        var result = null;\r\n\r\n        if (JudgeUtils.isFunction(arg)) {\r\n            let func = <Function>arg;\r\n\r\n            result = this._removeChild(this.children, func);\r\n        }\r\n        else if (arg.uid) {\r\n            result = this._removeChild(this.children, (e) => {\r\n                if (!e.uid) {\r\n                    return false;\r\n                }\r\n                return e.uid === arg.uid;\r\n            });\r\n        }\r\n        else {\r\n            result = this._removeChild(this.children, (e) => {\r\n                return e === arg;\r\n            });\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    private _forEach(arr: T[], func: Function, context?: any) {\r\n        var scope = context,\r\n            i = 0,\r\n            len = arr.length;\r\n\r\n\r\n        for (i = 0; i < len; i++) {\r\n            if (func.call(scope, arr[i], i) === $BREAK) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private _removeChild(arr: T[], func: Function) {\r\n        var self = this,\r\n            removedElementArr = [],\r\n            remainElementArr = [];\r\n\r\n        this._forEach(arr, (e, index) => {\r\n            if (!!func.call(self, e)) {\r\n                removedElementArr.push(e);\r\n            }\r\n            else {\r\n                remainElementArr.push(e);\r\n            }\r\n        });\r\n\r\n        this.children = remainElementArr;\r\n\r\n        return removedElementArr;\r\n    }\r\n}","import { JudgeUtils } from \"./JudgeUtils\";\r\n\r\nexport class ExtendUtils {\r\n    /**\r\n     * 深拷贝\r\n     *\r\n     * 示例：\r\n     * 如果拷贝对象为数组，能够成功拷贝（不拷贝Array原型链上的成员）\r\n     * expect(extend.extendDeep([1, { x: 1, y: 1 }, \"a\", { x: 2 }, [2]])).toEqual([1, { x: 1, y: 1 }, \"a\", { x: 2 }, [2]]);\r\n     *\r\n     * 如果拷贝对象为对象，能够成功拷贝（能拷贝原型链上的成员）\r\n     * var result = null;\r\n     function A() {\r\n            };\r\n     A.prototype.a = 1;\r\n\r\n     function B() {\r\n            };\r\n     B.prototype = new A();\r\n     B.prototype.b = { x: 1, y: 1 };\r\n     B.prototype.c = [{ x: 1 }, [2]];\r\n\r\n     var t = new B();\r\n\r\n     result = extend.extendDeep(t);\r\n\r\n     expect(result).toEqual(\r\n     {\r\n         a: 1,\r\n         b: { x: 1, y: 1 },\r\n         c: [{ x: 1 }, [2]]\r\n     });\r\n     * @param parent\r\n     * @param child\r\n     * @returns\r\n     */\r\n    public static extendDeep(parent, child?, filter = function(val, i) { return true; }) {\r\n        var i = null,\r\n            len = 0,\r\n            toStr = Object.prototype.toString,\r\n            sArr = \"[object Array]\",\r\n            sOb = \"[object Object]\",\r\n            type = \"\",\r\n            _child = null;\r\n\r\n        //数组的话，不获得Array原型上的成员。\r\n        if (toStr.call(parent) === sArr) {\r\n            _child = child || [];\r\n\r\n            for (i = 0, len = parent.length; i < len; i++) {\r\n                let member = parent[i];\r\n\r\n                if (!filter(member, i)) {\r\n                    continue;\r\n                }\r\n\r\n                if (member.clone) {\r\n                    _child[i] = member.clone();\r\n                    continue;\r\n                }\r\n\r\n                type = toStr.call(member);\r\n                if (type === sArr || type === sOb) {    //如果为数组或object对象\r\n                    _child[i] = type === sArr ? [] : {};\r\n                    ExtendUtils.extendDeep(member, _child[i]);\r\n                } else {\r\n                    _child[i] = member;\r\n                }\r\n            }\r\n        }\r\n        //对象的话，要获得原型链上的成员。因为考虑以下情景：\r\n        //类A继承于类B，现在想要拷贝类A的实例a的成员（包括从类B继承来的成员），那么就需要获得原型链上的成员。\r\n        else if (toStr.call(parent) === sOb) {\r\n            _child = child || {};\r\n\r\n            for (i in parent) {\r\n                let member = parent[i];\r\n\r\n                if (!filter(member, i)) {\r\n                    continue;\r\n                }\r\n\r\n                if (member.clone) {\r\n                    _child[i] = member.clone();\r\n                    continue;\r\n                }\r\n\r\n                type = toStr.call(member);\r\n                if (type === sArr || type === sOb) {    //如果为数组或object对象\r\n                    _child[i] = type === sArr ? [] : {};\r\n                    ExtendUtils.extendDeep(member, _child[i]);\r\n                } else {\r\n                    _child[i] = member;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            _child = parent;\r\n        }\r\n\r\n        return _child;\r\n    }\r\n\r\n    /**\r\n     * 浅拷贝\r\n     */\r\n    public static extend(destination: any, source: any) {\r\n        var property = \"\";\r\n\r\n        for (property in source) {\r\n            destination[property] = source[property];\r\n        }\r\n        return destination;\r\n    }\r\n\r\n    public static copyPublicAttri(source: any) {\r\n        var property = null,\r\n            destination = {};\r\n\r\n        this.extendDeep(source, destination, function(item, property) {\r\n            return property.slice(0, 1) !== \"_\"\r\n                && !JudgeUtils.isFunction(item);\r\n        });\r\n\r\n        return destination;\r\n    }\r\n}","import { List } from \"./List\";\r\nimport { JudgeUtils } from \"./utils/JudgeUtils\";\r\nimport { ExtendUtils } from \"./utils/ExtendUtils\";\r\nimport { $BREAK, $REMOVE } from \"./global/Const\";\r\n\r\nexport class Collection<T> extends List<T>{\r\n    public static create<T>(children = []) {\r\n        var obj = new this(<Array<T>>children);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(children: Array<T> = []) {\r\n        super();\r\n\r\n        this.children = children;\r\n    }\r\n\r\n    public clone();\r\n    public clone(isDeep: boolean);\r\n    public clone(target: Collection<T>);\r\n    public clone(target: Collection<T>, isDeep: boolean);\r\n\r\n    public clone(...args) {\r\n        var target: Collection<T> = null,\r\n            isDeep: boolean = null;\r\n\r\n        if (args.length === 0) {\r\n            isDeep = false;\r\n            target = Collection.create<T>();\r\n        }\r\n        else if (args.length === 1) {\r\n            if (JudgeUtils.isBoolean(args[0])) {\r\n                target = Collection.create<T>();\r\n                isDeep = args[0];\r\n            }\r\n            else {\r\n                target = args[0];\r\n                isDeep = false;\r\n            }\r\n        }\r\n        else {\r\n            target = args[0];\r\n            isDeep = args[1];\r\n        }\r\n\r\n        if (isDeep === true) {\r\n            target.setChildren(ExtendUtils.extendDeep(this.children));\r\n        }\r\n        else {\r\n            target.setChildren(ExtendUtils.extend([], this.children));\r\n        }\r\n\r\n        return target;\r\n    }\r\n\r\n    public filter(func: (value: T, index: number) => boolean): Collection<T> {\r\n        var children = this.children,\r\n            result = [],\r\n            value = null;\r\n\r\n        for (let i = 0, len = children.length; i < len; i++) {\r\n            value = children[i];\r\n\r\n            if (func.call(children, value, i)) {\r\n                result.push(value);\r\n            }\r\n        }\r\n\r\n        return Collection.create<T>(result);\r\n    }\r\n\r\n    public findOne(func: (value: T, index: number) => boolean) {\r\n        var scope = this.children,\r\n            result: T = null;\r\n\r\n        this.forEach((value: T, index) => {\r\n            if (!func.call(scope, value, index)) {\r\n                return;\r\n            }\r\n\r\n            result = value;\r\n            return $BREAK;\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    public reverse() {\r\n        return Collection.create<T>(this.copyChildren().reverse());\r\n    }\r\n\r\n    public removeChild(arg: any) {\r\n        return Collection.create<T>(this.removeChildHelper(arg));\r\n    }\r\n\r\n    public sort(func: (a: T, b: T) => any, isSortSelf = false): Collection<T> {\r\n        if (isSortSelf) {\r\n            this.children.sort(func);\r\n\r\n            return this;\r\n        }\r\n\r\n        return Collection.create<T>(this.copyChildren().sort(func));\r\n    }\r\n\r\n    public map(func: (value: T, index: number) => any) {\r\n        var resultArr = [];\r\n\r\n        this.forEach((e, index) => {\r\n            var result = func(e, index);\r\n\r\n            if (result !== $REMOVE) {\r\n                resultArr.push(result);\r\n            }\r\n            //e && e[handlerName] && e[handlerName].apply(context || e, valueArr);\r\n        });\r\n\r\n        return Collection.create<any>(resultArr);\r\n    }\r\n\r\n    public removeRepeatItems() {\r\n        var noRepeatList = Collection.create<T>();\r\n\r\n        this.forEach((item: T) => {\r\n            if (noRepeatList.hasChild(item)) {\r\n                return;\r\n            }\r\n\r\n            noRepeatList.addChild(item);\r\n        });\r\n\r\n        return noRepeatList;\r\n    }\r\n\r\n    public hasRepeatItems() {\r\n        var noRepeatList = Collection.create<T>(),\r\n            hasRepeat: boolean = false;\r\n\r\n        this.forEach((item: T) => {\r\n            if (noRepeatList.hasChild(item)) {\r\n                hasRepeat = true;\r\n\r\n                return $BREAK;\r\n            }\r\n\r\n            noRepeatList.addChild(item);\r\n        });\r\n\r\n        return hasRepeat;\r\n    }\r\n}\r\n","import { JudgeUtils as JudgeUtils$ } from \"wonder-commonlib/dist/es2015/utils/JudgeUtils\";\r\nimport { Collection } from \"wonder-commonlib/dist/es2015/Collection\";\r\n\r\n// @registerClass(\"JudgeUtils\")\r\nexport class JudgeUtils extends JudgeUtils$ {\r\n    public static isCollection(list: Collection<any>) {\r\n        return list instanceof Collection;\r\n    }\r\n}\r\n\r\nexport var isUndefined = (v: any) => v === void 0;\r\n\r\nexport var isNotUndefined = (v: any) => v !== void 0;\r\n","import { isNotUndefined, isUndefined } from \"./JudgeUtils\";\r\n\r\nexport var deleteVal = (key: string | number, obj: object) => obj[key] = void 0;\r\n\r\nexport var deleteBySwap = (sourceIndex: number, targetIndex: number, obj: object) => {\r\n    obj[sourceIndex] = obj[targetIndex];\r\n    deleteVal(targetIndex, obj);\r\n}\r\n\r\n// export var swap = (sourceIndex:number, targetIndex:number, obj:object) => {\r\n//     var temp = obj[sourceIndex];\r\n//\r\n//     obj[sourceIndex] = obj[targetIndex];\r\n//     obj[targetIndex] = temp;\r\n// }\r\n\r\nexport var isValidMapValue = (val: any) => {\r\n    return isNotUndefined(val);\r\n}\r\n\r\nexport var isNotValidMapValue = (val: any) => {\r\n    return isUndefined(val);\r\n}\r\n\r\nexport var createMap = () => Object.create(null);\r\n","import { Component } from \"./Component\";\r\nimport { GameObject } from \"../core/entityObject/gameObject/GameObject\";\r\nimport { Map as MapImmutable } from \"immutable\";\r\n\r\nexport class ComponentData {\r\n    public static addComponentHandleMap: AddComponentHandleMap = {};\r\n    public static disposeHandleMap: DisposeHandleMap = {};\r\n    public static initHandleMap: InitHandleMap = {};\r\n}\r\n\r\nexport type AddComponentHandleMap = {\r\n    [typeID: string]: (component: Component, gameObject: GameObject) => void;\r\n}\r\n\r\nexport type DisposeHandleMap = {\r\n    [typeID: string]: (component: Component) => void;\r\n}\r\n\r\nexport type InitHandleMap = {\r\n    [typeID: string]: (index: number, state: MapImmutable<any, any>) => void;\r\n}\r\n\r\nexport type ComponentGameObjectMap = {\r\n    [index: number]: GameObject;\r\n}\r\n","import { ensure, it } from \"../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\n\r\nexport class ClassUtils {\r\n    private static _classMap: ClassMapData = {};\r\n\r\n    @ensure(function(className: string) {\r\n        it(\"should exist class name\", () => {\r\n            expect(className).exist;\r\n            expect(className !== \"\").true\r\n        });\r\n    })\r\n    public static getClassNameByInstance(obj: any) {\r\n        return obj.constructor[\"className\"];\r\n    }\r\n\r\n    @ensure(function(className: string) {\r\n        it(\"should exist class name\", () => {\r\n            expect(className).exist;\r\n            expect(className !== \"\").true\r\n        });\r\n    })\r\n    public static getClassNameByClass(_class: any) {\r\n        return _class[\"className\"];\r\n    }\r\n\r\n    public static addClass(className: string, _class: any) {\r\n        this._classMap[className] = _class;\r\n    }\r\n\r\n    public static addClassNameAttributeToClass(className: string, _class: any) {\r\n        _class[\"className\"] = className;\r\n    }\r\n\r\n    public static getClass(className: string) {\r\n        return this._classMap[className];\r\n    }\r\n}\r\n\r\ntype ClassMapData = {\r\n    [className: string]: any;\r\n}\r\n","import { ClassUtils } from \"../utils/ClassUtils\";\r\nimport { Component } from \"./Component\";\r\n\r\nvar _generateTypeID = () => {\r\n    var result = _typeID;\r\n\r\n    _typeID += 1;\r\n\r\n    return String(result);\r\n}\r\n\r\nexport var getTypeIDFromClass = (_class: any) => {\r\n    return _table[ClassUtils.getClassNameByClass(_class)];\r\n}\r\n\r\nexport var getTypeIDFromComponent = (component: Component) => {\r\n    return _table[ClassUtils.getClassNameByInstance(component)];\r\n}\r\n\r\nvar _addTypeID = (componentClassNameArr: Array<string>, table: object) => {\r\n    var id = _generateTypeID();\r\n\r\n    for (let className of componentClassNameArr) {\r\n        table[className] = id;\r\n    }\r\n}\r\n\r\nvar _typeID = 1;\r\nconst _table = {};\r\n\r\n_addTypeID([\"ThreeDTransform\"], _table);\r\n_addTypeID([\"Geometry\", \"BoxGeometry\", \"CustomGeometry\"], _table);\r\n_addTypeID([\"Material\", \"BasicMaterial\"], _table);\r\n_addTypeID([\"MeshRenderer\"], _table);\r\n_addTypeID([\"Tag\"], _table);\r\n_addTypeID([\"CameraController\"], _table);\r\n","import { ComponentData, ComponentGameObjectMap } from \"./ComponentData\";\r\nimport { Component } from \"./Component\";\r\nimport { getTypeIDFromClass, getTypeIDFromComponent } from \"./ComponentTypeIDManager\";\r\nimport { GameObject } from \"../core/entityObject/gameObject/GameObject\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { it, requireCheckFunc } from \"../definition/typescript/decorator/contract\";\r\nimport { deleteBySwap, isNotValidMapValue } from \"../utils/objectUtils\";\r\nimport { Map as MapImmutable } from \"immutable\";\r\n\r\nvar _addHandle = (_class: any, handleMap: object, handle: Function) => {\r\n    var typeID = getTypeIDFromClass(_class);\r\n\r\n    handleMap[typeID] = handle;\r\n}\r\n\r\nexport var addAddComponentHandle = (_class: any, handle: Function) => {\r\n    _addHandle(_class, ComponentData.addComponentHandleMap, handle);\r\n}\r\n\r\nexport var addDisposeHandle = (_class: any, handle: Function) => {\r\n    _addHandle(_class, ComponentData.disposeHandleMap, handle);\r\n}\r\n\r\nexport var addInitHandle = (_class: any, handle: (index: number, state: MapImmutable<any, any>) => void) => {\r\n    _addHandle(_class, ComponentData.initHandleMap, handle);\r\n}\r\n\r\nexport var execHandle = (component: Component, handleMapName: string, args?: Array<any>) => {\r\n    var handle = ComponentData[handleMapName][getTypeIDFromComponent(component)];\r\n\r\n    if (_isHandleNotExist(handle)) {\r\n        return;\r\n    }\r\n\r\n    if (!!args) {\r\n        handle.apply(null, args);\r\n    }\r\n    else {\r\n        handle(component);\r\n    }\r\n}\r\n\r\nexport var execInitHandle = (typeID: string, index: number, state: MapImmutable<any, any>) => {\r\n    var handle = ComponentData.initHandleMap[typeID];\r\n\r\n    if (_isHandleNotExist(handle)) {\r\n        return;\r\n    }\r\n\r\n    handle(index, state);\r\n}\r\n\r\nvar _isHandleNotExist = (handle: Function) => isNotValidMapValue(handle);\r\n\r\nexport var checkComponentShouldAlive = (component: Component, data: any, isAlive: (component: Component, data: any) => boolean) => {\r\n    it(\"component should alive\", () => {\r\n        expect(isAlive(component, data)).true;\r\n    });\r\n}\r\n\r\nexport var addComponentToGameObjectMap = requireCheckFunc((gameObjectMap: ComponentGameObjectMap, index: number, gameObject: GameObject) => {\r\n    it(\"component should not exist in gameObject\", () => {\r\n        expect(gameObjectMap[index]).not.exist;\r\n    });\r\n}, (gameObjectMap: ComponentGameObjectMap, index: number, gameObject: GameObject) => {\r\n    gameObjectMap[index] = gameObject;\r\n})\r\n\r\nexport var getComponentGameObject = (gameObjectMap: ComponentGameObjectMap, index: number) => {\r\n    return gameObjectMap[index];\r\n}\r\n\r\nexport var generateComponentIndex = (ComponentData: any) => {\r\n    return ComponentData.index++;\r\n}\r\n\r\nexport var deleteComponentBySwap = requireCheckFunc((sourceIndex: number, targetIndex: number | null, componentMap: ComponentMap) => {\r\n    it(\"targetIndex should >= 0\", () => {\r\n        expect(targetIndex).gte(0);\r\n    });\r\n}, (sourceIndex: number, targetIndex: number, componentMap: ComponentMap) => {\r\n    componentMap[targetIndex].index = sourceIndex;\r\n    markComponentIndexRemoved(componentMap[sourceIndex]);\r\n\r\n    deleteBySwap(sourceIndex, targetIndex, componentMap);\r\n})\r\n\r\nexport var markComponentIndexRemoved = (component: Component) => {\r\n    component.index = -1;\r\n}\r\n\r\nexport type ComponentMap = {\r\n    [index: number]: Component;\r\n}\r\n","import { expect } from \"wonder-expect.js\";\r\nimport { it } from \"../../definition/typescript/decorator/contract\";\r\n\r\nexport var checkIndexShouldEqualCount = (ComponentData: any) => {\r\n    it(\"ComponentData.index should === ComponentData.count\", () => {\r\n        expect(ComponentData.index).equal(ComponentData.count);\r\n    });\r\n    it(\"ComponentData.index should >= 0\", () => {\r\n        expect(ComponentData.index).gte(0);\r\n    });\r\n    it(\"ComponentData.count should >= 0\", () => {\r\n        expect(ComponentData.count).gte(0);\r\n    });\r\n}\r\n","import { ClassUtils } from \"../../../utils/ClassUtils\";\r\n\r\nexport function registerClass(className: string) {\r\n    return function(_class) {\r\n        ClassUtils.addClassNameAttributeToClass(className, _class);\r\n        ClassUtils.addClass(className, _class);\r\n    }\r\n}","import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"Component\")\r\nexport class Component {\r\n    public index: number = null;\r\n}\r\n","import { ComponentGameObjectMap } from \"../ComponentData\";\r\nimport { Matrix4 } from \"../../math/Matrix4\";\r\n\r\nexport class CameraControllerData {\r\n    public static index: number = null;\r\n    public static count: number = null;\r\n\r\n    public static dirtyIndexArray: Array<number> = null;\r\n    public static gameObjectMap: ComponentGameObjectMap = null;\r\n\r\n    public static worldToCameraMatrixCacheMap: WorldToCameraMatrixCacheMap = null;\r\n}\r\n\r\nexport type WorldToCameraMatrixCacheMap = {\r\n    [index: number]: Matrix4\r\n}\r\n\r\n","import { Component } from \"../Component\";\r\nimport { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { create, getGameObject } from \"./CameraControllerSystem\";\r\nimport { CameraControllerData } from \"./CameraControllerData\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\n\r\n@registerClass(\"CameraController\")\r\nexport class CameraController extends Component {\r\n}\r\n\r\nexport var createCameraController = () => {\r\n    return create(CameraControllerData);\r\n}\r\n\r\nexport var getCameraControllerGameObject = (component: CameraController) => {\r\n    return getGameObject(component.index, CameraControllerData);\r\n}\r\n","import { isUndefined } from \"./JudgeUtils\";\r\nexport var deleteVal = (key: number, arr: Array<number>) => arr[key] = void 0;\r\n\r\nexport var isNotValidVal = (val: any) => isUndefined(val);\r\n\r\nexport var deleteBySwap = (index: number, array: Array<any>) => {\r\n    var last = array.length - 1,\r\n        temp = null;\r\n\r\n    if (last === -1) {\r\n        return null;\r\n    }\r\n\r\n    temp = array[last];\r\n\r\n    array[last] = array[index];\r\n    array[index] = temp;\r\n\r\n    array.pop();\r\n}\r\n\r\nexport var hasDuplicateItems = (arr: Array<any>) => {\r\n    var noRepeatArr = [],\r\n        hasRepeat: boolean = false;\r\n\r\n    for (let item of arr) {\r\n        if (!item) {\r\n            continue;\r\n        }\r\n\r\n        if (_contain(noRepeatArr, item)) {\r\n            hasRepeat = true;\r\n\r\n            break;\r\n        }\r\n\r\n        noRepeatArr.push(item);\r\n    }\r\n\r\n    return hasRepeat;\r\n}\r\n\r\nvar _contain = (arr: Array<any>, item: any): boolean => {\r\n    var c: any = null;\r\n\r\n    for (let i = 0, len = arr.length; i < len; i++) {\r\n        c = arr[i];\r\n\r\n        // if (item.uid && c.uid && item.uid == c.uid) {\r\n        //     return true;\r\n        // }\r\n        // else if (item === c) {\r\n        if (item === c) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nexport var removeDuplicateItems = (arr: Array<any>) => {\r\n    var resultArr = [];\r\n\r\n    for (let ele of arr) {\r\n        // if (_contain(resultArr, function(val) {\r\n        //         return isEqual(val, ele);\r\n        //     })) {\r\n        if (_contain(resultArr, ele)) {\r\n            continue;\r\n        }\r\n\r\n        resultArr.push(ele);\r\n    };\r\n\r\n    return resultArr;\r\n}\r\n\r\nexport var removeItem = (arr: Array<any>, item: any) => {\r\n    return filter(arr, (ele) => {\r\n        return ele !== item;\r\n    });\r\n}\r\n\r\nexport var filter = (arr: Array<any>, func: (item: any) => boolean) => {\r\n    let result = [];\r\n\r\n    for (let ele of arr) {\r\n        if (func(ele)) {\r\n            result.push(ele);\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nexport var forEach = (arr: Array<any>, func: (item: any, index: number) => void) => {\r\n    for (let i = 0, len = arr.length; i < len; i++) {\r\n        func(arr[i], i);\r\n    }\r\n}\r\n","export var cacheFunc = <T>(hasCacheFunc: (...args) => boolean, getCacheFunc: (...args) => T, setCacheFunc: (...args) => void, bodyFunc: (...args) => T) => {\r\n    return (...args) => {\r\n        if (hasCacheFunc.apply(null, args)) {\r\n            return getCacheFunc.apply(null, args);\r\n        }\r\n\r\n        let result = bodyFunc.apply(null, args);\r\n\r\n        args.push(result);\r\n\r\n        setCacheFunc.apply(null, args);\r\n\r\n        return result;\r\n    }\r\n}\r\n","export class PerspectiveCameraData {\r\n    public static fovyMap: FovyMap = null;\r\n    public static aspectMap: AspectMap = null;\r\n}\r\n\r\nexport type FovyMap = {\r\n    [cameraControllerIndex: number]: number\r\n}\r\n\r\nexport type AspectMap = {\r\n    [cameraControllerIndex: number]: number\r\n}\r\n","import { Matrix4 } from \"../../math/Matrix4\";\r\n\r\nexport class CameraData {\r\n    public static nearMap: NearMap = null;\r\n    public static farMap: FarMap = null;\r\n    public static worldToCameraMatrixMap: WorldToCameraMatrixMap = null;\r\n    public static pMatrixMap: PMatrixMap = null;\r\n}\r\n\r\nexport type NearMap = {\r\n    [cameraControllerIndex: number]: number\r\n}\r\n\r\nexport type FarMap = {\r\n    [cameraControllerIndex: number]: number\r\n}\r\n\r\nexport type WorldToCameraMatrixMap = {\r\n    [cameraControllerIndex: number]: Matrix4\r\n}\r\n\r\nexport type PMatrixMap = {\r\n    [cameraControllerIndex: number]: Matrix4\r\n}\r\n","import {\r\n    addAddComponentHandle as addAddComponentHandleToMap, addComponentToGameObjectMap,\r\n    addDisposeHandle as addDisposeHandleToMap, generateComponentIndex, getComponentGameObject\r\n} from \"../ComponentSystem\";\r\nimport { checkIndexShouldEqualCount } from \"../utils/contractUtils\";\r\nimport { ensureFunc, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport {\r\n    dispose, getPMatrix as getPMatrixCamera,\r\n    getWorldToCameraMatrix as getWorldToCameraMatrixCamera, init as initCamera, initData as initDataCamera,\r\n    updateProjectionMatrix\r\n} from \"./CameraSystem\";\r\nimport { CameraController } from \"./CameraController\";\r\nimport curry from \"wonder-lodash/curry\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { Map } from \"immutable\";\r\nimport { removeDuplicateItems, removeItem } from \"../../utils/arrayUtils\";\r\nimport { createMap, deleteVal, isValidMapValue } from \"../../utils/objectUtils\";\r\nimport { cacheFunc } from \"../../utils/cacheUtils\";\r\nimport { Matrix4 } from \"../../math/Matrix4\";\r\nimport { CameraControllerData } from \"./CameraControllerData\";\r\nimport { PerspectiveCameraData } from \"./PerspectiveCameraData\";\r\nimport { CameraData } from \"./CameraData\";\r\n\r\nexport var addAddComponentHandle = (_class: any) => {\r\n    addAddComponentHandleToMap(_class, addComponent);\r\n}\r\n\r\nexport var addDisposeHandle = (_class: any) => {\r\n    addDisposeHandleToMap(_class, disposeComponent);\r\n}\r\n\r\nexport var create = requireCheckFunc((CameraControllerData: any) => {\r\n    checkIndexShouldEqualCount(CameraControllerData);\r\n}, (CameraControllerData: any) => {\r\n    var controller = new CameraController(),\r\n        index = generateComponentIndex(CameraControllerData);\r\n\r\n    controller.index = index;\r\n\r\n    CameraControllerData.count += 1;\r\n\r\n    addToDirtyList(index, CameraControllerData);\r\n\r\n    return controller;\r\n})\r\n\r\nexport var addToDirtyList = ensureFunc((index: number, CameraControllerData: any) => {\r\n    // it(\"dirty index should not be duplicated\", () => {\r\n    //     expect(hasDuplicateItems(CameraControllerData.dirtyIndexArray)).false;\r\n    // });\r\n}, (index: number, CameraControllerData: any) => {\r\n    CameraControllerData.dirtyIndexArray.push(index);\r\n})\r\n\r\nexport var init = (PerspectiveCameraData: any, CameraData: any, CameraControllerData: any, state: Map<any, any>) => {\r\n    _forEachDirtyList(CameraControllerData.dirtyIndexArray, (dirtyIndex: number) => {\r\n        initCameraController(state, dirtyIndex, PerspectiveCameraData, CameraData);\r\n    });\r\n\r\n    _clearDirtyList(CameraControllerData);\r\n\r\n    return state;\r\n}\r\n\r\nexport var initCameraController = (state: Map<any, any>, index: number, PerspectiveCameraData: any, CameraData: any) => {\r\n    initCamera(state, index, PerspectiveCameraData, CameraData);\r\n}\r\n\r\nvar _forEachDirtyList = (dirtyIndexArray: Array<number>, func: (dirtyIndex: number) => void) => {\r\n    var arr = removeDuplicateItems(dirtyIndexArray);\r\n\r\n    for (let dirtyIndex of arr) {\r\n        func(dirtyIndex);\r\n    }\r\n}\r\n\r\nvar _clearDirtyList = (CameraControllerData: any) => {\r\n    CameraControllerData.dirtyIndexArray = [];\r\n}\r\n\r\nexport var update = (PerspectiveCameraData: any, CameraData: any, CameraControllerData: any) => {\r\n    _forEachDirtyList(CameraControllerData.dirtyIndexArray, (dirtyIndex: number) => {\r\n        updateProjectionMatrix(dirtyIndex, PerspectiveCameraData, CameraData);\r\n    });\r\n\r\n    _clearDirtyList(CameraControllerData);\r\n    _clearCache(CameraControllerData);\r\n}\r\n\r\nexport var addComponent = (component: CameraController, gameObject: GameObject) => {\r\n    addComponentToGameObjectMap(CameraControllerData.gameObjectMap, component.index, gameObject);\r\n}\r\n\r\nexport var disposeComponent = (component: CameraController) => {\r\n    var index = component.index;\r\n\r\n    deleteVal(index, CameraControllerData.gameObjectMap);\r\n    deleteVal(index, CameraControllerData.worldToCameraMatrixCacheMap);\r\n\r\n    CameraControllerData.count -= 1;\r\n\r\n    CameraControllerData.dirtyIndexArray = removeItem(CameraControllerData.dirtyIndexArray, index);\r\n\r\n    dispose(index, PerspectiveCameraData, CameraData);\r\n}\r\n\r\nexport var getGameObject = (index: number, CameraControllerData: any) => {\r\n    return getComponentGameObject(CameraControllerData.gameObjectMap, index);\r\n}\r\n\r\nexport var getWorldToCameraMatrix = cacheFunc((index: number, ThreeDTransformData: any, GameObjectData: any, CameraControllerData: any, CameraData: any) => {\r\n    return isValidMapValue(CameraControllerData.worldToCameraMatrixCacheMap[index]);\r\n}, (index: number, ThreeDTransformData: any, GameObjectData: any, CameraControllerData: any, CameraData: any) => {\r\n    return CameraControllerData.worldToCameraMatrixCacheMap[index];\r\n}, (index: number, ThreeDTransformData: any, GameObjectData: any, CameraControllerData: any, CameraData: any, worldToCamraMatrix: Matrix4, ) => {\r\n    CameraControllerData.worldToCameraMatrixCacheMap[index] = worldToCamraMatrix;\r\n}, (index: number, ThreeDTransformData: any, GameObjectData: any, CameraControllerData: any, CameraData: any) => {\r\n    return getWorldToCameraMatrixCamera(index, ThreeDTransformData, GameObjectData, CameraControllerData, CameraData);\r\n})\r\n\r\nexport var getPMatrix = (index: number, CameraData: any) => {\r\n    return getPMatrixCamera(index, CameraData);\r\n}\r\n\r\nvar _clearCache = (CameraControllerData: any) => {\r\n    CameraControllerData.worldToCameraMatrixCacheMap = {};\r\n}\r\n\r\nexport var initData = (CameraControllerData: any, PerspectiveCameraData: any, CameraData: any) => {\r\n    CameraControllerData.index = 0;\r\n    CameraControllerData.count = 0;\r\n    CameraControllerData.gameObjectMap = createMap();\r\n    CameraControllerData.dirtyIndexArray = [];\r\n    CameraControllerData.worldToCameraMatrixCacheMap = createMap();\r\n\r\n    initDataCamera(PerspectiveCameraData, CameraData);\r\n}\r\n","import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n@registerClass(\"Vector2\")\r\nexport class Vector2 {\r\n    public static create(x, y): Vector2;\r\n    public static create(): Vector2;\r\n\r\n    public static create(...args): Vector2 {\r\n        var m = null;\r\n\r\n        if (args.length === 0) {\r\n            m = new this();\r\n        }\r\n        else {\r\n            m = new this(args[0], args[1]);\r\n        }\r\n\r\n        return m;\r\n    }\r\n\r\n    constructor(x, y);\r\n    constructor();\r\n    constructor(...args) {\r\n        this.values = new Float32Array(2);\r\n\r\n        if (args.length > 0) {\r\n            this.values[0] = args[0];\r\n            this.values[1] = args[1];\r\n        }\r\n    }\r\n\r\n    get x() {\r\n        return this.values[0];\r\n    }\r\n    set x(x: number) {\r\n        this.values[0] = x;\r\n    }\r\n\r\n    get y() {\r\n        return this.values[1];\r\n    }\r\n    set y(y: number) {\r\n        this.values[1] = y;\r\n    }\r\n\r\n    public values: Float32Array;\r\n\r\n    public set(x: number, y: number) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    public add(v: Vector2) {\r\n        this.values[0] = this.values[0] + v.values[0];\r\n        this.values[1] = this.values[1] + v.values[1];\r\n\r\n        return this;\r\n    }\r\n\r\n    public mul(v: Vector2) {\r\n        this.values[0] = this.values[0] * v.values[0];\r\n        this.values[1] = this.values[1] * v.values[1];\r\n\r\n        return this;\r\n    }\r\n\r\n    public isEqual(v: Vector2) {\r\n        return this.x === v.x && this.y === v.y;\r\n    }\r\n\r\n    public clone() {\r\n        return Vector2.create(this.x, this.y);\r\n    }\r\n}","declare var Math: any;\r\n\r\n/**\r\n * @name DEG_TO_RAD\r\n * @description Conversion factor between degrees and radians\r\n * @type Number\r\n * @example\r\n * // Convert 180 degrees to pi radians\r\n * var rad = 180 * DEG_TO_RAD;\r\n */\r\nexport const DEG_TO_RAD = Math.PI / 180;\r\n\r\n/**\r\n * @name RAD_TO_DEG\r\n * @description Conversion factor between degrees and radians\r\n * @type Number\r\n * @example\r\n * // Convert pi radians to 180 degrees\r\n * var deg = Math.PI * RAD_TO_DEG;\r\n */\r\nexport const RAD_TO_DEG = 180 / Math.PI;","import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { Vector2 } from \"./Vector2\";\r\nimport { DEG_TO_RAD } from \"./Global\";\r\n\r\n@registerClass(\"Matrix3\")\r\nexport class Matrix3 {\r\n    public static create(mat: Float32Array): Matrix3;\r\n    public static create(): Matrix3;\r\n\r\n    public static create(...args): Matrix3 {\r\n        var m = null;\r\n\r\n        if (args.length === 0) {\r\n            m = new this();\r\n        }\r\n        else {\r\n            m = new this(args[0]);\r\n        }\r\n\r\n        return m;\r\n    }\r\n\r\n    constructor(mat: Float32Array);\r\n    constructor();\r\n\r\n    constructor(...args) {\r\n        if (args.length === 1) {\r\n            this.values = args[0];\r\n        }\r\n        else {\r\n            this.values = new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);\r\n        }\r\n    }\r\n\r\n    get a(): number {\r\n        return this.values[0];\r\n    }\r\n    set a(a: number) {\r\n        this.values[0] = a;\r\n    }\r\n\r\n    get c(): number {\r\n        return this.values[1];\r\n    }\r\n    set c(c: number) {\r\n        this.values[1] = c;\r\n    }\r\n\r\n    get b(): number {\r\n        return this.values[3];\r\n    }\r\n    set b(b: number) {\r\n        this.values[3] = b;\r\n    }\r\n\r\n    get d(): number {\r\n        return this.values[4];\r\n    }\r\n    set d(d: number) {\r\n        this.values[4] = d;\r\n    }\r\n\r\n    get tx(): number {\r\n        return this.values[6];\r\n    }\r\n    set tx(tx: number) {\r\n        this.values[6] = tx;\r\n    }\r\n\r\n    get ty(): number {\r\n        return this.values[7];\r\n    }\r\n    set ty(ty: number) {\r\n        this.values[7] = ty;\r\n    }\r\n\r\n    public values: Float32Array = null;\r\n\r\n    public setIdentity(): Matrix3 {\r\n        var e = this.values;\r\n\r\n        e[0] = 1;\r\n        e[3] = 0;\r\n        e[6] = 0;\r\n        e[1] = 0;\r\n        e[4] = 1;\r\n        e[7] = 0;\r\n        e[2] = 0;\r\n        e[5] = 0;\r\n        e[8] = 1;\r\n\r\n        return this;\r\n    }\r\n\r\n    public invert(): Matrix3 {\r\n        var a1 = this.values[0];\r\n        var b1 = this.values[1];\r\n        var c1 = this.values[3];\r\n        var d1 = this.values[4];\r\n        var tx1 = this.values[6];\r\n        var ty1 = this.values[7];\r\n        var n = a1 * d1 - b1 * c1;\r\n\r\n        this.values[0] = d1 / n;\r\n        this.values[1] = -b1 / n;\r\n        this.values[3] = -c1 / n;\r\n        this.values[4] = a1 / n;\r\n        this.values[6] = (c1 * ty1 - d1 * tx1) / n;\r\n        this.values[7] = -(a1 * ty1 - b1 * tx1) / n;\r\n\r\n        return this;\r\n    }\r\n\r\n    public multiplyScalar(s: number) {\r\n        var te = this.values;\r\n\r\n        te[0] *= s;\r\n        te[3] *= s;\r\n        te[6] *= s;\r\n        te[1] *= s;\r\n        te[4] *= s;\r\n        te[7] *= s;\r\n        te[2] *= s;\r\n        te[5] *= s;\r\n        te[8] *= s;\r\n\r\n        return this;\r\n    }\r\n\r\n    public multiplyVector2(vector: Vector2) {\r\n        var x = vector.x,\r\n            y = vector.y,\r\n            result = Vector2.create(),\r\n            e = this.values;\r\n\r\n        result.x = e[0] * x + e[3] * y;\r\n        result.y = e[1] * x + e[4] * y;\r\n\r\n        return result;\r\n    }\r\n\r\n    public multiplyPoint(vector: Vector2) {\r\n        var x = vector.x,\r\n            y = vector.y,\r\n            result = Vector2.create(),\r\n            e = this.values;\r\n\r\n        result.x = e[0] * x + e[3] * y + this.tx;\r\n        result.y = e[1] * x + e[4] * y + this.ty;\r\n\r\n        return result;\r\n    }\r\n\r\n    public multiply(matrix: Matrix3) {\r\n        var m11 = this.a * matrix.a + this.c * matrix.b;\r\n        var m12 = this.b * matrix.a + this.d * matrix.b;\r\n\r\n        var m21 = this.a * matrix.c + this.c * matrix.d;\r\n        var m22 = this.b * matrix.c + this.d * matrix.d;\r\n\r\n        var dx = this.a * matrix.tx + this.c * matrix.ty + this.tx;\r\n        var dy = this.b * matrix.tx + this.d * matrix.ty + this.ty;\r\n\r\n        this.a = m11;\r\n        this.b = m12;\r\n        this.c = m21;\r\n        this.d = m22;\r\n        this.tx = dx;\r\n        this.ty = dy;\r\n\r\n        return this;\r\n    }\r\n\r\n    public transpose(): Matrix3 {\r\n        var tmp, m = this.values;\r\n\r\n        tmp = m[1];\r\n        m[1] = m[3];\r\n        m[3] = tmp;\r\n        tmp = m[2];\r\n        m[2] = m[6];\r\n        m[6] = tmp;\r\n        tmp = m[5];\r\n        m[5] = m[7];\r\n        m[7] = tmp;\r\n\r\n        return this;\r\n    }\r\n\r\n    public clone() {\r\n        return Matrix3.create().set(this);\r\n    }\r\n\r\n    public cloneToArray(array: Float32Array, offset: number = 0): Matrix3 {\r\n        var values = this.values;\r\n\r\n        for (let index = 0; index < 9; index++) {\r\n            array[offset + index] = values[index];\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public set(matrix: Matrix3) {\r\n        var te = this.values,\r\n            values = matrix.values;\r\n\r\n        te[0] = values[0]; te[3] = values[3]; te[6] = values[6];\r\n        te[1] = values[1]; te[4] = values[4]; te[7] = values[7];\r\n        te[2] = values[2]; te[5] = values[5]; te[8] = values[8];\r\n\r\n        return this;\r\n    }\r\n\r\n    public setTS(t: Vector2, s: Vector2) {\r\n        this.setPosition(t.x, t.y);\r\n        this.setScale(s.x, s.y);\r\n    }\r\n\r\n    public rotate(angle: number) {\r\n        var rad = angle * DEG_TO_RAD;\r\n        var c = Math.cos(rad);\r\n        var s = Math.sin(rad);\r\n        var m11 = this.a * c + this.c * s;\r\n        var m12 = this.b * c + this.d * s;\r\n        var m21 = this.a * -s + this.c * c;\r\n        var m22 = this.b * -s + this.d * c;\r\n        this.a = m11;\r\n        this.b = m12;\r\n        this.c = m21;\r\n        this.d = m22;\r\n\r\n        //var rad = angle * DEG_TO_RAD;\r\n        //\r\n        //var cos_a = Math.cos(rad);\r\n        //var sin_a = Math.sin(rad);\r\n        //\r\n        //var values = this.values;\r\n        //\r\n        //\r\n        //var m00 = values[0];\r\n        //var m10 = values[1];\r\n        //var m20 = values[2];\r\n        //\r\n        //var m01 = values[3];\r\n        //var m11 = values[4];\r\n        //var m21 = values[5];\r\n        //\r\n        //var m02 = values[6];\r\n        //var m12 = values[7];\r\n        //var m22 = values[8];\r\n        //\r\n        //values[0] = cos_a * m00 - sin_a * m10;\r\n        //values[1] = sin_a * m00 + cos_a * m10;\r\n        //\r\n        //values[3] = cos_a * m01 - sin_a * m11;\r\n        //values[4] = sin_a * m01 + cos_a * m11;\r\n        //\r\n        //values[6] = cos_a * m02 - sin_a * m12;\r\n        //values[7] = sin_a * m02 + cos_a * m12;\r\n\r\n        return this;\r\n    }\r\n\r\n    public setRotation(angle: number) {\r\n        var rad = angle * DEG_TO_RAD;\r\n\r\n        var cos_a = Math.cos(rad);\r\n        var sin_a = Math.sin(rad);\r\n        var values = this.values;\r\n\r\n        //values[0] = cos_a;\r\n        //values[1] = sin_a;\r\n        //\r\n        //values[3] = -sin_a;\r\n        //values[4] = cos_a;\r\n        values[0] = cos_a;\r\n        values[1] = -sin_a;\r\n\r\n        values[3] = sin_a;\r\n        values[4] = cos_a;\r\n\r\n        return this;\r\n    }\r\n\r\n    public translate(x: number, y: number) {\r\n        this.tx += this.a * x + this.c * y;\r\n        this.ty += this.b * x + this.d * y;\r\n    }\r\n\r\n    public setPosition(x: number, y: number) {\r\n        this.tx = x;\r\n        this.ty = y;\r\n    }\r\n\r\n    public scale(x: number, y: number) {\r\n        this.a *= x;\r\n        this.b *= x;\r\n        this.c *= y;\r\n        this.d *= y;\r\n\r\n        //var values = this.values;\r\n        //\r\n        //values[0] *= x;\r\n        //values[1] *= x;\r\n        //values[2] *= x;\r\n        //\r\n        //values[3] *= y;\r\n        //values[4] *= y;\r\n        //values[5] *= y;\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n    public setScale(x: number, y: number) {\r\n        var values = this.values;\r\n\r\n        values[0] = x;\r\n        values[4] = y;\r\n\r\n        return this;\r\n    }\r\n\r\n    public getTranslation() {\r\n        return Vector2.create(this.tx, this.ty);\r\n    }\r\n\r\n    public getScale() {\r\n        return Vector2.create(\r\n            Math.sqrt(this.a * this.a + this.b * this.b),\r\n            Math.sqrt(this.c * this.c + this.d * this.d)\r\n        );\r\n    }\r\n\r\n    public getRotation() {\r\n        return this._getSkewX();\r\n    }\r\n\r\n    public getSkew() {\r\n        return Vector2.create(\r\n            this._getSkewX(),\r\n            this._getSkewY()\r\n        );\r\n    }\r\n\r\n    private _getDeltaTransformPoint(matrix: Matrix3, point: { x: number, y: number }) {\r\n        return {\r\n            x: point.x * matrix.a + point.y * matrix.c + 0,\r\n            y: point.x * matrix.b + point.y * matrix.d + 0\r\n        };\r\n    }\r\n\r\n    private _getSkewX() {\r\n        var px = this._getDeltaTransformPoint(this, { x: 0, y: 1 });\r\n\r\n        return ((180 / Math.PI) * Math.atan2(px.y, px.x) - 90);\r\n    }\r\n\r\n    private _getSkewY() {\r\n        var py = this._getDeltaTransformPoint(this, { x: 1, y: 0 });\r\n\r\n        return ((180 / Math.PI) * Math.atan2(py.y, py.x));\r\n    }\r\n}","import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { Vector3 } from \"./Vector3\";\r\n\r\ndeclare var Math: any;\r\n\r\n@registerClass(\"Vector4\")\r\nexport class Vector4 {\r\n    public static create(x, y, z, w);\r\n    public static create();\r\n\r\n    public static create(...args) {\r\n        var m = null;\r\n\r\n        if (args.length === 0) {\r\n            m = new this();\r\n        }\r\n        else {\r\n            m = new this(args[0], args[1], args[2], args[3]);\r\n        }\r\n\r\n        return m;\r\n    }\r\n\r\n    constructor(x, y, z, w);\r\n    constructor();\r\n\r\n    constructor(...args) {\r\n        this.values = new Float32Array(4);\r\n\r\n        if (args.length > 0) {\r\n            this.values[0] = args[0];\r\n            this.values[1] = args[1];\r\n            this.values[2] = args[2];\r\n            this.values[3] = args[3];\r\n        }\r\n    }\r\n\r\n    get x() {\r\n        return this.values[0];\r\n    }\r\n    set x(x: number) {\r\n        this.values[0] = x;\r\n    }\r\n\r\n    get y() {\r\n        return this.values[1];\r\n    }\r\n    set y(y: number) {\r\n        this.values[1] = y;\r\n    }\r\n\r\n    get z() {\r\n        return this.values[2];\r\n    }\r\n    set z(z: number) {\r\n        this.values[2] = z;\r\n    }\r\n\r\n    get w() {\r\n        return this.values[3];\r\n    }\r\n    set w(w: number) {\r\n        this.values[3] = w;\r\n    }\r\n\r\n    public values: Float32Array;\r\n\r\n    public normalize(): Vector4 {\r\n        var v = this.values;\r\n        var d = Math.sqrt(\r\n            v[0] * v[0] + v[1] * v[1] + v[2] * v[2] + v[3] * v[3]\r\n        );\r\n\r\n        if (d === 0) {\r\n            return Vector4.create(0, 0, 0, 0);\r\n        }\r\n\r\n        v[0] = v[0] / d;\r\n        v[1] = v[1] / d;\r\n        v[2] = v[2] / d;\r\n        v[3] = v[3] / d;\r\n\r\n        return this;\r\n    }\r\n\r\n    public isEqual(v: Vector4) {\r\n        return this.x === v.x && this.y === v.y && this.z === v.z && this.w === v.w;\r\n    }\r\n\r\n    public clone(): Vector4 {\r\n        return this.copyHelper(Vector4.create());\r\n    }\r\n\r\n    public toVector3(): Vector3 {\r\n        return Vector3.create(this.values[0], this.values[1], this.values[2]);\r\n    }\r\n\r\n    public lengthManhattan() {\r\n        return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w);\r\n    }\r\n\r\n    public multiplyScalar(scalar: number) {\r\n        this.x *= scalar;\r\n        this.y *= scalar;\r\n        this.z *= scalar;\r\n        this.w *= scalar;\r\n\r\n        return this;\r\n    }\r\n\r\n    public dot(v: Vector4) {\r\n        return this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\r\n    }\r\n\r\n    public set(x: number, y: number, z: number, w: number) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.w = w;\r\n    }\r\n\r\n\r\n\r\n    protected copyHelper(vector4: Vector4): any {\r\n        var result = vector4,\r\n            i = 0,\r\n            len = this.values.length;\r\n\r\n        for (i = 0; i < len; i++) {\r\n            result.values[i] = this.values[i];\r\n        }\r\n\r\n        return result;\r\n    }\r\n}","import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { Vector4 } from \"./Vector4\";\r\nimport { Matrix3 } from \"./Matrix3\";\r\nimport { Matrix4 } from \"./Matrix4\";\r\n\r\ndeclare var Math: any;\r\n\r\n@registerClass(\"Vector3\")\r\nexport class Vector3 {\r\n    public static up = null;\r\n    public static forward = null;\r\n    public static right = null;\r\n\r\n    public static create(x: number, y: number, z: number): Vector3;\r\n    public static create(): Vector3;\r\n\r\n    public static create(...args): Vector3 {\r\n        var m = null;\r\n\r\n        if (args.length === 0) {\r\n            m = new this();\r\n        }\r\n        else {\r\n            m = new this(args[0], args[1], args[2]);\r\n        }\r\n\r\n        return m;\r\n    }\r\n\r\n    constructor(x: number, y: number, z: number);\r\n    constructor();\r\n\r\n    constructor(...args) {\r\n        this.values = new Float32Array(3);\r\n\r\n        if (args.length > 0) {\r\n            this.values[0] = args[0];\r\n            this.values[1] = args[1];\r\n            this.values[2] = args[2];\r\n        }\r\n    }\r\n\r\n    get x() {\r\n        return this.values[0];\r\n    }\r\n    set x(x: number) {\r\n        this.values[0] = x;\r\n    }\r\n\r\n    get y() {\r\n        return this.values[1];\r\n    }\r\n    set y(y: number) {\r\n        this.values[1] = y;\r\n    }\r\n\r\n    get z() {\r\n        return this.values[2];\r\n    }\r\n    set z(z: number) {\r\n        this.values[2] = z;\r\n    }\r\n\r\n    public values: Float32Array = null;\r\n\r\n    public normalize(): Vector3 {\r\n        var v = this.values;\r\n        var d = Math.sqrt(\r\n            v[0] * v[0] + v[1] * v[1] + v[2] * v[2]\r\n        );\r\n\r\n        if (d === 0) {\r\n            v[0] = 0;\r\n            v[1] = 0;\r\n            v[2] = 0;\r\n            return this;\r\n        }\r\n\r\n        v[0] = v[0] / d;\r\n        v[1] = v[1] / d;\r\n        v[2] = v[2] / d;\r\n\r\n        // for jasmine test:\r\n        // -0.isEqual(0);//not pass, so here change -0 to 0\r\n        if (v[0] === -0) {\r\n            v[0] = 0;\r\n        }\r\n        if (v[1] === -0) {\r\n            v[1] = 0;\r\n        }\r\n        if (v[2] === -0) {\r\n            v[2] = 0;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public isZero() {\r\n        var v = this.values;\r\n\r\n        return v[0] === 0 && v[1] === 0 && v[2] === 0;\r\n    }\r\n\r\n    public scale(scalar: number);\r\n    public scale(x: number, y: number, z: number);\r\n\r\n    public scale(...args) {\r\n        var v = this.values;\r\n\r\n        if (args.length === 1) {\r\n            let scalar = args[0];\r\n\r\n            v[0] *= scalar;\r\n            v[1] *= scalar;\r\n            v[2] *= scalar;\r\n        }\r\n        else if (args.length === 3) {\r\n            let x = args[0],\r\n                y = args[1],\r\n                z = args[2];\r\n\r\n            v[0] *= x;\r\n            v[1] *= y;\r\n            v[2] *= z;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public set(v: Vector3);\r\n    public set(x: number, y: number, z: number);\r\n\r\n    public set(...args) {\r\n        if (args.length === 3) {\r\n            this.x = args[0];\r\n            this.y = args[1];\r\n            this.z = args[2];\r\n        }\r\n        else {\r\n            let v: Vector3 = args[0];\r\n\r\n            this.x = v.x;\r\n            this.y = v.y;\r\n            this.z = v.z;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public sub(v: Vector3): Vector3 {\r\n        this.values[0] = this.values[0] - v.values[0];\r\n        this.values[1] = this.values[1] - v.values[1];\r\n        this.values[2] = this.values[2] - v.values[2];\r\n\r\n        return this;\r\n    }\r\n\r\n    public sub2(v1: Vector3, v2: Vector3) {\r\n        this.values[0] = v1.values[0] - v2.values[0];\r\n        this.values[1] = v1.values[1] - v2.values[1];\r\n        this.values[2] = v1.values[2] - v2.values[2];\r\n\r\n        return this;\r\n    }\r\n\r\n    public add(v: Vector3) {\r\n        this.values[0] = this.values[0] + v.values[0];\r\n        this.values[1] = this.values[1] + v.values[1];\r\n        this.values[2] = this.values[2] + v.values[2];\r\n\r\n        return this;\r\n    }\r\n\r\n    public add2(v1: Vector3, v2: Vector3) {\r\n        this.values[0] = v1.values[0] + v2.values[0];\r\n        this.values[1] = v1.values[1] + v2.values[1];\r\n        this.values[2] = v1.values[2] + v2.values[2];\r\n\r\n        return this;\r\n    }\r\n\r\n    public mul(v: Vector3) {\r\n        this.values[0] = this.values[0] * v.values[0];\r\n        this.values[1] = this.values[1] * v.values[1];\r\n        this.values[2] = this.values[2] * v.values[2];\r\n\r\n        return this;\r\n    }\r\n\r\n    public mul2(v1: Vector3, v2: Vector3) {\r\n        this.values[0] = v1.values[0] * v2.values[0];\r\n        this.values[1] = v1.values[1] * v2.values[1];\r\n        this.values[2] = v1.values[2] * v2.values[2];\r\n\r\n        return this;\r\n    }\r\n\r\n    public reverse(): Vector3 {\r\n        this.values[0] = -this.values[0];\r\n        this.values[1] = -this.values[1];\r\n        this.values[2] = -this.values[2];\r\n\r\n        return this;\r\n    }\r\n\r\n    public clone(): Vector3 {\r\n        var result = Vector3.create(),\r\n            i = 0,\r\n            len = this.values.length;\r\n\r\n        for (i = 0; i < len; i++) {\r\n            result.values[i] = this.values[i];\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    public toVector4(): Vector4 {\r\n        return Vector4.create(this.values[0], this.values[1], this.values[2], 1.0);\r\n    }\r\n\r\n    public length() {\r\n        var v = this.values;\r\n\r\n        return Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2]);\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name cross\r\n     * @description Returns the result of a cross product operation performed on the two specified 3-dimensional vectors.\r\n     * @param {Vec3} lhs The first 3-dimensional vector operand of the cross product.\r\n     * @param {Vec3} rhs The second 3-dimensional vector operand of the cross product.\r\n     * @returns {Vec3} Self for chaining.\r\n     * @example\r\n     * var back = new Vec3().cross(Vec3.RIGHT, Vec3.UP);\r\n     *\r\n     * // Should print the Z axis (i.e. [0, 0, 1])\r\n     * console.log(\"The result of the cross product is: \" + back.toString());\r\n     */\r\n    public cross(lhs: Vector3, rhs: Vector3) {\r\n        var a, b, r, ax, ay, az, bx, by, bz;\r\n\r\n        a = lhs.values;\r\n        b = rhs.values;\r\n        r = this.values;\r\n\r\n        ax = a[0];\r\n        ay = a[1];\r\n        az = a[2];\r\n        bx = b[0];\r\n        by = b[1];\r\n        bz = b[2];\r\n\r\n        r[0] = ay * bz - by * az;\r\n        r[1] = az * bx - bz * ax;\r\n        r[2] = ax * by - bx * ay;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name lerp\r\n     * @description Returns the result of a linear interpolation between two specified 3-dimensional vectors.\r\n     * @param {Vec3} lhs The 3-dimensional to interpolate from.\r\n     * @param {Vec3} rhs The 3-dimensional to interpolate to.\r\n     * @param {Number} alpha The value controlling the point of interpolation. Between 0 and 1, the linear interpolant\r\n     * will occur on a straight line between lhs and rhs. Outside of this range, the linear interpolant will occur on\r\n     * a ray extrapolated from this line.\r\n     * @returns {Vec3} Self for chaining.\r\n     * @example\r\n     * var a = new Vec3(0, 0, 0);\r\n     * var b = new Vec3(10, 10, 10);\r\n     * var r = new Vec3();\r\n     *\r\n     * r.lerp(a, b, 0);   // r is equal to a\r\n     * r.lerp(a, b, 0.5); // r is 5, 5, 5\r\n     * r.lerp(a, b, 1);   // r is equal to b\r\n     */\r\n    public lerp(lhs: Vector3, rhs: Vector3, alpha: number) {\r\n        var a = lhs.values,\r\n            b = rhs.values,\r\n            r = this.values;\r\n\r\n        r[0] = a[0] + alpha * (b[0] - a[0]);\r\n        r[1] = a[1] + alpha * (b[1] - a[1]);\r\n        r[2] = a[2] + alpha * (b[2] - a[2]);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name dot\r\n     * @description Returns the result of a dot product operation performed on the two specified 3-dimensional vectors.\r\n     * @param {Vec3} rhs The second 3-dimensional vector operand of the dot product.\r\n     * @returns {Number} The result of the dot product operation.\r\n     * @example\r\n     * var v1 = new Vec3(5, 10, 20);\r\n     * var v2 = new Vec3(10, 20, 40);\r\n     * var v1dotv2 = v1.dot(v2);\r\n     * console.log(\"The result of the dot product is: \" + v1dotv2);\r\n     */\r\n    public dot(rhs) {\r\n        var a = this.values,\r\n            b = rhs.values;\r\n\r\n        return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\r\n    }\r\n\r\n    public calAngleCos(v1: Vector3) {\r\n        var l = this.length() * v1.length();\r\n\r\n        if (l === 0) {\r\n            return NaN;\r\n        }\r\n\r\n        return this.dot(v1) / l;\r\n    }\r\n\r\n    public min(v: Vector3) {\r\n        if (this.x > v.x) {\r\n            this.x = v.x;\r\n        }\r\n        if (this.y > v.y) {\r\n            this.y = v.y;\r\n        }\r\n        if (this.z > v.z) {\r\n            this.z = v.z;\r\n        }\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n    public max(v: Vector3) {\r\n        if (this.x < v.x) {\r\n            this.x = v.x;\r\n        }\r\n        if (this.y < v.y) {\r\n            this.y = v.y;\r\n        }\r\n        if (this.z < v.z) {\r\n            this.z = v.z;\r\n        }\r\n\r\n        return this;\r\n\r\n    }\r\n\r\n    public isEqual(v: Vector3) {\r\n        return this.x === v.x && this.y === v.y && this.z === v.z;\r\n    }\r\n\r\n    public toArray() {\r\n        return [this.x, this.y, this.z];\r\n    }\r\n\r\n    public applyMatrix3(m: Matrix3) {\r\n        var x = this.x,\r\n            y = this.y,\r\n            z = this.z,\r\n            e = m.values;\r\n\r\n        this.x = e[0] * x + e[3] * y + e[6] * z;\r\n        this.y = e[1] * x + e[4] * y + e[7] * z;\r\n        this.z = e[2] * x + e[5] * y + e[8] * z;\r\n\r\n        return this;\r\n    }\r\n\r\n    public applyMatrix4(m: Matrix4) {\r\n        var x = this.x,\r\n            y = this.y,\r\n            z = this.z,\r\n            e = m.values;\r\n\r\n        this.x = e[0] * x + e[4] * y + e[8] * z + e[12];\r\n        this.y = e[1] * x + e[5] * y + e[9] * z + e[13];\r\n        this.z = e[2] * x + e[6] * y + e[10] * z + e[14];\r\n\r\n        return this;\r\n    }\r\n\r\n    public distanceTo(v: Vector3) {\r\n        return Math.sqrt(this.distanceToSquared(v));\r\n    }\r\n\r\n    public distanceToSquared(v: Vector3) {\r\n        var dx = this.x - v.x,\r\n            dy = this.y - v.y,\r\n            dz = this.z - v.z;\r\n\r\n        return dx ** 2 + dy ** 2 + dz ** 2;\r\n    }\r\n}\r\n\r\n\r\nVector3.up = Vector3.create(0, 1, 0);\r\nVector3.forward = Vector3.create(0, 0, 1);\r\nVector3.right = Vector3.create(1, 0, 0);","import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { Vector3 } from \"./Vector3\";\r\nimport { DEG_TO_RAD, RAD_TO_DEG } from \"./Global\";\r\nimport { Matrix4 } from \"./Matrix4\";\r\n\r\ndeclare var Math: any;\r\n\r\n@registerClass(\"Quaternion\")\r\nexport class Quaternion {\r\n    public static create(x?: number, y?: number, z?: number, w?: number) {\r\n        var obj = new this(x, y, z, w);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(x: number = 0, y: number = 0, z: number = 0, w: number = 1) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.w = w;\r\n    }\r\n\r\n    public x: number = null;\r\n    public y: number = null;\r\n    public z: number = null;\r\n    public w: number = null;\r\n\r\n    /**\r\n     * @function\r\n     * @name setFromEulerAngles\r\n     * @description Sets a quaternion from Euler angles specified in XYZ order.\r\n     * @param {Number} ex Angle to rotate around X axis in degrees.\r\n     * @param {Number} ey Angle to rotate around Y axis in degrees.\r\n     * @param {Number} ez Angle to rotate around Z axis in degrees.\r\n     * @returns {Quat} Self for chaining.\r\n     * @example\r\n     * var q = new Quat();\r\n     * q.setFromEulerAngles(45, 90, 180);\r\n     */\r\n    public setFromEulerAngles(eulerAngles: Vector3) {\r\n        var sx, cx, sy, cy, sz, cz, halfToRad,\r\n            ex = eulerAngles.x,\r\n            ey = eulerAngles.y,\r\n            ez = eulerAngles.z;\r\n\r\n        halfToRad = 0.5 * DEG_TO_RAD;\r\n        ex *= halfToRad;\r\n        ey *= halfToRad;\r\n        ez *= halfToRad;\r\n\r\n        sx = Math.sin(ex);\r\n        cx = Math.cos(ex);\r\n        sy = Math.sin(ey);\r\n        cy = Math.cos(ey);\r\n        sz = Math.sin(ez);\r\n        cz = Math.cos(ez);\r\n\r\n        this.x = sx * cy * cz - cx * sy * sz;\r\n        this.y = cx * sy * cz + sx * cy * sz;\r\n        this.z = cx * cy * sz - sx * sy * cz;\r\n        this.w = cx * cy * cz + sx * sy * sz;\r\n\r\n        return this;\r\n    }\r\n\r\n    public multiply(rhs: Quaternion);\r\n    public multiply(rhs1: Quaternion, rhs2: Quaternion);\r\n\r\n    public multiply(...args) {\r\n        var q1x, q1y, q1z, q1w, q2x, q2y, q2z, q2w,\r\n            rhs1, rhs2,\r\n            result = this;\r\n\r\n        if (args.length === 1) {\r\n            rhs1 = this;\r\n            rhs2 = args[0];\r\n        }\r\n        else if (args.length === 2) {\r\n            rhs1 = args[0];\r\n            rhs2 = args[1];\r\n        }\r\n\r\n        q1x = rhs1.x;\r\n        q1y = rhs1.y;\r\n        q1z = rhs1.z;\r\n        q1w = rhs1.w;\r\n\r\n        q2x = rhs2.x;\r\n        q2y = rhs2.y;\r\n        q2z = rhs2.z;\r\n        q2w = rhs2.w;\r\n\r\n        result.x = q1w * q2x + q1x * q2w + q1y * q2z - q1z * q2y;\r\n        result.y = q1w * q2y + q1y * q2w + q1z * q2x - q1x * q2z;\r\n        result.z = q1w * q2z + q1z * q2w + q1x * q2y - q1y * q2x;\r\n        result.w = q1w * q2w - q1x * q2x - q1y * q2y - q1z * q2z;\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name setFromMat4\r\n     * @description Converts the specified 4x4 matrix to a quaternion. Note that since\r\n     * a quaternion is purely a representation for orientation, only the translational part\r\n     * of the matrix is lost.\r\n     * @param {Mat4} m The 4x4 matrix to convert.\r\n     * @returns {Quat} Self for chaining.\r\n     * @example\r\n     * // Create a 4x4 rotation matrix of 180 degrees around the y-axis\r\n     * var rot = new Mat4().setFromAxisAngle(Vec3.UP, 180);\r\n     *\r\n     * // Convert to a quaternion\r\n     * var q = new Quat().setFromMat4(rot);\r\n     */\r\n    public setFromMatrix(matrix: Matrix4) {\r\n        var m00, m01, m02, m10, m11, m12, m20, m21, m22,\r\n            tr, s, rs, lx, ly, lz, m;\r\n\r\n        m = matrix.values;\r\n\r\n        // Cache matrix values for super-speed\r\n        m00 = m[0];\r\n        m01 = m[1];\r\n        m02 = m[2];\r\n        m10 = m[4];\r\n        m11 = m[5];\r\n        m12 = m[6];\r\n        m20 = m[8];\r\n        m21 = m[9];\r\n        m22 = m[10];\r\n\r\n        // Remove the scale from the matrix\r\n        lx = 1 / Math.sqrt(m00 * m00 + m01 * m01 + m02 * m02);\r\n        ly = 1 / Math.sqrt(m10 * m10 + m11 * m11 + m12 * m12);\r\n        lz = 1 / Math.sqrt(m20 * m20 + m21 * m21 + m22 * m22);\r\n\r\n        m00 *= lx;\r\n        m01 *= lx;\r\n        m02 *= lx;\r\n        m10 *= ly;\r\n        m11 *= ly;\r\n        m12 *= ly;\r\n        m20 *= lz;\r\n        m21 *= lz;\r\n        m22 *= lz;\r\n\r\n        // http://www.cs.ucr.edu/~vbz/resources/quatut.pdf\r\n\r\n        tr = m00 + m11 + m22;\r\n        if (tr >= 0) {\r\n            s = Math.sqrt(tr + 1);\r\n            this.w = s * 0.5;\r\n            s = 0.5 / s;\r\n            this.x = (m12 - m21) * s;\r\n            this.y = (m20 - m02) * s;\r\n            this.z = (m01 - m10) * s;\r\n        } else {\r\n            if (m00 > m11) {\r\n                if (m00 > m22) {\r\n                    // XDiagDomMatrix\r\n                    rs = (m00 - (m11 + m22)) + 1;\r\n                    rs = Math.sqrt(rs);\r\n\r\n                    this.x = rs * 0.5;\r\n                    rs = 0.5 / rs;\r\n                    this.w = (m12 - m21) * rs;\r\n                    this.y = (m01 + m10) * rs;\r\n                    this.z = (m02 + m20) * rs;\r\n                } else {\r\n                    // ZDiagDomMatrix\r\n                    rs = (m22 - (m00 + m11)) + 1;\r\n                    rs = Math.sqrt(rs);\r\n\r\n                    this.z = rs * 0.5;\r\n                    rs = 0.5 / rs;\r\n                    this.w = (m01 - m10) * rs;\r\n                    this.x = (m20 + m02) * rs;\r\n                    this.y = (m21 + m12) * rs;\r\n                }\r\n            } else if (m11 > m22) {\r\n                // YDiagDomMatrix\r\n                rs = (m11 - (m22 + m00)) + 1;\r\n                rs = Math.sqrt(rs);\r\n\r\n                this.y = rs * 0.5;\r\n                rs = 0.5 / rs;\r\n                this.w = (m20 - m02) * rs;\r\n                this.z = (m12 + m21) * rs;\r\n                this.x = (m10 + m01) * rs;\r\n            } else {\r\n                // ZDiagDomMatrix\r\n                rs = (m22 - (m00 + m11)) + 1;\r\n                rs = Math.sqrt(rs);\r\n\r\n                this.z = rs * 0.5;\r\n                rs = 0.5 / rs;\r\n                this.w = (m01 - m10) * rs;\r\n                this.x = (m20 + m02) * rs;\r\n                this.y = (m21 + m12) * rs;\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name setFromAxisAngle\r\n     * @description Sets a quaternion from an angular rotation around an axis.\r\n     * @param {Vec3} axis World space axis around which to rotate.\r\n     * @param {Number} angle Angle to rotate around the given axis in degrees.\r\n     * @returns {Quat} Self for chaining.\r\n     * @example\r\n     * var q = new Quat();\r\n     * q.setFromAxisAngle(Vec3.UP, 90);\r\n     */\r\n    public setFromAxisAngle(angle: number, axis: Vector3) {\r\n        var sa, ca;\r\n\r\n        axis = axis.normalize();\r\n\r\n        angle *= 0.5 * DEG_TO_RAD;\r\n\r\n        sa = Math.sin(angle);\r\n        ca = Math.cos(angle);\r\n\r\n        this.x = sa * axis.x;\r\n        this.y = sa * axis.y;\r\n        this.z = sa * axis.z;\r\n        this.w = ca;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name invert\r\n     * @description Generates the inverse of the specified quaternion.\r\n     * @returns {Quat} Self for chaining.\r\n     * @example\r\n     * // Create a quaternion rotated 180 degrees around the y-axis\r\n     * var rot = new Quat().setFromEulerAngles(0, 180, 0);\r\n     *\r\n     * // Invert in place\r\n     * rot.invert();\r\n     */\r\n    public invert() {\r\n        return this.conjugate().normalize();\r\n    }\r\n\r\n    public conjugate() {\r\n        this.x *= -1;\r\n        this.y *= -1;\r\n        this.z *= -1;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name clone\r\n     * @description Returns an identical clone of the specified quaternion.\r\n     * @returns {Quat} A quaternion containing the result of the cloning.\r\n     * @example\r\n     * var q = new Quat(-0.11, -0.15, -0.46, 0.87);\r\n     * var qclone = q.clone();\r\n     *\r\n     * console.log(\"The result of the cloning is: \" + q.toString());\r\n     */\r\n    public clone() {\r\n        return Quaternion.create(this.x, this.y, this.z, this.w);\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name normalize\r\n     * @description Returns the specified quaternion converted in place to a unit quaternion.\r\n     * @returns {Quat} The result of the normalization.\r\n     * @example\r\n     * var v = new Quat(0, 0, 0, 5);\r\n     *\r\n     * v.normalize();\r\n     *\r\n     * // Should output 0, 0, 0, 1\r\n     * console.log(\"The result of the vector normalization is: \" + v.toString());\r\n     */\r\n    public normalize() {\r\n        var len = this.length();\r\n        if (len === 0) {\r\n            this.x = this.y = this.z = 0;\r\n            this.w = 1;\r\n        } else {\r\n            len = 1 / len;\r\n            this.x *= len;\r\n            this.y *= len;\r\n            this.z *= len;\r\n            this.w *= len;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name length\r\n     * @description Returns the magnitude of the specified quaternion.\r\n     * @returns {Number} The magnitude of the specified quaternion.\r\n     * @example\r\n     * var q = new Quat(0, 0, 0, 5);\r\n     * var len = q.length();\r\n     * // Should output 5\r\n     * console.log(\"The length of the quaternion is: \" + len);\r\n     */\r\n    public length() {\r\n        var x, y, z, w;\r\n\r\n        x = this.x;\r\n        y = this.y;\r\n        z = this.z;\r\n        w = this.w;\r\n\r\n        return Math.sqrt(x * x + y * y + z * z + w * w);\r\n    }\r\n\r\n\r\n    public multiplyVector3(vector: Vector3) {\r\n        var q = this;\r\n        var x = vector.x;\r\n        var y = vector.y;\r\n        var z = vector.z;\r\n\r\n        var qx = q.x;\r\n        var qy = q.y;\r\n        var qz = q.z;\r\n        var qw = q.w;\r\n\r\n        // calculate quat * vector\r\n\r\n        var ix = qw * x + qy * z - qz * y;\r\n        var iy = qw * y + qz * x - qx * z;\r\n        var iz = qw * z + qx * y - qy * x;\r\n        var iw = - qx * x - qy * y - qz * z;\r\n\r\n        // calculate result * inverse quat\r\n\r\n        return Vector3.create(\r\n            ix * qw + iw * - qx + iy * - qz - iz * - qy,\r\n            iy * qw + iw * - qy + iz * - qx - ix * - qz,\r\n            iz * qw + iw * - qz + ix * - qy - iy * - qx\r\n        );\r\n    }\r\n\r\n    public set(x: number, y: number, z: number, w: number) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.w = w;\r\n\r\n        return this;\r\n    }\r\n\r\n    public sub(quat: Quaternion) {\r\n        var result = quat.clone().invert().multiply(this);\r\n\r\n        this.set(result.x, result.y, result.z, result.w);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name getEulerAngles\r\n     * @description Converts the supplied quaternion to Euler angles.\r\n     * @param {Vec3} [eulers] The 3-dimensional vector to receive the Euler angles.\r\n     * @returns {Vec3} The 3-dimensional vector holding the Euler angles that\r\n     * correspond to the supplied quaternion.\r\n     */\r\n    public getEulerAngles() {\r\n        var x, y, z, qx, qy, qz, qw, a2;\r\n\r\n        qx = this.x;\r\n        qy = this.y;\r\n        qz = this.z;\r\n        qw = this.w;\r\n\r\n        a2 = 2 * (qw * qy - qx * qz);\r\n        if (a2 <= -0.99999) {\r\n            x = 2 * Math.atan2(qx, qw);\r\n            y = -Math.PI / 2;\r\n            z = 0;\r\n        } else if (a2 >= 0.99999) {\r\n            x = 2 * Math.atan2(qx, qw);\r\n            y = Math.PI / 2;\r\n            z = 0;\r\n        } else {\r\n            x = Math.atan2(2 * (qw * qx + qy * qz), 1 - 2 * (qx * qx + qy * qy));\r\n            y = Math.asin(a2);\r\n            z = Math.atan2(2 * (qw * qz + qx * qy), 1 - 2 * (qy * qy + qz * qz));\r\n        }\r\n\r\n        return Vector3.create(x, y, z).scale(RAD_TO_DEG);\r\n    }\r\n\r\n    public slerp(left: Quaternion, right: Quaternion, amount: number): Quaternion {\r\n        if (amount === 0) {\r\n            this.set(left.x, left.y, left.z, left.w);\r\n\r\n            return this;\r\n        }\r\n        else if (amount === 1) {\r\n            this.set(right.x, right.y, right.z, right.w);\r\n\r\n            return this;\r\n        }\r\n\r\n        var num2;\r\n        var num3;\r\n        var num = amount;\r\n        var num4 = (((left.x * right.x) + (left.y * right.y)) + (left.z * right.z)) + (left.w * right.w);\r\n        var flag = false;\r\n\r\n        if (num4 < 0) {\r\n            flag = true;\r\n            num4 = -num4;\r\n        }\r\n\r\n        if (num4 > 0.999999) {\r\n            num3 = 1 - num;\r\n            num2 = flag ? -num : num;\r\n        }\r\n        else {\r\n            var num5 = Math.acos(num4);\r\n            var num6 = (1.0 / Math.sin(num5));\r\n            num3 = (Math.sin((1.0 - num) * num5)) * num6;\r\n            num2 = flag ? ((-Math.sin(num * num5)) * num6) : ((Math.sin(num * num5)) * num6);\r\n        }\r\n\r\n        this.set((num3 * left.x) + (num2 * right.x), (num3 * left.y) + (num2 * right.y), (num3 * left.z) + (num2 * right.z), (num3 * left.w) + (num2 * right.w));\r\n\r\n        return this;\r\n    }\r\n}","import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { Matrix3 } from \"./Matrix3\";\r\nimport { Log } from \"../utils/Log\";\r\nimport { requireCheck, it, assert } from \"../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { Vector3 } from \"./Vector3\";\r\nimport { Vector4 } from \"./Vector4\";\r\nimport { Quaternion } from \"./Quaternion\";\r\nimport { RAD_TO_DEG } from \"./Global\";\r\n\r\ndeclare var Math: any;\r\n\r\n/*!\r\n 注意：矩阵元素是按列主序存储在数组中的。\r\n */\r\n@registerClass(\"Matrix4\")\r\nexport class Matrix4 {\r\n    public static create(mat: Float32Array): Matrix4;\r\n    public static create(): Matrix4;\r\n\r\n    public static create(...args): Matrix4 {\r\n        var m = null;\r\n\r\n        if (args.length === 0) {\r\n            m = new this();\r\n        }\r\n        else {\r\n            m = new this(args[0]);\r\n        }\r\n\r\n        return m;\r\n    }\r\n\r\n    constructor(mat: Float32Array);\r\n    constructor();\r\n\r\n    constructor(...args) {\r\n        if (args.length === 1) {\r\n            this.values = args[0];\r\n        }\r\n        else {\r\n            this.values = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\r\n        }\r\n    }\r\n\r\n    public values: Float32Array = null;\r\n\r\n    public set(initialM11: number, initialM12: number, initialM13: number, initialM14: number,\r\n        initialM21: number, initialM22: number, initialM23: number, initialM24: number,\r\n        initialM31: number, initialM32: number, initialM33: number, initialM34: number,\r\n        initialM41: number, initialM42: number, initialM43: number, initialM44: number) {\r\n        var te = this.values;\r\n\r\n        te[0] = initialM11;\r\n        te[1] = initialM12;\r\n        te[2] = initialM13;\r\n        te[3] = initialM14;\r\n        te[4] = initialM21;\r\n        te[5] = initialM22;\r\n        te[6] = initialM23;\r\n        te[7] = initialM24;\r\n        te[8] = initialM31;\r\n        te[9] = initialM32;\r\n        te[10] = initialM33;\r\n        te[11] = initialM34;\r\n        te[12] = initialM41;\r\n        te[13] = initialM42;\r\n        te[14] = initialM43;\r\n        te[15] = initialM44;\r\n\r\n        return this;\r\n    }\r\n\r\n    public setIdentity(): Matrix4 {\r\n        var e = this.values;\r\n        e[0] = 1; e[4] = 0; e[8] = 0; e[12] = 0;\r\n        e[1] = 0; e[5] = 1; e[9] = 0; e[13] = 0;\r\n        e[2] = 0; e[6] = 0; e[10] = 1; e[14] = 0;\r\n        e[3] = 0; e[7] = 0; e[11] = 0; e[15] = 1;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Calculate the inverse matrix of specified matrix, and set to this.\r\n     * @param other The source matrix\r\n     * @return this\r\n     */\r\n    public invert(): Matrix4 {\r\n        var a00, a01, a02, a03,\r\n            a10, a11, a12, a13,\r\n            a20, a21, a22, a23,\r\n            a30, a31, a32, a33,\r\n            b00, b01, b02, b03,\r\n            b04, b05, b06, b07,\r\n            b08, b09, b10, b11,\r\n            invDet, m;\r\n\r\n        m = this.values;\r\n        a00 = m[0];\r\n        a01 = m[1];\r\n        a02 = m[2];\r\n        a03 = m[3];\r\n        a10 = m[4];\r\n        a11 = m[5];\r\n        a12 = m[6];\r\n        a13 = m[7];\r\n        a20 = m[8];\r\n        a21 = m[9];\r\n        a22 = m[10];\r\n        a23 = m[11];\r\n        a30 = m[12];\r\n        a31 = m[13];\r\n        a32 = m[14];\r\n        a33 = m[15];\r\n\r\n        b00 = a00 * a11 - a01 * a10;\r\n        b01 = a00 * a12 - a02 * a10;\r\n        b02 = a00 * a13 - a03 * a10;\r\n        b03 = a01 * a12 - a02 * a11;\r\n        b04 = a01 * a13 - a03 * a11;\r\n        b05 = a02 * a13 - a03 * a12;\r\n        b06 = a20 * a31 - a21 * a30;\r\n        b07 = a20 * a32 - a22 * a30;\r\n        b08 = a20 * a33 - a23 * a30;\r\n        b09 = a21 * a32 - a22 * a31;\r\n        b10 = a21 * a33 - a23 * a31;\r\n        b11 = a22 * a33 - a23 * a32;\r\n\r\n        invDet = 1 / (b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06);\r\n\r\n        m[0] = (a11 * b11 - a12 * b10 + a13 * b09) * invDet;\r\n        m[1] = (-a01 * b11 + a02 * b10 - a03 * b09) * invDet;\r\n        m[2] = (a31 * b05 - a32 * b04 + a33 * b03) * invDet;\r\n        m[3] = (-a21 * b05 + a22 * b04 - a23 * b03) * invDet;\r\n        m[4] = (-a10 * b11 + a12 * b08 - a13 * b07) * invDet;\r\n        m[5] = (a00 * b11 - a02 * b08 + a03 * b07) * invDet;\r\n        m[6] = (-a30 * b05 + a32 * b02 - a33 * b01) * invDet;\r\n        m[7] = (a20 * b05 - a22 * b02 + a23 * b01) * invDet;\r\n        m[8] = (a10 * b10 - a11 * b08 + a13 * b06) * invDet;\r\n        m[9] = (-a00 * b10 + a01 * b08 - a03 * b06) * invDet;\r\n        m[10] = (a30 * b04 - a31 * b02 + a33 * b00) * invDet;\r\n        m[11] = (-a20 * b04 + a21 * b02 - a23 * b00) * invDet;\r\n        m[12] = (-a10 * b09 + a11 * b07 - a12 * b06) * invDet;\r\n        m[13] = (a00 * b09 - a01 * b07 + a02 * b06) * invDet;\r\n        m[14] = (-a30 * b03 + a31 * b01 - a32 * b00) * invDet;\r\n        m[15] = (a20 * b03 - a21 * b01 + a22 * b00) * invDet;\r\n\r\n        return this;\r\n    }\r\n\r\n    public invertTo3x3(): Matrix3 {\r\n        var a11, a21, a31, a12, a22, a32, a13, a23, a33,\r\n            m, r, det, idet;\r\n        var mat3 = Matrix3.create();\r\n\r\n        m = this.values;\r\n\r\n        r = mat3.values;\r\n\r\n        a11 = m[10] * m[5] - m[6] * m[9];\r\n        a21 = -m[10] * m[1] + m[2] * m[9];\r\n        a31 = m[6] * m[1] - m[2] * m[5];\r\n        a12 = -m[10] * m[4] + m[6] * m[8];\r\n        a22 = m[10] * m[0] - m[2] * m[8];\r\n        a32 = -m[6] * m[0] + m[2] * m[4];\r\n        a13 = m[9] * m[4] - m[5] * m[8];\r\n        a23 = -m[9] * m[0] + m[1] * m[8];\r\n        a33 = m[5] * m[0] - m[1] * m[4];\r\n\r\n        det = m[0] * a11 + m[1] * a12 + m[2] * a13;\r\n        if (det === 0) { // no inverse\r\n            Log.warn(\"can't invert matrix, determinant is 0\");\r\n\r\n            return mat3;\r\n        }\r\n\r\n        idet = 1 / det;\r\n\r\n        r[0] = idet * a11;\r\n        r[1] = idet * a21;\r\n        r[2] = idet * a31;\r\n        r[3] = idet * a12;\r\n        r[4] = idet * a22;\r\n        r[5] = idet * a32;\r\n        r[6] = idet * a13;\r\n        r[7] = idet * a23;\r\n        r[8] = idet * a33;\r\n\r\n        return mat3;\r\n    }\r\n\r\n    /**\r\n     * Transpose the matrix.\r\n     * @return this\r\n     */\r\n    public transpose(): Matrix4 {\r\n        var te = this.values;\r\n        var tmp;\r\n\r\n        tmp = te[1]; te[1] = te[4]; te[4] = tmp;\r\n        tmp = te[2]; te[2] = te[8]; te[8] = tmp;\r\n        tmp = te[6]; te[6] = te[9]; te[9] = tmp;\r\n\r\n        tmp = te[3]; te[3] = te[12]; te[12] = tmp;\r\n        tmp = te[7]; te[7] = te[13]; te[13] = tmp;\r\n        tmp = te[11]; te[11] = te[14]; te[14] = tmp;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set the matrix for translation.\r\n     * @param x The X value of a translation.\r\n     * @param y The Y value of a translation.\r\n     * @param z The Z value of a translation.\r\n     * @return this\r\n     */\r\n    public setTranslate(x, y, z): Matrix4 {\r\n        var e = this.values;\r\n        e[0] = 1; e[4] = 0; e[8] = 0; e[12] = x;\r\n        e[1] = 0; e[5] = 1; e[9] = 0; e[13] = y;\r\n        e[2] = 0; e[6] = 0; e[10] = 1; e[14] = z;\r\n        e[3] = 0; e[7] = 0; e[11] = 0; e[15] = 1;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Multiply the matrix for translation from the right.\r\n     * @param x The X value of a translation.\r\n     * @param y The Y value of a translation.\r\n     * @param z The Z value of a translation.\r\n     * @return this\r\n     */\r\n    public translate(x, y, z): Matrix4 {\r\n        this.applyMatrix(Matrix4.create().setTranslate(x, y, z));\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set the matrix for rotation.\r\n     * The vector of rotation axis may not be normalized.\r\n     * @param angle The angle of rotation (degrees)\r\n     * @param x The X coordinate of vector of rotation axis.\r\n     * @param y The Y coordinate of vector of rotation axis.\r\n     * @param z The Z coordinate of vector of rotation axis.\r\n     * @return this\r\n     */\r\n    @requireCheck(function(angle: number, x: number, y: number, z: number) {\r\n        it(\"axis's component shouldn't all be zero\", () => {\r\n            expect(x === 0 && y === 0 && z === 0).false;\r\n        });\r\n    })\r\n    public setRotate(angle: number, x: number, y: number, z: number): Matrix4 {\r\n        var e, s, c, len, rlen, nc, xy, yz, zx, xs, ys, zs;\r\n\r\n        var angle = Math.PI * angle / 180;\r\n        e = this.values;\r\n\r\n        s = Math.sin(angle);\r\n        c = Math.cos(angle);\r\n\r\n        if (0 !== x && 0 === y && 0 === z) {\r\n            // Rotation around X axis\r\n            if (x < 0) {\r\n                s = -s;\r\n            }\r\n            e[0] = 1; e[4] = 0; e[8] = 0; e[12] = 0;\r\n            e[1] = 0; e[5] = c; e[9] = -s; e[13] = 0;\r\n            e[2] = 0; e[6] = s; e[10] = c; e[14] = 0;\r\n            e[3] = 0; e[7] = 0; e[11] = 0; e[15] = 1;\r\n        } else if (0 === x && 0 !== y && 0 === z) {\r\n            // Rotation around Y axis\r\n            if (y < 0) {\r\n                s = -s;\r\n            }\r\n            e[0] = c; e[4] = 0; e[8] = s; e[12] = 0;\r\n            e[1] = 0; e[5] = 1; e[9] = 0; e[13] = 0;\r\n            e[2] = -s; e[6] = 0; e[10] = c; e[14] = 0;\r\n            e[3] = 0; e[7] = 0; e[11] = 0; e[15] = 1;\r\n        } else if (0 === x && 0 === y && 0 !== z) {\r\n            // Rotation around Z axis\r\n            if (z < 0) {\r\n                s = -s;\r\n            }\r\n            e[0] = c; e[4] = -s; e[8] = 0; e[12] = 0;\r\n            e[1] = s; e[5] = c; e[9] = 0; e[13] = 0;\r\n            e[2] = 0; e[6] = 0; e[10] = 1; e[14] = 0;\r\n            e[3] = 0; e[7] = 0; e[11] = 0; e[15] = 1;\r\n        } else {\r\n            // Rotation around another axis\r\n            len = Math.sqrt(x * x + y * y + z * z);\r\n            if (len !== 1) {\r\n                //转换为单位向量\r\n                rlen = 1 / len;\r\n                x *= rlen;\r\n                y *= rlen;\r\n                z *= rlen;\r\n            }\r\n\r\n            nc = 1 - c;\r\n            xy = x * y;\r\n            yz = y * z;\r\n            zx = z * x;\r\n            xs = x * s;\r\n            ys = y * s;\r\n            zs = z * s;\r\n\r\n            e[0] = x * x * nc + c;\r\n            e[1] = xy * nc + zs;\r\n            e[2] = zx * nc - ys;\r\n            e[3] = 0;\r\n\r\n            e[4] = xy * nc - zs;\r\n            e[5] = y * y * nc + c;\r\n            e[6] = yz * nc + xs;\r\n            e[7] = 0;\r\n\r\n            e[8] = zx * nc + ys;\r\n            e[9] = yz * nc - xs;\r\n            e[10] = z * z * nc + c;\r\n            e[11] = 0;\r\n\r\n            e[12] = 0;\r\n            e[13] = 0;\r\n            e[14] = 0;\r\n            e[15] = 1;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Multiply the matrix for rotation from the right.\r\n     * The vector of rotation axis may not be normalized.\r\n     * @param angle The angle of rotation (degrees)\r\n     * @param x The X coordinate of vector of rotation axis.\r\n     * @param y The Y coordinate of vector of rotation axis.\r\n     * @param z The Z coordinate of vector of rotation axis.\r\n     * @return this\r\n     */\r\n    public rotate(angle, vector3: Vector3): Matrix4;\r\n    public rotate(angle, x, y, z): Matrix4;\r\n\r\n    public rotate(...args): Matrix4 {\r\n        var angle = args[0];\r\n\r\n        if (args.length === 2) {\r\n            let vector3 = args[1];\r\n\r\n            this.applyMatrix(Matrix4.create().setRotate(angle, vector3.values[0], vector3.values[1], vector3.values[2]));\r\n        }\r\n        else if (args.length === 4) {\r\n            let x = args[1],\r\n                y = args[2],\r\n                z = args[3];\r\n\r\n            this.applyMatrix(Matrix4.create().setRotate(angle, x, y, z));\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set the matrix for scaling.\r\n     * @param x The scale factor along the X axis\r\n     * @param y The scale factor along the Y axis\r\n     * @param z The scale factor along the Z axis\r\n     * @return this\r\n     */\r\n    public setScale(x, y, z): Matrix4 {\r\n        var e = this.values;\r\n        e[0] = x; e[4] = 0; e[8] = 0; e[12] = 0;\r\n        e[1] = 0; e[5] = y; e[9] = 0; e[13] = 0;\r\n        e[2] = 0; e[6] = 0; e[10] = z; e[14] = 0;\r\n        e[3] = 0; e[7] = 0; e[11] = 0; e[15] = 1;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Multiply the matrix for scaling from the right.\r\n     * @param x The scale factor along the X axis\r\n     * @param y The scale factor along the Y axis\r\n     * @param z The scale factor along the Z axis\r\n     * @return this\r\n     */\r\n    public scale(x, y, z): Matrix4 {\r\n        this.applyMatrix(Matrix4.create().setScale(x, y, z));\r\n\r\n        return this;\r\n    }\r\n\r\n    public setLookAt(eye: Vector3, center: Vector3, up: Vector3): Matrix4;\r\n    public setLookAt(eyeX: number, eyeY: number, eyeZ: number, centerX: number, centerY: number, centerZ: number, upX: number, upY: number, upZ: number): Matrix4;\r\n\r\n    /**\r\n     * @function\r\n     * @name setLookAt\r\n     * @description Sets the specified matrix to a viewing matrix derived from an eye point, a target point\r\n     * and an up vector. The matrix maps the target point to the negative z-axis and the eye point to the\r\n     * origin, so that when you use a typical projection matrix, the center of the scene maps to the center\r\n     * of the viewport. Similarly, the direction described by the up vector projected onto the viewing plane\r\n     * is mapped to the positive y-axis so that it points upward in the viewport. The up vector must not be\r\n     * parallel to the line of sight from the eye to the reference point.\r\n     * @param {Vec3} position 3-d vector holding view position.\r\n     * @param {Vec3} target 3-d vector holding reference point.\r\n     * @param {Vec3} up 3-d vector holding the up direction.\r\n     * @returns {Mat4} Self for chaining.\r\n     */\r\n    public setLookAt(...args) {\r\n        var x, y, z,\r\n            eye, center, up;\r\n\r\n        if (args.length === 3) {\r\n            eye = args[0];\r\n            center = args[1];\r\n            up = args[2]\r\n        }\r\n        else if (args.length === 9) {\r\n            eye = Vector3.create(args[0], args[1], args[2]);\r\n            center = Vector3.create(args[3], args[4], args[5]);\r\n            up = Vector3.create(args[6], args[7], args[8]);\r\n        }\r\n        x = Vector3.create();\r\n\r\n        z = eye.clone().sub(center).normalize();\r\n\r\n        y = up.clone().normalize();\r\n        x.cross(y, z).normalize();\r\n        y.cross(z, x);\r\n\r\n        var r = this.values;\r\n\r\n        r[0] = x.x;\r\n        r[1] = x.y;\r\n        r[2] = x.z;\r\n        r[3] = 0;\r\n        r[4] = y.x;\r\n        r[5] = y.y;\r\n        r[6] = y.z;\r\n        r[7] = 0;\r\n        r[8] = z.x;\r\n        r[9] = z.y;\r\n        r[10] = z.z;\r\n        r[11] = 0;\r\n        r[12] = eye.x;\r\n        r[13] = eye.y;\r\n        r[14] = eye.z;\r\n        r[15] = 1;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Multiply the viewing matrix from the right.\r\n     * @param eyeX, eyeY, eyeZ The position of the eye point.\r\n     * @param centerX, centerY, centerZ The position of the reference point.\r\n     * @param upX, upY, upZ The direction of the up vector.\r\n     * @return this\r\n     */\r\n    public lookAt(eye: Vector3, center: Vector3, up: Vector3): Matrix4;\r\n    public lookAt(eyeX: number, eyeY: number, eyeZ: number, centerX: number, centerY: number, centerZ: number, upX: number, upY: number, upZ: number): Matrix4;\r\n\r\n    public lookAt(...args): Matrix4 {\r\n        var matrix = Matrix4.create();\r\n\r\n        this.applyMatrix(matrix.setLookAt.apply(matrix, args));\r\n\r\n        return this;\r\n    }\r\n\r\n    @requireCheck(function(left: number, right: number, bottom: number, top: number, near: number, far: number) {\r\n        assert(left !== right && bottom !== top && near !== far, Log.info.FUNC_MUST_NOT_BE(\"frustum\", \"null\"));\r\n    })\r\n    public setOrtho(left: number, right: number, bottom: number, top: number, near: number, far: number): Matrix4 {\r\n        var e = this.values,\r\n            rw,\r\n            rh,\r\n            rd;\r\n\r\n        rw = 1 / (right - left);\r\n        rh = 1 / (top - bottom);\r\n        rd = 1 / (far - near);\r\n\r\n        e[0] = 2 * rw;\r\n        e[1] = 0;\r\n        e[2] = 0;\r\n        e[3] = 0;\r\n\r\n        e[4] = 0;\r\n        e[5] = 2 * rh;\r\n        e[6] = 0;\r\n        e[7] = 0;\r\n\r\n        e[8] = 0;\r\n        e[9] = 0;\r\n        e[10] = -2 * rd;\r\n        e[11] = 0;\r\n\r\n        e[12] = -(right + left) * rw;\r\n        e[13] = -(top + bottom) * rh;\r\n        e[14] = -(far + near) * rd;\r\n        e[15] = 1;\r\n\r\n        return this;\r\n    }\r\n\r\n    public ortho(left: number, right: number, bottom: number, top: number, near: number, far: number): Matrix4 {\r\n        this.applyMatrix(Matrix4.create().setOrtho(left, right, bottom, top, near, far));\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set the perspective projection matrix by fovy and aspect.\r\n     * @param fovy The angle between the upper and lower sides of the frustum.\r\n     * @param aspect The aspect ratio of the frustum. (width/height)\r\n     * @param near The distances to the nearer depth clipping plane. This value must be plus value.\r\n     * @param far The distances to the farther depth clipping plane. This value must be plus value.\r\n     * @return this\r\n     */\r\n    @requireCheck(function(fovy: number, aspect: number, near: number, far: number) {\r\n        assert(near !== far && aspect !== 0, Log.info.FUNC_MUST_NOT_BE(\"frustum\", \"null\"));\r\n        assert(near > 0, Log.info.FUNC_MUST(\"near\", \"> 0\"));\r\n        assert(far > 0, Log.info.FUNC_MUST(\"far\", \"> 0\"));\r\n\r\n    })\r\n    public setPerspective(fovy: number, aspect: number, near: number, far: number): Matrix4 {\r\n        var e = null,\r\n            rd = null,\r\n            s = null,\r\n            ct = null,\r\n            fovy = Math.PI * fovy / 180 / 2;\r\n\r\n        s = Math.sin(fovy);\r\n        Log.error(s === 0, Log.info.FUNC_MUST_NOT_BE(\"frustum\", \"null\"));\r\n\r\n        rd = 1 / (far - near);\r\n        ct = Math.cos(fovy) / s;\r\n\r\n        e = this.values;\r\n\r\n        e[0] = ct / aspect;\r\n        e[1] = 0;\r\n        e[2] = 0;\r\n        e[3] = 0;\r\n\r\n        e[4] = 0;\r\n        e[5] = ct;\r\n        e[6] = 0;\r\n        e[7] = 0;\r\n\r\n        e[8] = 0;\r\n        e[9] = 0;\r\n        e[10] = -(far + near) * rd;\r\n        e[11] = -1;\r\n\r\n        e[12] = 0;\r\n        e[13] = 0;\r\n        e[14] = -2 * near * far * rd;\r\n        e[15] = 0;\r\n\r\n        return this;\r\n    }\r\n\r\n    public perspective(fovy: number, aspect: number, near: number, far: number): Matrix4 {\r\n        this.applyMatrix(Matrix4.create().setPerspective(fovy, aspect, near, far));\r\n\r\n        return this;\r\n    }\r\n\r\n    public applyMatrix(other: Matrix4, notChangeSelf: boolean = false): Matrix4 {\r\n        var a = this,\r\n            //todo optimize:use temp matrix4\r\n            b = other.clone();\r\n\r\n        /*!\r\n         b*a，而不是a*b\r\n         这是因为在webgl中，向量是右乘的，\r\n         此处希望坐标向量先进行this.values的变换，然后进行other.values的变换，因此要b*a，从而在右乘向量时为b*a*vec\r\n         */\r\n\r\n        if (notChangeSelf) {\r\n            return b.multiply(a);\r\n        }\r\n\r\n        this.values = b.multiply(a).values;\r\n\r\n        return this;\r\n    }\r\n\r\n    public multiply(matrix: Matrix4): Matrix4;\r\n    public multiply(matrix1: Matrix4, matrix2: Matrix4): Matrix4;\r\n\r\n    public multiply(...args): Matrix4 {\r\n        var mat1 = null,\r\n            mat2 = null,\r\n            result = null;\r\n\r\n        result = this.values;\r\n\r\n        if (args.length === 1) {\r\n            mat1 = this.values;\r\n            mat2 = args[0].values;\r\n        }\r\n        else if (args.length === 2) {\r\n            mat1 = args[0].values;\r\n            mat2 = args[1].values;\r\n\r\n        }\r\n\r\n        var a = mat1[0], b = mat1[1], c = mat1[2], d = mat1[3],\r\n            e = mat1[4], f = mat1[5], g = mat1[6], h = mat1[7],\r\n            i = mat1[8], j = mat1[9], k = mat1[10], l = mat1[11],\r\n            m = mat1[12], n = mat1[13], o = mat1[14], p = mat1[15],\r\n            A = mat2[0], B = mat2[1], C = mat2[2], D = mat2[3],\r\n            E = mat2[4], F = mat2[5], G = mat2[6], H = mat2[7],\r\n            I = mat2[8], J = mat2[9], K = mat2[10], L = mat2[11],\r\n            M = mat2[12], N = mat2[13], O = mat2[14], P = mat2[15];\r\n\r\n        result[0] = A * a + B * e + C * i + D * m;\r\n        result[1] = A * b + B * f + C * j + D * n;\r\n        result[2] = A * c + B * g + C * k + D * o;\r\n        result[3] = A * d + B * h + C * l + D * p;\r\n        result[4] = E * a + F * e + G * i + H * m;\r\n        result[5] = E * b + F * f + G * j + H * n;\r\n        result[6] = E * c + F * g + G * k + H * o;\r\n        result[7] = E * d + F * h + G * l + H * p;\r\n        result[8] = I * a + J * e + K * i + L * m;\r\n        result[9] = I * b + J * f + K * j + L * n;\r\n        result[10] = I * c + J * g + K * k + L * o;\r\n        result[11] = I * d + J * h + K * l + L * p;\r\n        result[12] = M * a + N * e + O * i + P * m;\r\n        result[13] = M * b + N * f + O * j + P * n;\r\n        result[14] = M * c + N * g + O * k + P * o;\r\n        result[15] = M * d + N * h + O * l + P * p;\r\n\r\n        return this;\r\n    }\r\n\r\n    public multiplyVector4(vector: Vector4): Vector4 {\r\n        var mat1 = this.values,\r\n            vec4 = vector.values;\r\n        var result = [];\r\n\r\n        result[0] = vec4[0] * mat1[0] + vec4[1] * mat1[4] + vec4[2] * mat1[8] + vec4[3] * mat1[12];\r\n        result[1] = vec4[0] * mat1[1] + vec4[1] * mat1[5] + vec4[2] * mat1[9] + vec4[3] * mat1[13];\r\n        result[2] = vec4[0] * mat1[2] + vec4[1] * mat1[6] + vec4[2] * mat1[10] + vec4[3] * mat1[14];\r\n        result[3] = vec4[0] * mat1[3] + vec4[1] * mat1[7] + vec4[2] * mat1[11] + vec4[3] * mat1[15];\r\n\r\n        return Vector4.create(result[0], result[1], result[2], result[3]);\r\n    }\r\n\r\n    public multiplyVector3(vector: Vector3): Vector3 {\r\n        var mat1 = this.values,\r\n            vec3 = vector.values;\r\n        var result = [];\r\n\r\n        result[0] = vec3[0] * mat1[0] + vec3[1] * mat1[4] + vec3[2] * mat1[8];\r\n        result[1] = vec3[0] * mat1[1] + vec3[1] * mat1[5] + vec3[2] * mat1[9];\r\n        result[2] = vec3[0] * mat1[2] + vec3[1] * mat1[6] + vec3[2] * mat1[10];\r\n\r\n        return Vector3.create(result[0], result[1], result[2]);\r\n    }\r\n\r\n    public multiplyPoint(vector: Vector3): Vector3 {\r\n        var mat1 = this.values,\r\n            vec3 = vector.values;\r\n        var result = [];\r\n\r\n        result[0] = vec3[0] * mat1[0] + vec3[1] * mat1[4] + vec3[2] * mat1[8] + mat1[12];\r\n        result[1] = vec3[0] * mat1[1] + vec3[1] * mat1[5] + vec3[2] * mat1[9] + mat1[13];\r\n        result[2] = vec3[0] * mat1[2] + vec3[1] * mat1[6] + vec3[2] * mat1[10] + mat1[14];\r\n\r\n        return Vector3.create(result[0], result[1], result[2]);\r\n    }\r\n\r\n    public clone(): Matrix4 {\r\n        var result = Matrix4.create(),\r\n            i = 0,\r\n            len = this.values.length;\r\n\r\n        for (i = 0; i < len; i++) {\r\n            result.values[i] = this.values[i];\r\n        }\r\n\r\n\r\n        return result;\r\n    }\r\n\r\n    public cloneToArray(array: Float32Array, offset: number = 0): Matrix4 {\r\n        var values = this.values;\r\n\r\n        for (let index = 0; index < 16; index++) {\r\n            array[offset + index] = values[index];\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public getX() {\r\n        return Vector3.create(this.values[0], this.values[1], this.values[2]);\r\n    }\r\n\r\n    public getY() {\r\n        return Vector3.create(this.values[4], this.values[5], this.values[6]);\r\n    }\r\n\r\n    public getZ() {\r\n        return Vector3.create(this.values[8], this.values[9], this.values[10]);\r\n    }\r\n\r\n    public getTranslation() {\r\n        return Vector3.create(this.values[12], this.values[13], this.values[14]);\r\n    }\r\n\r\n    public getScale() {\r\n        return Vector3.create(this.getX().length(), this.getY().length(), this.getZ().length());\r\n    }\r\n\r\n    public getRotation() {\r\n        //return Quaternion.create().setFromEulerAngles(this.getEulerAngles());\r\n        return Quaternion.create().setFromMatrix(this);\r\n    }\r\n\r\n    public getEulerAngles() {\r\n        var x, y, z, sx, sy, sz, m, halfPi;\r\n        var scale = this.getScale();\r\n\r\n        sx = scale.x;\r\n        sy = scale.y;\r\n        sz = scale.z;\r\n\r\n        m = this.values;\r\n\r\n        y = Math.asin(-m[2] / sx);\r\n        halfPi = Math.PI * 0.5;\r\n\r\n        if (y < halfPi) {\r\n            if (y > -halfPi) {\r\n                x = Math.atan2(m[6] / sy, m[10] / sz);\r\n                z = Math.atan2(m[1] / sx, m[0] / sx);\r\n            } else {\r\n                // Not a unique solution\r\n                z = 0;\r\n                x = -Math.atan2(m[4] / sy, m[5] / sy);\r\n            }\r\n        } else {\r\n            // Not a unique solution\r\n            z = 0;\r\n            x = Math.atan2(m[4] / sy, m[5] / sy);\r\n        }\r\n\r\n        return Vector3.create(x, y, z).scale(RAD_TO_DEG);\r\n    }\r\n\r\n    /**\r\n     * @function\r\n     * @name setTRS\r\n     * @description Sets the specified matrix to the concatenation of a translation, a\r\n     * quaternion rotation and a scale.\r\n     * @param {Vec3} t A 3-d vector translation.\r\n     * @param {Quat} r A quaternion rotation.\r\n     * @param {Vec3} s A 3-d vector scale.\r\n     * @returns {Mat4} Self for chaining.\r\n     * @example\r\n     * var t = new Vec3(10, 20, 30);\r\n     * var r = new Quat();\r\n     * var s = new Vec3(2, 2, 2);\r\n     *\r\n     * var m = new Mat4();\r\n     * m.setTRS(t, r, s);\r\n     */\r\n    public setTRS(t: Vector3, r: Quaternion, s: Vector3) {\r\n        var tx, ty, tz, qx, qy, qz, qw, sx, sy, sz,\r\n            x2, y2, z2, xx, xy, xz, yy, yz, zz, wx, wy, wz, m;\r\n\r\n        tx = t.x;\r\n        ty = t.y;\r\n        tz = t.z;\r\n\r\n        qx = r.x;\r\n        qy = r.y;\r\n        qz = r.z;\r\n        qw = r.w;\r\n\r\n        sx = s.x;\r\n        sy = s.y;\r\n        sz = s.z;\r\n\r\n        x2 = qx + qx;\r\n        y2 = qy + qy;\r\n        z2 = qz + qz;\r\n        xx = qx * x2;\r\n        xy = qx * y2;\r\n        xz = qx * z2;\r\n        yy = qy * y2;\r\n        yz = qy * z2;\r\n        zz = qz * z2;\r\n        wx = qw * x2;\r\n        wy = qw * y2;\r\n        wz = qw * z2;\r\n\r\n        m = this.values;\r\n\r\n        m[0] = (1 - (yy + zz)) * sx;\r\n        m[1] = (xy + wz) * sx;\r\n        m[2] = (xz - wy) * sx;\r\n        m[3] = 0;\r\n\r\n        m[4] = (xy - wz) * sy;\r\n        m[5] = (1 - (xx + zz)) * sy;\r\n        m[6] = (yz + wx) * sy;\r\n        m[7] = 0;\r\n\r\n        m[8] = (xz + wy) * sz;\r\n        m[9] = (yz - wx) * sz;\r\n        m[10] = (1 - (xx + yy)) * sz;\r\n        m[11] = 0;\r\n\r\n        m[12] = tx;\r\n        m[13] = ty;\r\n        m[14] = tz;\r\n        m[15] = 1;\r\n\r\n        return this;\r\n    }\r\n}","import { it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { createMap, deleteVal, isValidMapValue } from \"../../utils/objectUtils\";\r\nimport { addToDirtyList } from \"./CameraControllerSystem\";\r\nimport { Matrix4 } from \"../../math/Matrix4\";\r\nimport { setPMatrix } from \"./CameraSystem\";\r\n\r\nexport var updateProjectionMatrix = requireCheckFunc((index: number, PerspectiveCameraData: any, CameraData: any) => {\r\n    it(\"fovy should exist\", () => {\r\n        expect(isValidMapValue(PerspectiveCameraData.fovyMap[index])).true;\r\n    });\r\n    it(\"aspect should exist\", () => {\r\n        expect(isValidMapValue(PerspectiveCameraData.aspectMap[index])).true;\r\n    });\r\n    it(\"near should exist\", () => {\r\n        expect(isValidMapValue(CameraData.nearMap[index])).true;\r\n    });\r\n    it(\"far should exist\", () => {\r\n        expect(isValidMapValue(CameraData.farMap[index])).true;\r\n    });\r\n}, (index: number, PerspectiveCameraData: any, CameraData: any) => {\r\n    setPMatrix(index, _getOrCreatePMatrix(index, CameraData).setPerspective(PerspectiveCameraData.fovyMap[index], PerspectiveCameraData.aspectMap[index], CameraData.nearMap[index], CameraData.farMap[index]), CameraData);\r\n})\r\n\r\nvar _getOrCreatePMatrix = (index: number, CameraData: any) => {\r\n    var mat = CameraData.pMatrixMap[index];\r\n\r\n    if (isValidMapValue(mat)) {\r\n        return mat;\r\n    }\r\n\r\n    return Matrix4.create();\r\n}\r\n\r\nexport var getFovy = (index: number, PerspectiveCameraData: any) => {\r\n    return PerspectiveCameraData.fovyMap[index];\r\n}\r\n\r\nexport var setFovy = (index: number, fovy: number, PerspectiveCameraData: any, CameraControllerData: any) => {\r\n    PerspectiveCameraData.fovyMap[index] = fovy;\r\n\r\n    addToDirtyList(index, CameraControllerData);\r\n}\r\n\r\nexport var getAspect = (index: number, PerspectiveCameraData: any) => {\r\n    return PerspectiveCameraData.aspectMap[index];\r\n}\r\n\r\nexport var setAspect = (index: number, aspect: number, PerspectiveCameraData: any, CameraControllerData: any) => {\r\n    PerspectiveCameraData.aspectMap[index] = aspect;\r\n\r\n    addToDirtyList(index, CameraControllerData);\r\n}\r\n\r\nexport var dispose = (index: number, PerspectiveCameraData: any) => {\r\n    deleteVal(index, PerspectiveCameraData.fovyMap);\r\n    deleteVal(index, PerspectiveCameraData.aspectMap);\r\n}\r\n\r\nexport var initData = (PerspectiveCameraData: any) => {\r\n    PerspectiveCameraData.fovyMap = createMap();\r\n    PerspectiveCameraData.aspectMap = createMap();\r\n}\r\n","import { GameObject } from \"./GameObject\";\r\nimport { Component } from \"../../../component/Component\";\r\n\r\nexport class GameObjectData {\r\n    public static uid: number = null;\r\n    public static disposeCount: number = null;\r\n\r\n    // public static isAliveMap:GameObjectIsAliveMap = null;\r\n\r\n    public static componentMap: GameObjectComponentMap = null;\r\n    public static parentMap: GameObjectParentMap = null;\r\n    public static childrenMap: GameObjectChildrenMap = null;\r\n\r\n    public static aliveUIDArray: Array<number> = null;\r\n\r\n    //todo add name map\r\n}\r\n\r\n// export type GameObjectIsAliveMap = Map<number, boolean>;\r\n\r\nexport type GameObjectComponentMap = {\r\n    [uid: number]: GameObjectComponentData\r\n}\r\n\r\nexport type GameObjectComponentData = {\r\n    [typeId: number]: Component;\r\n}\r\n\r\nexport type GameObjectParentMap = {\r\n    [uid: number]: GameObject\r\n}\r\n\r\nexport type GameObjectChildrenMap = {\r\n    [uid: number]: Array<GameObject>\r\n}\r\n","export const DataBufferConfig = {\r\n    transformDataBufferCount: 16 * 1024,\r\n    geometryDataBufferCount: 1024 * 1024,\r\n\r\n    //16 or 32\r\n    geometryIndicesBufferBits: 16,\r\n};\r\n\r\n","import { DataBufferConfig } from \"../../config/DataBufferConfig\";\r\nimport { ThreeDTransform } from \"./ThreeDTransform\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { Vector3 } from \"../../math/Vector3\";\r\nimport { Matrix4 } from \"../../math/Matrix4\";\r\nimport { LinkList } from \"./LinkList\";\r\n\r\nexport class ThreeDTransformData {\r\n    static get count() {\r\n        return DataBufferConfig.transformDataBufferCount;\r\n    }\r\n\r\n    public static localToWorldMatrices: Float32Array = null;\r\n    public static localPositions: Float32Array = null;\r\n    public static localRotations: Float32Array = null;\r\n    public static localScales: Float32Array = null;\r\n\r\n    public static firstDirtyIndex: number = null;\r\n    public static indexInArrayBuffer: number = null;\r\n    public static notUsedIndexLinkList: LinkList<number> = null;\r\n\r\n    public static isTranslateMap = null;\r\n\r\n    public static parentMap: ParentMap = null;\r\n    public static childrenMap: ChildrenMap = null;\r\n\r\n    // public static positionCacheMap:ThreeDTransformPositionMap = null;\r\n    // public static localPositionCacheMap:ThreeDTransformLocalPositionMap = null;\r\n    // public static localToWorldMatrixCacheMap:ThreeDTransformLocalToWorldMatrixMap = null;\r\n    // public static localPositionCacheMap:ThreeDTransformLocalPositionMap = null;\r\n    // public static localToWorldMatrixCacheMap:ThreeDTransformLocalToWorldMatrixMap = null;\r\n    public static cacheMap: ThreeDTransformCacheMap = null;\r\n\r\n    // public static tempLocalToWorldMatrixMap:ThreeDTransformLocalToWorldMatrixMap = null;\r\n    // public static tempPositionMap:ThreeDTransformPositionMap = null;\r\n    // public static tempLocalPositionMap:ThreeDTransformLocalPositionMap = null;\r\n    public static tempMap: ThreeDTransformTempMap = null;\r\n\r\n    public static transformMap: TransformMap = null;\r\n\r\n    public static uid: number = null;\r\n    public static disposeCount: number = null;\r\n    public static isClearCacheMap: boolean = null;\r\n\r\n    public static gameObjectMap: ThreeDTransformGameObjectMap = null;\r\n\r\n    public static aliveUIDArray: Array<number> = null;\r\n\r\n    public static buffer: ArrayBuffer = null;\r\n}\r\n\r\nexport class ThreeDTransformRelationData {\r\n    public static create() {\r\n        var obj = new this();\r\n\r\n        return obj;\r\n    }\r\n\r\n    public indexInArrayBuffer: number = null;\r\n    public parent: ThreeDTransformRelationData = null;\r\n    public children: Array<ThreeDTransformRelationData> = null;\r\n}\r\n\r\nexport type ParentMap = {\r\n    [uid: number]: ThreeDTransform\r\n}\r\n\r\nexport type ChildrenMap = {\r\n    [uid: number]: Array<ThreeDTransform>\r\n}\r\n\r\nexport type ThreeDTransformGameObjectMap = Map<number, GameObject>\r\n\r\nexport type TransformMap = {\r\n    [index: number]: ThreeDTransform\r\n}\r\n\r\nexport type ThreeDTransformCacheMap = {\r\n    [uid: number]: ThreeDTransformCacheData\r\n}\r\n\r\nexport type ThreeDTransformCacheData = {\r\n    position: Vector3;\r\n    localPosition: Vector3;\r\n    localToWorldMatrix: Matrix4;\r\n}\r\n\r\nexport type ThreeDTransformTempMap = {\r\n    [uid: number]: ThreeDTransformTempData\r\n}\r\n\r\nexport type ThreeDTransformTempData = {\r\n    position: Vector3;\r\n    localPosition: Vector3;\r\n    localToWorldMatrix: Matrix4;\r\n}\r\n\r\nexport type ThreeDTransformPositionMap = {\r\n    [uid: number]: Vector3\r\n}\r\n\r\nexport type ThreeDTransformLocalPositionMap = {\r\n    [uid: number]: Vector3\r\n}\r\n\r\nexport type ThreeDTransformLocalToWorldMatrixMap = {\r\n    [uid: number]: Matrix4\r\n}\r\n","import { Matrix4 } from \"../math/Matrix4\";\r\nimport { Vector3 } from \"../math/Vector3\";\r\nimport { Quaternion } from \"../math/Quaternion\";\r\n\r\nexport class GlobalTempData {\r\n    public static matrix4_1 = Matrix4.create();\r\n    public static matrix4_2 = Matrix4.create();\r\n    public static matrix4_3 = Matrix4.create();\r\n    public static vector3_1 = Vector3.create();\r\n    public static vector3_2 = Vector3.create();\r\n    public static vector3_3 = Vector3.create();\r\n    public static vector3_4 = Vector3.create();\r\n    public static quaternion_1 = Quaternion.create();\r\n}\r\n\r\n","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { Vector3 } from \"../../math/Vector3\";\r\nimport { ThreeDTransformData } from \"./ThreeDTransformData\";\r\nimport {\r\n    checkShouldAlive,\r\n    create, getGameObject,\r\n    getLocalPosition, getLocalToWorldMatrix, getPosition, getTempLocalToWorldMatrix, setBatchDatas,\r\n    setLocalPosition,\r\n    setParent,\r\n    setPosition\r\n} from \"./ThreeDTransformSystem\";\r\nimport { getParent } from \"./ThreeDTransformSystem\";\r\nimport { GlobalTempData } from \"../../definition/GlobalTempData\";\r\nimport { Component } from \"../Component\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\n\r\n@registerClass(\"ThreeDTransform\")\r\nexport class ThreeDTransform extends Component implements IThreeDTransform {\r\n    public uid: number = null;\r\n}\r\n\r\nexport interface IThreeDTransform {\r\n    index: number;\r\n    uid: number;\r\n}\r\n\r\nexport interface BatchTransformData {\r\n    // uid:number;\r\n    // index:number;\r\n    transform: ThreeDTransform,\r\n    position: Vector3;\r\n    localPosition: Vector3;\r\n}\r\n\r\n\r\nexport var createThreeDTransform = () => {\r\n    return create(ThreeDTransformData);\r\n}\r\n\r\nexport var getThreeDTransformPosition = requireCheckFunc((component: ThreeDTransform) => {\r\n    checkShouldAlive(component, ThreeDTransformData);\r\n}, (component: ThreeDTransform) => {\r\n    return getPosition(component, ThreeDTransformData);\r\n})\r\n\r\nexport var setThreeDTransformPosition = requireCheckFunc((component: ThreeDTransform, position: Vector3) => {\r\n    checkShouldAlive(component, ThreeDTransformData);\r\n}, (component: ThreeDTransform, position: Vector3) => {\r\n    setPosition(component, position, GlobalTempData, ThreeDTransformData);\r\n})\r\n\r\nexport var getThreeDTransformLocalToWorldMatrix = requireCheckFunc((component: ThreeDTransform) => {\r\n    checkShouldAlive(component, ThreeDTransformData);\r\n}, (component: ThreeDTransform) => {\r\n    return getLocalToWorldMatrix(component, getTempLocalToWorldMatrix(component, ThreeDTransformData), ThreeDTransformData);\r\n})\r\n\r\nexport var getThreeDTransformLocalPosition = requireCheckFunc((component: ThreeDTransform) => {\r\n    checkShouldAlive(component, ThreeDTransformData);\r\n}, (component: ThreeDTransform) => {\r\n    return getLocalPosition(component, ThreeDTransformData);\r\n})\r\n\r\nexport var setThreeDTransformLocalPosition = requireCheckFunc((component: ThreeDTransform, localPosition: Vector3) => {\r\n    checkShouldAlive(component, ThreeDTransformData);\r\n}, (component: ThreeDTransform, localPosition: Vector3) => {\r\n    setLocalPosition(component, localPosition, ThreeDTransformData);\r\n})\r\n\r\nexport var setThreeDTransformBatchTransformDatas = (batchData: Array<BatchTransformData>) => {\r\n    setBatchDatas(batchData, GlobalTempData, ThreeDTransformData);\r\n}\r\n\r\nexport var getThreeDTransformParent = requireCheckFunc((component: ThreeDTransform) => {\r\n    checkShouldAlive(component, ThreeDTransformData);\r\n}, (component: ThreeDTransform) => {\r\n    return getParent(component, ThreeDTransformData);\r\n})\r\n\r\nexport var setThreeDTransformParent = requireCheckFunc((component: ThreeDTransform, parent: ThreeDTransform) => {\r\n    checkShouldAlive(component, ThreeDTransformData);\r\n}, (component: ThreeDTransform, parent: ThreeDTransform) => {\r\n    setParent(component, parent, ThreeDTransformData);\r\n})\r\n\r\nexport var getThreeDTransformGameObject = requireCheckFunc((component: ThreeDTransform) => {\r\n    checkShouldAlive(component, ThreeDTransformData);\r\n}, (component: ThreeDTransform) => {\r\n    return getGameObject(component.uid, ThreeDTransformData);\r\n})\r\n","import { Matrix4 } from \"../math/Matrix4\";\r\nimport { Vector3 } from \"../math/Vector3\";\r\nimport { Quaternion } from \"../math/Quaternion\";\r\nimport curry from \"wonder-lodash/curry\";\r\nimport { IO } from \"wonder-fantasy-land/dist/es2015/types/IO\";\r\nimport { requireCheck } from \"../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\n\r\n/*! side effect */\r\nvar _setValue = (dataArr: Float32Array, increment: number, startIndex: number, target: any) => {\r\n    dataArr[startIndex + increment] = target;\r\n}\r\n\r\nexport class DataUtils {\r\n    public static setMatrices(dataArr: Float32Array, mat: Matrix4, index: number) {\r\n        var values = mat.values;\r\n\r\n        for (let i = 0; i <= 15; i++) {\r\n            _setValue(dataArr, i, index, values[i]);\r\n        }\r\n    }\r\n\r\n    public static setMatrix4ByIndex(mat: Matrix4, dataArr: Float32Array, index: number) {\r\n        mat.set(\r\n            dataArr[index],\r\n            dataArr[index + 1],\r\n            dataArr[index + 2],\r\n            dataArr[index + 3],\r\n            dataArr[index + 4],\r\n            dataArr[index + 5],\r\n            dataArr[index + 6],\r\n            dataArr[index + 7],\r\n            dataArr[index + 8],\r\n            dataArr[index + 9],\r\n            dataArr[index + 10],\r\n            dataArr[index + 11],\r\n            dataArr[index + 12],\r\n            dataArr[index + 13],\r\n            dataArr[index + 14],\r\n            dataArr[index + 15]\r\n        );\r\n\r\n        return mat;\r\n    }\r\n\r\n    public static setVectors(dataArr: Float32Array, vec: Vector3, index: number) {\r\n        var values = vec.values;\r\n\r\n        for (let i = 0; i <= 2; i++) {\r\n            _setValue(dataArr, i, index, values[i]);\r\n        }\r\n    }\r\n\r\n    public static setVector3ByIndex(vec: Vector3, dataArr: Float32Array, index: number) {\r\n        vec.set(\r\n            dataArr[index],\r\n            dataArr[index + 1],\r\n            dataArr[index + 2]\r\n        );\r\n\r\n        return vec;\r\n    }\r\n\r\n    public static setQuaternions(dataArr: Float32Array, qua: Quaternion, index: number) {\r\n        _setValue(dataArr, 0, index, qua.x);\r\n        _setValue(dataArr, 1, index, qua.y);\r\n        _setValue(dataArr, 2, index, qua.z);\r\n        _setValue(dataArr, 3, index, qua.w);\r\n    }\r\n\r\n    public static setQuaternionByIndex(qua: Quaternion, dataArr: Float32Array, index: number) {\r\n        qua.set(\r\n            dataArr[index],\r\n            dataArr[index + 1],\r\n            dataArr[index + 2],\r\n            dataArr[index + 3]\r\n        );\r\n\r\n        return qua;\r\n    }\r\n\r\n    public static swap(dataArr: any, index1: number, index2: number, length: number) {\r\n        for (let i = 0; i < length; i++) {\r\n            let newIndex1 = index1 + i,\r\n                newIndex2 = index2 + i,\r\n                temp = dataArr[newIndex2];\r\n\r\n            dataArr[newIndex2] = dataArr[newIndex1];\r\n\r\n            dataArr[newIndex1] = temp;\r\n        }\r\n    }\r\n\r\n    public static createMatrix4ByIndex(mat: Matrix4, dataArr: Float32Array, index: number) {\r\n        return this.setMatrix4ByIndex(mat, dataArr, index);\r\n    }\r\n\r\n    public static createVector3ByIndex(vec: Vector3, dataArr: Float32Array, index: number) {\r\n        return this.setVector3ByIndex(vec, dataArr, index);\r\n    }\r\n\r\n    public static createQuaternionByIndex(qua: Quaternion, dataArr: Float32Array, index: number) {\r\n        return this.setQuaternionByIndex(qua, dataArr, index);\r\n    }\r\n\r\n    public static removeItemInArray(arr: Array<any>, index: number) {\r\n        arr[index] = void 0;\r\n    }\r\n\r\n    // @requireCheck((arr: Array<any>, index: number, swapItemIndex: number) => {\r\n    //     it(\"index should <= swapItemIndex\", () => {\r\n    //         expect(index).lte(swapItemIndex);\r\n    //     });\r\n    // })\r\n    // public static removeArrayItemBySwap(arr: Array<any>, index: number, swapItemIndex: number) {\r\n    //     arr[index] = arr[swapItemIndex];\r\n    //\r\n    //     arr.pop();\r\n    // }\r\n\r\n    public static removeSingleItemInTypeArray(dataArr: Uint16Array, index: number, resetValFunc: (dataArr: Uint16Array, sourceIndex: number) => IO) {\r\n        resetValFunc(dataArr, index).run();\r\n    }\r\n\r\n    @requireCheck((dataArr: Float32Array, index: number, swapItemIndex: number, length: number) => {\r\n        it(\"index should <= swapItemIndex\", () => {\r\n            expect(index).lte(swapItemIndex);\r\n        });\r\n    })\r\n    public static removeTypeArrayItemBySwap(dataArr: Float32Array, index: number, swapItemIndex: number, length: number) {\r\n        for (let i = 0; i < length; i++) {\r\n            dataArr[index + i] = dataArr[swapItemIndex + i];\r\n        }\r\n    }\r\n}\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction identity(value) {\n    return value;\n}\nexports.default = identity;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\nexports.default = freeGlobal;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _freeGlobal_js_1 = require(\"./_freeGlobal.js\");\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\nvar root = _freeGlobal_js_1.default || freeSelf || Function('return this')();\nexports.default = root;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _root_js_1 = require(\"./_root.js\");\nvar Symbol = _root_js_1.default.Symbol;\nexports.default = Symbol;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _Symbol_js_1 = require(\"./_Symbol.js\");\nvar objectProto = Object.prototype;\nvar hasOwnProperty = objectProto.hasOwnProperty;\nvar nativeObjectToString = objectProto.toString;\nvar symToStringTag = _Symbol_js_1.default ? _Symbol_js_1.default.toStringTag : undefined;\nfunction getRawTag(value) {\n    var isOwn = hasOwnProperty.call(value, symToStringTag), tag = value[symToStringTag];\n    try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n    }\n    catch (e) { }\n    var result = nativeObjectToString.call(value);\n    if (unmasked) {\n        if (isOwn) {\n            value[symToStringTag] = tag;\n        }\n        else {\n            delete value[symToStringTag];\n        }\n    }\n    return result;\n}\nexports.default = getRawTag;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar objectProto = Object.prototype;\nvar nativeObjectToString = objectProto.toString;\nfunction objectToString(value) {\n    return nativeObjectToString.call(value);\n}\nexports.default = objectToString;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _Symbol_js_1 = require(\"./_Symbol.js\");\nvar _getRawTag_js_1 = require(\"./_getRawTag.js\");\nvar _objectToString_js_1 = require(\"./_objectToString.js\");\nvar nullTag = '[object Null]', undefinedTag = '[object Undefined]';\nvar symToStringTag = _Symbol_js_1.default ? _Symbol_js_1.default.toStringTag : undefined;\nfunction baseGetTag(value) {\n    if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n    }\n    return (symToStringTag && symToStringTag in Object(value))\n        ? _getRawTag_js_1.default(value)\n        : _objectToString_js_1.default(value);\n}\nexports.default = baseGetTag;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isObject(value) {\n    var type = typeof value;\n    return value != null && (type == 'object' || type == 'function');\n}\nexports.default = isObject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseGetTag_js_1 = require(\"./_baseGetTag.js\");\nvar isObject_js_1 = require(\"./isObject.js\");\nvar asyncTag = '[object AsyncFunction]', funcTag = '[object Function]', genTag = '[object GeneratorFunction]', proxyTag = '[object Proxy]';\nfunction isFunction(value) {\n    if (!isObject_js_1.default(value)) {\n        return false;\n    }\n    var tag = _baseGetTag_js_1.default(value);\n    return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\nexports.default = isFunction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _root_js_1 = require(\"./_root.js\");\nvar coreJsData = _root_js_1.default['__core-js_shared__'];\nexports.default = coreJsData;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _coreJsData_js_1 = require(\"./_coreJsData.js\");\nvar maskSrcKey = (function () {\n    var uid = /[^.]+$/.exec(_coreJsData_js_1.default && _coreJsData_js_1.default.keys && _coreJsData_js_1.default.keys.IE_PROTO || '');\n    return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\nfunction isMasked(func) {\n    return !!maskSrcKey && (maskSrcKey in func);\n}\nexports.default = isMasked;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar funcProto = Function.prototype;\nvar funcToString = funcProto.toString;\nfunction toSource(func) {\n    if (func != null) {\n        try {\n            return funcToString.call(func);\n        }\n        catch (e) { }\n        try {\n            return (func + '');\n        }\n        catch (e) { }\n    }\n    return '';\n}\nexports.default = toSource;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isFunction_js_1 = require(\"./isFunction.js\");\nvar _isMasked_js_1 = require(\"./_isMasked.js\");\nvar isObject_js_1 = require(\"./isObject.js\");\nvar _toSource_js_1 = require(\"./_toSource.js\");\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\nvar funcProto = Function.prototype, objectProto = Object.prototype;\nvar funcToString = funcProto.toString;\nvar hasOwnProperty = objectProto.hasOwnProperty;\nvar reIsNative = RegExp('^' +\n    funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n        .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\nfunction baseIsNative(value) {\n    if (!isObject_js_1.default(value) || _isMasked_js_1.default(value)) {\n        return false;\n    }\n    var pattern = isFunction_js_1.default(value) ? reIsNative : reIsHostCtor;\n    return pattern.test(_toSource_js_1.default(value));\n}\nexports.default = baseIsNative;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getValue(object, key) {\n    return object == null ? undefined : object[key];\n}\nexports.default = getValue;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseIsNative_js_1 = require(\"./_baseIsNative.js\");\nvar _getValue_js_1 = require(\"./_getValue.js\");\nfunction getNative(object, key) {\n    var value = _getValue_js_1.default(object, key);\n    return _baseIsNative_js_1.default(value) ? value : undefined;\n}\nexports.default = getNative;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _getNative_js_1 = require(\"./_getNative.js\");\nvar _root_js_1 = require(\"./_root.js\");\nvar WeakMap = _getNative_js_1.default(_root_js_1.default, 'WeakMap');\nexports.default = WeakMap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _WeakMap_js_1 = require(\"./_WeakMap.js\");\nvar metaMap = _WeakMap_js_1.default && new _WeakMap_js_1.default;\nexports.default = metaMap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar identity_js_1 = require(\"./identity.js\");\nvar _metaMap_js_1 = require(\"./_metaMap.js\");\nvar baseSetData = !_metaMap_js_1.default ? identity_js_1.default : function (func, data) {\n    _metaMap_js_1.default.set(func, data);\n    return func;\n};\nexports.default = baseSetData;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isObject_js_1 = require(\"./isObject.js\");\nvar objectCreate = Object.create;\nvar baseCreate = (function () {\n    function object() { }\n    return function (proto) {\n        if (!isObject_js_1.default(proto)) {\n            return {};\n        }\n        if (objectCreate) {\n            return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n    };\n}());\nexports.default = baseCreate;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseCreate_js_1 = require(\"./_baseCreate.js\");\nvar isObject_js_1 = require(\"./isObject.js\");\nfunction createCtor(Ctor) {\n    return function () {\n        var args = arguments;\n        switch (args.length) {\n            case 0: return new Ctor;\n            case 1: return new Ctor(args[0]);\n            case 2: return new Ctor(args[0], args[1]);\n            case 3: return new Ctor(args[0], args[1], args[2]);\n            case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n            case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n            case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n            case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = _baseCreate_js_1.default(Ctor.prototype), result = Ctor.apply(thisBinding, args);\n        return isObject_js_1.default(result) ? result : thisBinding;\n    };\n}\nexports.default = createCtor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _createCtor_js_1 = require(\"./_createCtor.js\");\nvar _root_js_1 = require(\"./_root.js\");\nvar WRAP_BIND_FLAG = 1;\nfunction createBind(func, bitmask, thisArg) {\n    var isBind = bitmask & WRAP_BIND_FLAG, Ctor = _createCtor_js_1.default(func);\n    function wrapper() {\n        var fn = (this && this !== _root_js_1.default && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n    }\n    return wrapper;\n}\nexports.default = createBind;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction apply(func, thisArg, args) {\n    switch (args.length) {\n        case 0: return func.call(thisArg);\n        case 1: return func.call(thisArg, args[0]);\n        case 2: return func.call(thisArg, args[0], args[1]);\n        case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n}\nexports.default = apply;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar nativeMax = Math.max;\nfunction composeArgs(args, partials, holders, isCurried) {\n    var argsIndex = -1, argsLength = args.length, holdersLength = holders.length, leftIndex = -1, leftLength = partials.length, rangeLength = nativeMax(argsLength - holdersLength, 0), result = Array(leftLength + rangeLength), isUncurried = !isCurried;\n    while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n    }\n    while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n            result[holders[argsIndex]] = args[argsIndex];\n        }\n    }\n    while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n    }\n    return result;\n}\nexports.default = composeArgs;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar nativeMax = Math.max;\nfunction composeArgsRight(args, partials, holders, isCurried) {\n    var argsIndex = -1, argsLength = args.length, holdersIndex = -1, holdersLength = holders.length, rightIndex = -1, rightLength = partials.length, rangeLength = nativeMax(argsLength - holdersLength, 0), result = Array(rangeLength + rightLength), isUncurried = !isCurried;\n    while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n    }\n    var offset = argsIndex;\n    while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n    }\n    while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n            result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n    }\n    return result;\n}\nexports.default = composeArgsRight;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction countHolders(array, placeholder) {\n    var length = array.length, result = 0;\n    while (length--) {\n        if (array[length] === placeholder) {\n            ++result;\n        }\n    }\n    return result;\n}\nexports.default = countHolders;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction baseLodash() {\n}\nexports.default = baseLodash;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseCreate_js_1 = require(\"./_baseCreate.js\");\nvar _baseLodash_js_1 = require(\"./_baseLodash.js\");\nvar MAX_ARRAY_LENGTH = 4294967295;\nfunction LazyWrapper(value) {\n    this.__wrapped__ = value;\n    this.__actions__ = [];\n    this.__dir__ = 1;\n    this.__filtered__ = false;\n    this.__iteratees__ = [];\n    this.__takeCount__ = MAX_ARRAY_LENGTH;\n    this.__views__ = [];\n}\nLazyWrapper.prototype = _baseCreate_js_1.default(_baseLodash_js_1.default.prototype);\nLazyWrapper.prototype.constructor = LazyWrapper;\nexports.default = LazyWrapper;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction noop() {\n}\nexports.default = noop;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _metaMap_js_1 = require(\"./_metaMap.js\");\nvar noop_js_1 = require(\"./noop.js\");\nvar getData = !_metaMap_js_1.default ? noop_js_1.default : function (func) {\n    return _metaMap_js_1.default.get(func);\n};\nexports.default = getData;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar realNames = {};\nexports.default = realNames;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _realNames_js_1 = require(\"./_realNames.js\");\nvar objectProto = Object.prototype;\nvar hasOwnProperty = objectProto.hasOwnProperty;\nfunction getFuncName(func) {\n    var result = (func.name + ''), array = _realNames_js_1.default[result], length = hasOwnProperty.call(_realNames_js_1.default, result) ? array.length : 0;\n    while (length--) {\n        var data = array[length], otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n            return data.name;\n        }\n    }\n    return result;\n}\nexports.default = getFuncName;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseCreate_js_1 = require(\"./_baseCreate.js\");\nvar _baseLodash_js_1 = require(\"./_baseLodash.js\");\nfunction LodashWrapper(value, chainAll) {\n    this.__wrapped__ = value;\n    this.__actions__ = [];\n    this.__chain__ = !!chainAll;\n    this.__index__ = 0;\n    this.__values__ = undefined;\n}\nLodashWrapper.prototype = _baseCreate_js_1.default(_baseLodash_js_1.default.prototype);\nLodashWrapper.prototype.constructor = LodashWrapper;\nexports.default = LodashWrapper;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isArray = Array.isArray;\nexports.default = isArray;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isObjectLike(value) {\n    return value != null && typeof value == 'object';\n}\nexports.default = isObjectLike;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction copyArray(source, array) {\n    var index = -1, length = source.length;\n    array || (array = Array(length));\n    while (++index < length) {\n        array[index] = source[index];\n    }\n    return array;\n}\nexports.default = copyArray;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _LazyWrapper_js_1 = require(\"./_LazyWrapper.js\");\nvar _LodashWrapper_js_1 = require(\"./_LodashWrapper.js\");\nvar _copyArray_js_1 = require(\"./_copyArray.js\");\nfunction wrapperClone(wrapper) {\n    if (wrapper instanceof _LazyWrapper_js_1.default) {\n        return wrapper.clone();\n    }\n    var result = new _LodashWrapper_js_1.default(wrapper.__wrapped__, wrapper.__chain__);\n    result.__actions__ = _copyArray_js_1.default(wrapper.__actions__);\n    result.__index__ = wrapper.__index__;\n    result.__values__ = wrapper.__values__;\n    return result;\n}\nexports.default = wrapperClone;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _LazyWrapper_js_1 = require(\"./_LazyWrapper.js\");\nvar _LodashWrapper_js_1 = require(\"./_LodashWrapper.js\");\nvar _baseLodash_js_1 = require(\"./_baseLodash.js\");\nvar isArray_js_1 = require(\"./isArray.js\");\nvar isObjectLike_js_1 = require(\"./isObjectLike.js\");\nvar _wrapperClone_js_1 = require(\"./_wrapperClone.js\");\nvar objectProto = Object.prototype;\nvar hasOwnProperty = objectProto.hasOwnProperty;\nfunction lodash(value) {\n    if (isObjectLike_js_1.default(value) && !isArray_js_1.default(value) && !(value instanceof _LazyWrapper_js_1.default)) {\n        if (value instanceof _LodashWrapper_js_1.default) {\n            return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n            return _wrapperClone_js_1.default(value);\n        }\n    }\n    return new _LodashWrapper_js_1.default(value);\n}\nlodash.prototype = _baseLodash_js_1.default.prototype;\nlodash.prototype.constructor = lodash;\nexports.default = lodash;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _LazyWrapper_js_1 = require(\"./_LazyWrapper.js\");\nvar _getData_js_1 = require(\"./_getData.js\");\nvar _getFuncName_js_1 = require(\"./_getFuncName.js\");\nvar wrapperLodash_js_1 = require(\"./wrapperLodash.js\");\nfunction isLaziable(func) {\n    var funcName = _getFuncName_js_1.default(func), other = wrapperLodash_js_1.default[funcName];\n    if (typeof other != 'function' || !(funcName in _LazyWrapper_js_1.default.prototype)) {\n        return false;\n    }\n    if (func === other) {\n        return true;\n    }\n    var data = _getData_js_1.default(other);\n    return !!data && func === data[0];\n}\nexports.default = isLaziable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar HOT_COUNT = 800, HOT_SPAN = 16;\nvar nativeNow = Date.now;\nfunction shortOut(func) {\n    var count = 0, lastCalled = 0;\n    return function () {\n        var stamp = nativeNow(), remaining = HOT_SPAN - (stamp - lastCalled);\n        lastCalled = stamp;\n        if (remaining > 0) {\n            if (++count >= HOT_COUNT) {\n                return arguments[0];\n            }\n        }\n        else {\n            count = 0;\n        }\n        return func.apply(undefined, arguments);\n    };\n}\nexports.default = shortOut;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseSetData_js_1 = require(\"./_baseSetData.js\");\nvar _shortOut_js_1 = require(\"./_shortOut.js\");\nvar setData = _shortOut_js_1.default(_baseSetData_js_1.default);\nexports.default = setData;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/, reSplitDetails = /,? & /;\nfunction getWrapDetails(source) {\n    var match = source.match(reWrapDetails);\n    return match ? match[1].split(reSplitDetails) : [];\n}\nexports.default = getWrapDetails;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/;\nfunction insertWrapDetails(source, details) {\n    var length = details.length;\n    if (!length) {\n        return source;\n    }\n    var lastIndex = length - 1;\n    details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n    details = details.join(length > 2 ? ', ' : ' ');\n    return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n}\nexports.default = insertWrapDetails;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction constant(value) {\n    return function () {\n        return value;\n    };\n}\nexports.default = constant;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _getNative_js_1 = require(\"./_getNative.js\");\nvar defineProperty = (function () {\n    try {\n        var func = _getNative_js_1.default(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n    }\n    catch (e) { }\n}());\nexports.default = defineProperty;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar constant_js_1 = require(\"./constant.js\");\nvar _defineProperty_js_1 = require(\"./_defineProperty.js\");\nvar identity_js_1 = require(\"./identity.js\");\nvar baseSetToString = !_defineProperty_js_1.default ? identity_js_1.default : function (func, string) {\n    return _defineProperty_js_1.default(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant_js_1.default(string),\n        'writable': true\n    });\n};\nexports.default = baseSetToString;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseSetToString_js_1 = require(\"./_baseSetToString.js\");\nvar _shortOut_js_1 = require(\"./_shortOut.js\");\nvar setToString = _shortOut_js_1.default(_baseSetToString_js_1.default);\nexports.default = setToString;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction arrayEach(array, iteratee) {\n    var index = -1, length = array == null ? 0 : array.length;\n    while (++index < length) {\n        if (iteratee(array[index], index, array) === false) {\n            break;\n        }\n    }\n    return array;\n}\nexports.default = arrayEach;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length, index = fromIndex + (fromRight ? 1 : -1);\n    while ((fromRight ? index-- : ++index < length)) {\n        if (predicate(array[index], index, array)) {\n            return index;\n        }\n    }\n    return -1;\n}\nexports.default = baseFindIndex;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction baseIsNaN(value) {\n    return value !== value;\n}\nexports.default = baseIsNaN;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1, length = array.length;\n    while (++index < length) {\n        if (array[index] === value) {\n            return index;\n        }\n    }\n    return -1;\n}\nexports.default = strictIndexOf;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseFindIndex_js_1 = require(\"./_baseFindIndex.js\");\nvar _baseIsNaN_js_1 = require(\"./_baseIsNaN.js\");\nvar _strictIndexOf_js_1 = require(\"./_strictIndexOf.js\");\nfunction baseIndexOf(array, value, fromIndex) {\n    return value === value\n        ? _strictIndexOf_js_1.default(array, value, fromIndex)\n        : _baseFindIndex_js_1.default(array, _baseIsNaN_js_1.default, fromIndex);\n}\nexports.default = baseIndexOf;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseIndexOf_js_1 = require(\"./_baseIndexOf.js\");\nfunction arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && _baseIndexOf_js_1.default(array, value, 0) > -1;\n}\nexports.default = arrayIncludes;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _arrayEach_js_1 = require(\"./_arrayEach.js\");\nvar _arrayIncludes_js_1 = require(\"./_arrayIncludes.js\");\nvar WRAP_BIND_FLAG = 1, WRAP_BIND_KEY_FLAG = 2, WRAP_CURRY_FLAG = 8, WRAP_CURRY_RIGHT_FLAG = 16, WRAP_PARTIAL_FLAG = 32, WRAP_PARTIAL_RIGHT_FLAG = 64, WRAP_ARY_FLAG = 128, WRAP_REARG_FLAG = 256, WRAP_FLIP_FLAG = 512;\nvar wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n];\nfunction updateWrapDetails(details, bitmask) {\n    _arrayEach_js_1.default(wrapFlags, function (pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !_arrayIncludes_js_1.default(details, value)) {\n            details.push(value);\n        }\n    });\n    return details.sort();\n}\nexports.default = updateWrapDetails;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _getWrapDetails_js_1 = require(\"./_getWrapDetails.js\");\nvar _insertWrapDetails_js_1 = require(\"./_insertWrapDetails.js\");\nvar _setToString_js_1 = require(\"./_setToString.js\");\nvar _updateWrapDetails_js_1 = require(\"./_updateWrapDetails.js\");\nfunction setWrapToString(wrapper, reference, bitmask) {\n    var source = (reference + '');\n    return _setToString_js_1.default(wrapper, _insertWrapDetails_js_1.default(source, _updateWrapDetails_js_1.default(_getWrapDetails_js_1.default(source), bitmask)));\n}\nexports.default = setWrapToString;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _isLaziable_js_1 = require(\"./_isLaziable.js\");\nvar _setData_js_1 = require(\"./_setData.js\");\nvar _setWrapToString_js_1 = require(\"./_setWrapToString.js\");\nvar WRAP_BIND_FLAG = 1, WRAP_BIND_KEY_FLAG = 2, WRAP_CURRY_BOUND_FLAG = 4, WRAP_CURRY_FLAG = 8, WRAP_PARTIAL_FLAG = 32, WRAP_PARTIAL_RIGHT_FLAG = 64;\nfunction createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n    var isCurry = bitmask & WRAP_CURRY_FLAG, newHolders = isCurry ? holders : undefined, newHoldersRight = isCurry ? undefined : holders, newPartials = isCurry ? partials : undefined, newPartialsRight = isCurry ? undefined : partials;\n    bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n    bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n    if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n    }\n    var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n    ];\n    var result = wrapFunc.apply(undefined, newData);\n    if (_isLaziable_js_1.default(func)) {\n        _setData_js_1.default(result, newData);\n    }\n    result.placeholder = placeholder;\n    return _setWrapToString_js_1.default(result, func, bitmask);\n}\nexports.default = createRecurry;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getHolder(func) {\n    var object = func;\n    return object.placeholder;\n}\nexports.default = getHolder;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MAX_SAFE_INTEGER = 9007199254740991;\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\nfunction isIndex(value, length) {\n    length = length == null ? MAX_SAFE_INTEGER : length;\n    return !!length &&\n        (typeof value == 'number' || reIsUint.test(value)) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\nexports.default = isIndex;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _copyArray_js_1 = require(\"./_copyArray.js\");\nvar _isIndex_js_1 = require(\"./_isIndex.js\");\nvar nativeMin = Math.min;\nfunction reorder(array, indexes) {\n    var arrLength = array.length, length = nativeMin(indexes.length, arrLength), oldArray = _copyArray_js_1.default(array);\n    while (length--) {\n        var index = indexes[length];\n        array[length] = _isIndex_js_1.default(index, arrLength) ? oldArray[index] : undefined;\n    }\n    return array;\n}\nexports.default = reorder;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PLACEHOLDER = '__lodash_placeholder__';\nfunction replaceHolders(array, placeholder) {\n    var index = -1, length = array.length, resIndex = 0, result = [];\n    while (++index < length) {\n        var value = array[index];\n        if (value === placeholder || value === PLACEHOLDER) {\n            array[index] = PLACEHOLDER;\n            result[resIndex++] = index;\n        }\n    }\n    return result;\n}\nexports.default = replaceHolders;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _composeArgs_js_1 = require(\"./_composeArgs.js\");\nvar _composeArgsRight_js_1 = require(\"./_composeArgsRight.js\");\nvar _countHolders_js_1 = require(\"./_countHolders.js\");\nvar _createCtor_js_1 = require(\"./_createCtor.js\");\nvar _createRecurry_js_1 = require(\"./_createRecurry.js\");\nvar _getHolder_js_1 = require(\"./_getHolder.js\");\nvar _reorder_js_1 = require(\"./_reorder.js\");\nvar _replaceHolders_js_1 = require(\"./_replaceHolders.js\");\nvar _root_js_1 = require(\"./_root.js\");\nvar WRAP_BIND_FLAG = 1, WRAP_BIND_KEY_FLAG = 2, WRAP_CURRY_FLAG = 8, WRAP_CURRY_RIGHT_FLAG = 16, WRAP_ARY_FLAG = 128, WRAP_FLIP_FLAG = 512;\nfunction createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n    var isAry = bitmask & WRAP_ARY_FLAG, isBind = bitmask & WRAP_BIND_FLAG, isBindKey = bitmask & WRAP_BIND_KEY_FLAG, isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG), isFlip = bitmask & WRAP_FLIP_FLAG, Ctor = isBindKey ? undefined : _createCtor_js_1.default(func);\n    function wrapper() {\n        var length = arguments.length, args = Array(length), index = length;\n        while (index--) {\n            args[index] = arguments[index];\n        }\n        if (isCurried) {\n            var placeholder = _getHolder_js_1.default(wrapper), holdersCount = _countHolders_js_1.default(args, placeholder);\n        }\n        if (partials) {\n            args = _composeArgs_js_1.default(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n            args = _composeArgsRight_js_1.default(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n            var newHolders = _replaceHolders_js_1.default(args, placeholder);\n            return _createRecurry_js_1.default(func, bitmask, createHybrid, wrapper.placeholder, thisArg, args, newHolders, argPos, ary, arity - length);\n        }\n        var thisBinding = isBind ? thisArg : this, fn = isBindKey ? thisBinding[func] : func;\n        length = args.length;\n        if (argPos) {\n            args = _reorder_js_1.default(args, argPos);\n        }\n        else if (isFlip && length > 1) {\n            args.reverse();\n        }\n        if (isAry && ary < length) {\n            args.length = ary;\n        }\n        if (this && this !== _root_js_1.default && this instanceof wrapper) {\n            fn = Ctor || _createCtor_js_1.default(fn);\n        }\n        return fn.apply(thisBinding, args);\n    }\n    return wrapper;\n}\nexports.default = createHybrid;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _apply_js_1 = require(\"./_apply.js\");\nvar _createCtor_js_1 = require(\"./_createCtor.js\");\nvar _createHybrid_js_1 = require(\"./_createHybrid.js\");\nvar _createRecurry_js_1 = require(\"./_createRecurry.js\");\nvar _getHolder_js_1 = require(\"./_getHolder.js\");\nvar _replaceHolders_js_1 = require(\"./_replaceHolders.js\");\nvar _root_js_1 = require(\"./_root.js\");\nfunction createCurry(func, bitmask, arity) {\n    var Ctor = _createCtor_js_1.default(func);\n    function wrapper() {\n        var length = arguments.length, args = Array(length), index = length, placeholder = _getHolder_js_1.default(wrapper);\n        while (index--) {\n            args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n            ? []\n            : _replaceHolders_js_1.default(args, placeholder);\n        length -= holders.length;\n        if (length < arity) {\n            return _createRecurry_js_1.default(func, bitmask, _createHybrid_js_1.default, wrapper.placeholder, undefined, args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== _root_js_1.default && this instanceof wrapper) ? Ctor : func;\n        return _apply_js_1.default(fn, this, args);\n    }\n    return wrapper;\n}\nexports.default = createCurry;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _apply_js_1 = require(\"./_apply.js\");\nvar _createCtor_js_1 = require(\"./_createCtor.js\");\nvar _root_js_1 = require(\"./_root.js\");\nvar WRAP_BIND_FLAG = 1;\nfunction createPartial(func, bitmask, thisArg, partials) {\n    var isBind = bitmask & WRAP_BIND_FLAG, Ctor = _createCtor_js_1.default(func);\n    function wrapper() {\n        var argsIndex = -1, argsLength = arguments.length, leftIndex = -1, leftLength = partials.length, args = Array(leftLength + argsLength), fn = (this && this !== _root_js_1.default && this instanceof wrapper) ? Ctor : func;\n        while (++leftIndex < leftLength) {\n            args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n            args[leftIndex++] = arguments[++argsIndex];\n        }\n        return _apply_js_1.default(fn, isBind ? thisArg : this, args);\n    }\n    return wrapper;\n}\nexports.default = createPartial;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _composeArgs_js_1 = require(\"./_composeArgs.js\");\nvar _composeArgsRight_js_1 = require(\"./_composeArgsRight.js\");\nvar _replaceHolders_js_1 = require(\"./_replaceHolders.js\");\nvar PLACEHOLDER = '__lodash_placeholder__';\nvar WRAP_BIND_FLAG = 1, WRAP_BIND_KEY_FLAG = 2, WRAP_CURRY_BOUND_FLAG = 4, WRAP_CURRY_FLAG = 8, WRAP_ARY_FLAG = 128, WRAP_REARG_FLAG = 256;\nvar nativeMin = Math.min;\nfunction mergeData(data, source) {\n    var bitmask = data[1], srcBitmask = source[1], newBitmask = bitmask | srcBitmask, isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n    var isCombo = ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n    if (!(isCommon || isCombo)) {\n        return data;\n    }\n    if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n    }\n    var value = source[3];\n    if (value) {\n        var partials = data[3];\n        data[3] = partials ? _composeArgs_js_1.default(partials, value, source[4]) : value;\n        data[4] = partials ? _replaceHolders_js_1.default(data[3], PLACEHOLDER) : source[4];\n    }\n    value = source[5];\n    if (value) {\n        partials = data[5];\n        data[5] = partials ? _composeArgsRight_js_1.default(partials, value, source[6]) : value;\n        data[6] = partials ? _replaceHolders_js_1.default(data[5], PLACEHOLDER) : source[6];\n    }\n    value = source[7];\n    if (value) {\n        data[7] = value;\n    }\n    if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n    }\n    if (data[9] == null) {\n        data[9] = source[9];\n    }\n    data[0] = source[0];\n    data[1] = newBitmask;\n    return data;\n}\nexports.default = mergeData;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseGetTag_js_1 = require(\"./_baseGetTag.js\");\nvar isObjectLike_js_1 = require(\"./isObjectLike.js\");\nvar symbolTag = '[object Symbol]';\nfunction isSymbol(value) {\n    return typeof value == 'symbol' ||\n        (isObjectLike_js_1.default(value) && _baseGetTag_js_1.default(value) == symbolTag);\n}\nexports.default = isSymbol;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isObject_js_1 = require(\"./isObject.js\");\nvar isSymbol_js_1 = require(\"./isSymbol.js\");\nvar NAN = 0 / 0;\nvar reTrim = /^\\s+|\\s+$/g;\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\nvar reIsBinary = /^0b[01]+$/i;\nvar reIsOctal = /^0o[0-7]+$/i;\nvar freeParseInt = parseInt;\nfunction toNumber(value) {\n    if (typeof value == 'number') {\n        return value;\n    }\n    if (isSymbol_js_1.default(value)) {\n        return NAN;\n    }\n    if (isObject_js_1.default(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject_js_1.default(other) ? (other + '') : other;\n    }\n    if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n    }\n    value = value.replace(reTrim, '');\n    var isBinary = reIsBinary.test(value);\n    return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n}\nexports.default = toNumber;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar toNumber_js_1 = require(\"./toNumber.js\");\nvar INFINITY = 1 / 0, MAX_INTEGER = 1.7976931348623157e+308;\nfunction toFinite(value) {\n    if (!value) {\n        return value === 0 ? value : 0;\n    }\n    value = toNumber_js_1.default(value);\n    if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n    }\n    return value === value ? value : 0;\n}\nexports.default = toFinite;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar toFinite_js_1 = require(\"./toFinite.js\");\nfunction toInteger(value) {\n    var result = toFinite_js_1.default(value), remainder = result % 1;\n    return result === result ? (remainder ? result - remainder : result) : 0;\n}\nexports.default = toInteger;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseSetData_js_1 = require(\"./_baseSetData.js\");\nvar _createBind_js_1 = require(\"./_createBind.js\");\nvar _createCurry_js_1 = require(\"./_createCurry.js\");\nvar _createHybrid_js_1 = require(\"./_createHybrid.js\");\nvar _createPartial_js_1 = require(\"./_createPartial.js\");\nvar _getData_js_1 = require(\"./_getData.js\");\nvar _mergeData_js_1 = require(\"./_mergeData.js\");\nvar _setData_js_1 = require(\"./_setData.js\");\nvar _setWrapToString_js_1 = require(\"./_setWrapToString.js\");\nvar toInteger_js_1 = require(\"./toInteger.js\");\nvar FUNC_ERROR_TEXT = 'Expected a function';\nvar WRAP_BIND_FLAG = 1, WRAP_BIND_KEY_FLAG = 2, WRAP_CURRY_FLAG = 8, WRAP_CURRY_RIGHT_FLAG = 16, WRAP_PARTIAL_FLAG = 32, WRAP_PARTIAL_RIGHT_FLAG = 64;\nvar nativeMax = Math.max;\nfunction createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n    var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n    if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n    }\n    var length = partials ? partials.length : 0;\n    if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n    }\n    ary = ary === undefined ? ary : nativeMax(toInteger_js_1.default(ary), 0);\n    arity = arity === undefined ? arity : toInteger_js_1.default(arity);\n    length -= holders ? holders.length : 0;\n    if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials, holdersRight = holders;\n        partials = holders = undefined;\n    }\n    var data = isBindKey ? undefined : _getData_js_1.default(func);\n    var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n    ];\n    if (data) {\n        _mergeData_js_1.default(newData, data);\n    }\n    func = newData[0];\n    bitmask = newData[1];\n    thisArg = newData[2];\n    partials = newData[3];\n    holders = newData[4];\n    arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n    if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n    }\n    if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = _createBind_js_1.default(func, bitmask, thisArg);\n    }\n    else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = _createCurry_js_1.default(func, bitmask, arity);\n    }\n    else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = _createPartial_js_1.default(func, bitmask, thisArg, partials);\n    }\n    else {\n        result = _createHybrid_js_1.default.apply(undefined, newData);\n    }\n    var setter = data ? _baseSetData_js_1.default : _setData_js_1.default;\n    return _setWrapToString_js_1.default(setter(result, newData), func, bitmask);\n}\nexports.default = createWrap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _createWrap_js_1 = require(\"./_createWrap.js\");\nvar WRAP_CURRY_FLAG = 8;\nfunction curry(func, arity, guard) {\n    arity = guard ? undefined : arity;\n    var result = _createWrap_js_1.default(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n    result.placeholder = curry.placeholder;\n    return result;\n}\ncurry.placeholder = {};\nexports.default = curry;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction arrayPush(array, values) {\n    var index = -1, length = values.length, offset = array.length;\n    while (++index < length) {\n        array[offset + index] = values[index];\n    }\n    return array;\n}\nexports.default = arrayPush;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseGetTag_js_1 = require(\"./_baseGetTag.js\");\nvar isObjectLike_js_1 = require(\"./isObjectLike.js\");\nvar argsTag = '[object Arguments]';\nfunction baseIsArguments(value) {\n    return isObjectLike_js_1.default(value) && _baseGetTag_js_1.default(value) == argsTag;\n}\nexports.default = baseIsArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseIsArguments_js_1 = require(\"./_baseIsArguments.js\");\nvar isObjectLike_js_1 = require(\"./isObjectLike.js\");\nvar objectProto = Object.prototype;\nvar hasOwnProperty = objectProto.hasOwnProperty;\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\nvar isArguments = _baseIsArguments_js_1.default(function () { return arguments; }()) ? _baseIsArguments_js_1.default : function (value) {\n    return isObjectLike_js_1.default(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n};\nexports.default = isArguments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _Symbol_js_1 = require(\"./_Symbol.js\");\nvar isArguments_js_1 = require(\"./isArguments.js\");\nvar isArray_js_1 = require(\"./isArray.js\");\nvar spreadableSymbol = _Symbol_js_1.default ? _Symbol_js_1.default.isConcatSpreadable : undefined;\nfunction isFlattenable(value) {\n    return isArray_js_1.default(value) || isArguments_js_1.default(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\nexports.default = isFlattenable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _arrayPush_js_1 = require(\"./_arrayPush.js\");\nvar _isFlattenable_js_1 = require(\"./_isFlattenable.js\");\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n    var index = -1, length = array.length;\n    predicate || (predicate = _isFlattenable_js_1.default);\n    result || (result = []);\n    while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n            if (depth > 1) {\n                baseFlatten(value, depth - 1, predicate, isStrict, result);\n            }\n            else {\n                _arrayPush_js_1.default(result, value);\n            }\n        }\n        else if (!isStrict) {\n            result[result.length] = value;\n        }\n    }\n    return result;\n}\nexports.default = baseFlatten;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseFlatten_js_1 = require(\"./_baseFlatten.js\");\nfunction flatten(array) {\n    var length = array == null ? 0 : array.length;\n    return length ? _baseFlatten_js_1.default(array, 1) : [];\n}\nexports.default = flatten;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _apply_js_1 = require(\"./_apply.js\");\nvar nativeMax = Math.max;\nfunction overRest(func, start, transform) {\n    start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n    return function () {\n        var args = arguments, index = -1, length = nativeMax(args.length - start, 0), array = Array(length);\n        while (++index < length) {\n            array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n            otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return _apply_js_1.default(func, this, otherArgs);\n    };\n}\nexports.default = overRest;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar flatten_js_1 = require(\"./flatten.js\");\nvar _overRest_js_1 = require(\"./_overRest.js\");\nvar _setToString_js_1 = require(\"./_setToString.js\");\nfunction flatRest(func) {\n    return _setToString_js_1.default(_overRest_js_1.default(func, undefined, flatten_js_1.default), func + '');\n}\nexports.default = flatRest;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _LodashWrapper_js_1 = require(\"./_LodashWrapper.js\");\nvar _flatRest_js_1 = require(\"./_flatRest.js\");\nvar _getData_js_1 = require(\"./_getData.js\");\nvar _getFuncName_js_1 = require(\"./_getFuncName.js\");\nvar isArray_js_1 = require(\"./isArray.js\");\nvar _isLaziable_js_1 = require(\"./_isLaziable.js\");\nvar FUNC_ERROR_TEXT = 'Expected a function';\nvar WRAP_CURRY_FLAG = 8, WRAP_PARTIAL_FLAG = 32, WRAP_ARY_FLAG = 128, WRAP_REARG_FLAG = 256;\nfunction createFlow(fromRight) {\n    return _flatRest_js_1.default(function (funcs) {\n        var length = funcs.length, index = length, prereq = _LodashWrapper_js_1.default.prototype.thru;\n        if (fromRight) {\n            funcs.reverse();\n        }\n        while (index--) {\n            var func = funcs[index];\n            if (typeof func != 'function') {\n                throw new TypeError(FUNC_ERROR_TEXT);\n            }\n            if (prereq && !wrapper && _getFuncName_js_1.default(func) == 'wrapper') {\n                var wrapper = new _LodashWrapper_js_1.default([], true);\n            }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n            func = funcs[index];\n            var funcName = _getFuncName_js_1.default(func), data = funcName == 'wrapper' ? _getData_js_1.default(func) : undefined;\n            if (data && _isLaziable_js_1.default(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1) {\n                wrapper = wrapper[_getFuncName_js_1.default(data[0])].apply(wrapper, data[3]);\n            }\n            else {\n                wrapper = (func.length == 1 && _isLaziable_js_1.default(func))\n                    ? wrapper[funcName]()\n                    : wrapper.thru(func);\n            }\n        }\n        return function () {\n            var args = arguments, value = args[0];\n            if (wrapper && args.length == 1 && isArray_js_1.default(value)) {\n                return wrapper.plant(value).value();\n            }\n            var index = 0, result = length ? funcs[index].apply(this, args) : value;\n            while (++index < length) {\n                result = funcs[index].call(this, result);\n            }\n            return result;\n        };\n    });\n}\nexports.default = createFlow;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _createFlow_js_1 = require(\"./_createFlow.js\");\nvar flowRight = _createFlow_js_1.default(true);\nexports.default = flowRight;\n","import curry from \"wonder-lodash/curry\";\r\nimport flowRight from \"wonder-lodash/flowRight\";\r\nimport { filter, forEach } from \"./arrayUtils\";\r\n\r\nexport var compose = flowRight;\r\n\r\nexport var chain = curry((f: Function, m: any) => {\r\n    return m.chain(f);\r\n})\r\n\r\nexport var map = curry((f: Function, m: any) => {\r\n    return m.map(f);\r\n})\r\n\r\nexport var filterArray = curry((f: (item: any) => boolean, arr: Array<any>) => {\r\n    return filter(arr, f);\r\n})\r\n\r\nexport var forEachArray = curry((f: (item: any, index: number) => void, arr: Array<any>) => {\r\n    return forEach(arr, f);\r\n})\r\n","import { ensureFunc, it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { isValidMapValue } from \"../../utils/objectUtils\";\r\n\r\nexport var getUID = requireCheckFunc((indexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    it(\"indexInArrayBuffer should exist\", () => {\r\n        expect(indexInArrayBuffer).exist;\r\n    });\r\n    it(\"transform should exist\", () => {\r\n        expect(ThreeDTransformData.transformMap[indexInArrayBuffer]).exist;\r\n    });\r\n}, (indexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    return ThreeDTransformData.transformMap[indexInArrayBuffer].uid;\r\n})\r\n\r\nexport var isIndexUsed = ensureFunc((isExist: boolean, indexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    // it(\"if(or not) exist data, the transform and its indexInArrayBuffer should be(or not) setted to data container;relation item should(or not) exist\", () => {\r\n    //     if (isExist) {\r\n    // expect(_isValidArrayValue(ThreeDTransformData.transforms[indexInArrayBuffer])).true;\r\n    // expect(_getTransformIndexInArrayBufferTable(ThreeDTransformData.transforms[indexInArrayBuffer], ThreeDTransformData)).equal(indexInArrayBuffer);\r\n    //\r\n    //         expect(_isRelationItemExist(ThreeDTransformData.relationMap[indexInArrayBuffer])).true;\r\n    //     }\r\n    //     else {\r\n    //         // expect(_isValidArrayValue(ThreeDTransformData.transforms[indexInArrayBuffer])).false;\r\n    //\r\n    //         expect(_isRelationItemExist(ThreeDTransformData.relationMap[indexInArrayBuffer])).false;\r\n    //     }\r\n    // });\r\n}, (indexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    return isValidMapValue(ThreeDTransformData.transformMap[indexInArrayBuffer]);\r\n    // return _isValidArrayValue(ThreeDTransformData.transforms[indexInArrayBuffer]);\r\n})\r\n\r\n/*!\r\n regard 0 as the default index, so that _isValidIndex can judge whether the index is not the default index or not!\r\n */\r\nexport var getStartIndexInArrayBuffer = () => 1;\r\n","import { IUIDEntity } from \"../core/entityObject/gameObject/GameObject\";\r\n\r\nexport var removeChildEntity = (children: Array<IUIDEntity>, targetUID: number) => {\r\n    for (let i = 0, len = children.length; i < len; ++i) {\r\n        if (children[i].uid === targetUID) {\r\n            children.splice(i, 1);\r\n            break;\r\n        }\r\n    }\r\n}\r\n\r\n","/*!\n * Bowser - a browser detector\n * https://github.com/ded/bowser\n * MIT License | (c) Dustin Diaz 2015\n */\n\n!function (root, name, definition) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof define == 'function' && define.amd) define(name, definition)\n  else root[name] = definition()\n}(this, 'bowser', function () {\n  /**\n    * See useragents.js for examples of navigator.userAgent\n    */\n\n  var t = true\n\n  function detect(ua) {\n\n    function getFirstMatch(regex) {\n      var match = ua.match(regex);\n      return (match && match.length > 1 && match[1]) || '';\n    }\n\n    function getSecondMatch(regex) {\n      var match = ua.match(regex);\n      return (match && match.length > 1 && match[2]) || '';\n    }\n\n    var iosdevice = getFirstMatch(/(ipod|iphone|ipad)/i).toLowerCase()\n      , likeAndroid = /like android/i.test(ua)\n      , android = !likeAndroid && /android/i.test(ua)\n      , nexusMobile = /nexus\\s*[0-6]\\s*/i.test(ua)\n      , nexusTablet = !nexusMobile && /nexus\\s*[0-9]+/i.test(ua)\n      , chromeos = /CrOS/.test(ua)\n      , silk = /silk/i.test(ua)\n      , sailfish = /sailfish/i.test(ua)\n      , tizen = /tizen/i.test(ua)\n      , webos = /(web|hpw)os/i.test(ua)\n      , windowsphone = /windows phone/i.test(ua)\n      , samsungBrowser = /SamsungBrowser/i.test(ua)\n      , windows = !windowsphone && /windows/i.test(ua)\n      , mac = !iosdevice && !silk && /macintosh/i.test(ua)\n      , linux = !android && !sailfish && !tizen && !webos && /linux/i.test(ua)\n      , edgeVersion = getFirstMatch(/edge\\/(\\d+(\\.\\d+)?)/i)\n      , versionIdentifier = getFirstMatch(/version\\/(\\d+(\\.\\d+)?)/i)\n      , tablet = /tablet/i.test(ua)\n      , mobile = !tablet && /[^-]mobi/i.test(ua)\n      , xbox = /xbox/i.test(ua)\n      , result\n\n    if (/opera/i.test(ua)) {\n      //  an old Opera\n      result = {\n        name: 'Opera'\n      , opera: t\n      , version: versionIdentifier || getFirstMatch(/(?:opera|opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      }\n    } else if (/opr|opios/i.test(ua)) {\n      // a new Opera\n      result = {\n        name: 'Opera'\n        , opera: t\n        , version: getFirstMatch(/(?:opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i) || versionIdentifier\n      }\n    }\n    else if (/SamsungBrowser/i.test(ua)) {\n      result = {\n        name: 'Samsung Internet for Android'\n        , samsungBrowser: t\n        , version: versionIdentifier || getFirstMatch(/(?:SamsungBrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/coast/i.test(ua)) {\n      result = {\n        name: 'Opera Coast'\n        , coast: t\n        , version: versionIdentifier || getFirstMatch(/(?:coast)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/yabrowser/i.test(ua)) {\n      result = {\n        name: 'Yandex Browser'\n      , yandexbrowser: t\n      , version: versionIdentifier || getFirstMatch(/(?:yabrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/ucbrowser/i.test(ua)) {\n      result = {\n          name: 'UC Browser'\n        , ucbrowser: t\n        , version: getFirstMatch(/(?:ucbrowser)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (/mxios/i.test(ua)) {\n      result = {\n        name: 'Maxthon'\n        , maxthon: t\n        , version: getFirstMatch(/(?:mxios)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (/epiphany/i.test(ua)) {\n      result = {\n        name: 'Epiphany'\n        , epiphany: t\n        , version: getFirstMatch(/(?:epiphany)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (/puffin/i.test(ua)) {\n      result = {\n        name: 'Puffin'\n        , puffin: t\n        , version: getFirstMatch(/(?:puffin)[\\s\\/](\\d+(?:\\.\\d+)?)/i)\n      }\n    }\n    else if (/sleipnir/i.test(ua)) {\n      result = {\n        name: 'Sleipnir'\n        , sleipnir: t\n        , version: getFirstMatch(/(?:sleipnir)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (/k-meleon/i.test(ua)) {\n      result = {\n        name: 'K-Meleon'\n        , kMeleon: t\n        , version: getFirstMatch(/(?:k-meleon)[\\s\\/](\\d+(?:\\.\\d+)+)/i)\n      }\n    }\n    else if (windowsphone) {\n      result = {\n        name: 'Windows Phone'\n      , windowsphone: t\n      }\n      if (edgeVersion) {\n        result.msedge = t\n        result.version = edgeVersion\n      }\n      else {\n        result.msie = t\n        result.version = getFirstMatch(/iemobile\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/msie|trident/i.test(ua)) {\n      result = {\n        name: 'Internet Explorer'\n      , msie: t\n      , version: getFirstMatch(/(?:msie |rv:)(\\d+(\\.\\d+)?)/i)\n      }\n    } else if (chromeos) {\n      result = {\n        name: 'Chrome'\n      , chromeos: t\n      , chromeBook: t\n      , chrome: t\n      , version: getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n      }\n    } else if (/chrome.+? edge/i.test(ua)) {\n      result = {\n        name: 'Microsoft Edge'\n      , msedge: t\n      , version: edgeVersion\n      }\n    }\n    else if (/vivaldi/i.test(ua)) {\n      result = {\n        name: 'Vivaldi'\n        , vivaldi: t\n        , version: getFirstMatch(/vivaldi\\/(\\d+(\\.\\d+)?)/i) || versionIdentifier\n      }\n    }\n    else if (sailfish) {\n      result = {\n        name: 'Sailfish'\n      , sailfish: t\n      , version: getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/seamonkey\\//i.test(ua)) {\n      result = {\n        name: 'SeaMonkey'\n      , seamonkey: t\n      , version: getFirstMatch(/seamonkey\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/firefox|iceweasel|fxios/i.test(ua)) {\n      result = {\n        name: 'Firefox'\n      , firefox: t\n      , version: getFirstMatch(/(?:firefox|iceweasel|fxios)[ \\/](\\d+(\\.\\d+)?)/i)\n      }\n      if (/\\((mobile|tablet);[^\\)]*rv:[\\d\\.]+\\)/i.test(ua)) {\n        result.firefoxos = t\n      }\n    }\n    else if (silk) {\n      result =  {\n        name: 'Amazon Silk'\n      , silk: t\n      , version : getFirstMatch(/silk\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/phantom/i.test(ua)) {\n      result = {\n        name: 'PhantomJS'\n      , phantom: t\n      , version: getFirstMatch(/phantomjs\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/slimerjs/i.test(ua)) {\n      result = {\n        name: 'SlimerJS'\n        , slimer: t\n        , version: getFirstMatch(/slimerjs\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (/blackberry|\\bbb\\d+/i.test(ua) || /rim\\stablet/i.test(ua)) {\n      result = {\n        name: 'BlackBerry'\n      , blackberry: t\n      , version: versionIdentifier || getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (webos) {\n      result = {\n        name: 'WebOS'\n      , webos: t\n      , version: versionIdentifier || getFirstMatch(/w(?:eb)?osbrowser\\/(\\d+(\\.\\d+)?)/i)\n      };\n      /touchpad\\//i.test(ua) && (result.touchpad = t)\n    }\n    else if (/bada/i.test(ua)) {\n      result = {\n        name: 'Bada'\n      , bada: t\n      , version: getFirstMatch(/dolfin\\/(\\d+(\\.\\d+)?)/i)\n      };\n    }\n    else if (tizen) {\n      result = {\n        name: 'Tizen'\n      , tizen: t\n      , version: getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.\\d+)?)/i) || versionIdentifier\n      };\n    }\n    else if (/qupzilla/i.test(ua)) {\n      result = {\n        name: 'QupZilla'\n        , qupzilla: t\n        , version: getFirstMatch(/(?:qupzilla)[\\s\\/](\\d+(?:\\.\\d+)+)/i) || versionIdentifier\n      }\n    }\n    else if (/chromium/i.test(ua)) {\n      result = {\n        name: 'Chromium'\n        , chromium: t\n        , version: getFirstMatch(/(?:chromium)[\\s\\/](\\d+(?:\\.\\d+)?)/i) || versionIdentifier\n      }\n    }\n    else if (/chrome|crios|crmo/i.test(ua)) {\n      result = {\n        name: 'Chrome'\n        , chrome: t\n        , version: getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)\n      }\n    }\n    else if (android) {\n      result = {\n        name: 'Android'\n        , version: versionIdentifier\n      }\n    }\n    else if (/safari|applewebkit/i.test(ua)) {\n      result = {\n        name: 'Safari'\n      , safari: t\n      }\n      if (versionIdentifier) {\n        result.version = versionIdentifier\n      }\n    }\n    else if (iosdevice) {\n      result = {\n        name : iosdevice == 'iphone' ? 'iPhone' : iosdevice == 'ipad' ? 'iPad' : 'iPod'\n      }\n      // WTF: version is not part of user agent in web apps\n      if (versionIdentifier) {\n        result.version = versionIdentifier\n      }\n    }\n    else if(/googlebot/i.test(ua)) {\n      result = {\n        name: 'Googlebot'\n      , googlebot: t\n      , version: getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i) || versionIdentifier\n      }\n    }\n    else {\n      result = {\n        name: getFirstMatch(/^(.*)\\/(.*) /),\n        version: getSecondMatch(/^(.*)\\/(.*) /)\n     };\n   }\n\n    // set webkit or gecko flag for browsers based on these engines\n    if (!result.msedge && /(apple)?webkit/i.test(ua)) {\n      if (/(apple)?webkit\\/537\\.36/i.test(ua)) {\n        result.name = result.name || \"Blink\"\n        result.blink = t\n      } else {\n        result.name = result.name || \"Webkit\"\n        result.webkit = t\n      }\n      if (!result.version && versionIdentifier) {\n        result.version = versionIdentifier\n      }\n    } else if (!result.opera && /gecko\\//i.test(ua)) {\n      result.name = result.name || \"Gecko\"\n      result.gecko = t\n      result.version = result.version || getFirstMatch(/gecko\\/(\\d+(\\.\\d+)?)/i)\n    }\n\n    // set OS flags for platforms that have multiple browsers\n    if (!result.windowsphone && !result.msedge && (android || result.silk)) {\n      result.android = t\n    } else if (!result.windowsphone && !result.msedge && iosdevice) {\n      result[iosdevice] = t\n      result.ios = t\n    } else if (mac) {\n      result.mac = t\n    } else if (xbox) {\n      result.xbox = t\n    } else if (windows) {\n      result.windows = t\n    } else if (linux) {\n      result.linux = t\n    }\n\n    // OS version extraction\n    var osVersion = '';\n    if (result.windowsphone) {\n      osVersion = getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i);\n    } else if (iosdevice) {\n      osVersion = getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i);\n      osVersion = osVersion.replace(/[_\\s]/g, '.');\n    } else if (android) {\n      osVersion = getFirstMatch(/android[ \\/-](\\d+(\\.\\d+)*)/i);\n    } else if (result.webos) {\n      osVersion = getFirstMatch(/(?:web|hpw)os\\/(\\d+(\\.\\d+)*)/i);\n    } else if (result.blackberry) {\n      osVersion = getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i);\n    } else if (result.bada) {\n      osVersion = getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i);\n    } else if (result.tizen) {\n      osVersion = getFirstMatch(/tizen[\\/\\s](\\d+(\\.\\d+)*)/i);\n    }\n    if (osVersion) {\n      result.osversion = osVersion;\n    }\n\n    // device type extraction\n    var osMajorVersion = osVersion.split('.')[0];\n    if (\n         tablet\n      || nexusTablet\n      || iosdevice == 'ipad'\n      || (android && (osMajorVersion == 3 || (osMajorVersion >= 4 && !mobile)))\n      || result.silk\n    ) {\n      result.tablet = t\n    } else if (\n         mobile\n      || iosdevice == 'iphone'\n      || iosdevice == 'ipod'\n      || android\n      || nexusMobile\n      || result.blackberry\n      || result.webos\n      || result.bada\n    ) {\n      result.mobile = t\n    }\n\n    // Graded Browser Support\n    // http://developer.yahoo.com/yui/articles/gbs\n    if (result.msedge ||\n        (result.msie && result.version >= 10) ||\n        (result.yandexbrowser && result.version >= 15) ||\n\t\t    (result.vivaldi && result.version >= 1.0) ||\n        (result.chrome && result.version >= 20) ||\n        (result.samsungBrowser && result.version >= 4) ||\n        (result.firefox && result.version >= 20.0) ||\n        (result.safari && result.version >= 6) ||\n        (result.opera && result.version >= 10.0) ||\n        (result.ios && result.osversion && result.osversion.split(\".\")[0] >= 6) ||\n        (result.blackberry && result.version >= 10.1)\n        || (result.chromium && result.version >= 20)\n        ) {\n      result.a = t;\n    }\n    else if ((result.msie && result.version < 10) ||\n        (result.chrome && result.version < 20) ||\n        (result.firefox && result.version < 20.0) ||\n        (result.safari && result.version < 6) ||\n        (result.opera && result.version < 10.0) ||\n        (result.ios && result.osversion && result.osversion.split(\".\")[0] < 6)\n        || (result.chromium && result.version < 20)\n        ) {\n      result.c = t\n    } else result.x = t\n\n    return result\n  }\n\n  var bowser = detect(typeof navigator !== 'undefined' ? navigator.userAgent || '' : '')\n\n  bowser.test = function (browserList) {\n    for (var i = 0; i < browserList.length; ++i) {\n      var browserItem = browserList[i];\n      if (typeof browserItem=== 'string') {\n        if (browserItem in bowser) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Get version precisions count\n   *\n   * @example\n   *   getVersionPrecision(\"1.10.3\") // 3\n   *\n   * @param  {string} version\n   * @return {number}\n   */\n  function getVersionPrecision(version) {\n    return version.split(\".\").length;\n  }\n\n  /**\n   * Array::map polyfill\n   *\n   * @param  {Array} arr\n   * @param  {Function} iterator\n   * @return {Array}\n   */\n  function map(arr, iterator) {\n    var result = [], i;\n    if (Array.prototype.map) {\n      return Array.prototype.map.call(arr, iterator);\n    }\n    for (i = 0; i < arr.length; i++) {\n      result.push(iterator(arr[i]));\n    }\n    return result;\n  }\n\n  /**\n   * Calculate browser version weight\n   *\n   * @example\n   *   compareVersions(['1.10.2.1',  '1.8.2.1.90'])    // 1\n   *   compareVersions(['1.010.2.1', '1.09.2.1.90']);  // 1\n   *   compareVersions(['1.10.2.1',  '1.10.2.1']);     // 0\n   *   compareVersions(['1.10.2.1',  '1.0800.2']);     // -1\n   *\n   * @param  {Array<String>} versions versions to compare\n   * @return {Number} comparison result\n   */\n  function compareVersions(versions) {\n    // 1) get common precision for both versions, for example for \"10.0\" and \"9\" it should be 2\n    var precision = Math.max(getVersionPrecision(versions[0]), getVersionPrecision(versions[1]));\n    var chunks = map(versions, function (version) {\n      var delta = precision - getVersionPrecision(version);\n\n      // 2) \"9\" -> \"9.0\" (for precision = 2)\n      version = version + new Array(delta + 1).join(\".0\");\n\n      // 3) \"9.0\" -> [\"000000000\"\", \"000000009\"]\n      return map(version.split(\".\"), function (chunk) {\n        return new Array(20 - chunk.length).join(\"0\") + chunk;\n      }).reverse();\n    });\n\n    // iterate in reverse order by reversed chunks array\n    while (--precision >= 0) {\n      // 4) compare: \"000000009\" > \"000000010\" = false (but \"9\" > \"10\" = true)\n      if (chunks[0][precision] > chunks[1][precision]) {\n        return 1;\n      }\n      else if (chunks[0][precision] === chunks[1][precision]) {\n        if (precision === 0) {\n          // all version chunks are same\n          return 0;\n        }\n      }\n      else {\n        return -1;\n      }\n    }\n  }\n\n  /**\n   * Check if browser is unsupported\n   *\n   * @example\n   *   bowser.isUnsupportedBrowser({\n   *     msie: \"10\",\n   *     firefox: \"23\",\n   *     chrome: \"29\",\n   *     safari: \"5.1\",\n   *     opera: \"16\",\n   *     phantom: \"534\"\n   *   });\n   *\n   * @param  {Object}  minVersions map of minimal version to browser\n   * @param  {Boolean} [strictMode = false] flag to return false if browser wasn't found in map\n   * @param  {String}  [ua] user agent string\n   * @return {Boolean}\n   */\n  function isUnsupportedBrowser(minVersions, strictMode, ua) {\n    var _bowser = bowser;\n\n    // make strictMode param optional with ua param usage\n    if (typeof strictMode === 'string') {\n      ua = strictMode;\n      strictMode = void(0);\n    }\n\n    if (strictMode === void(0)) {\n      strictMode = false;\n    }\n    if (ua) {\n      _bowser = detect(ua);\n    }\n\n    var version = \"\" + _bowser.version;\n    for (var browser in minVersions) {\n      if (minVersions.hasOwnProperty(browser)) {\n        if (_bowser[browser]) {\n          if (typeof minVersions[browser] !== 'string') {\n            throw new Error('Browser version in the minVersion map should be a string: ' + browser + ': ' + String(minVersions));\n          }\n\n          // browser version and min supported version.\n          return compareVersions([version, minVersions[browser]]) < 0;\n        }\n      }\n    }\n\n    return strictMode; // not found\n  }\n\n  /**\n   * Check if browser is supported\n   *\n   * @param  {Object} minVersions map of minimal version to browser\n   * @param  {Boolean} [strictMode = false] flag to return false if browser wasn't found in map\n   * @param  {String}  [ua] user agent string\n   * @return {Boolean}\n   */\n  function check(minVersions, strictMode, ua) {\n    return !isUnsupportedBrowser(minVersions, strictMode, ua);\n  }\n\n  bowser.isUnsupportedBrowser = isUnsupportedBrowser;\n  bowser.compareVersions = compareVersions;\n  bowser.check = check;\n\n  /*\n   * Set our detect method to the main bowser object so we can\n   * reuse it to test other user agents.\n   * This is needed to implement future tests.\n   */\n  bowser._detect = detect;\n\n  return bowser\n});\n","import { it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { deleteVal, isNotValidMapValue, isValidMapValue } from \"../../utils/objectUtils\";\r\nimport { isNotUndefined } from \"../../utils/JudgeUtils\";\r\nimport { ThreeDTransform } from \"./ThreeDTransform\";\r\nimport { addItAndItsChildrenToDirtyList } from \"./dirtySystem\";\r\nimport { deleteMapVal } from \"../../utils/mapUtils\";\r\nimport { removeChildEntity } from \"../../utils/entityUtils\";\r\nimport { chrome, firefox } from \"bowser\";\r\nimport { error, Log } from \"../../utils/Log\";\r\nimport { filter } from \"../../utils/arrayUtils\";\r\n\r\nexport var getParent = requireCheckFunc((uid: string, ThreeDTransformData: any) => {\r\n    it(\"uid should exist\", () => {\r\n        expect(uid).exist;\r\n    });\r\n}, (uid: string, ThreeDTransformData: any) => {\r\n    // return ThreeDTransformData.parentMap.get(uid);\r\n    return ThreeDTransformData.parentMap[uid];\r\n})\r\n\r\nexport var setParent = requireCheckFunc((transform: ThreeDTransform, parent: ThreeDTransform, ThreeDTransformData: any) => {\r\n    it(\"parent should not be self\", () => {\r\n        if (parent !== null) {\r\n            expect(_isTransformEqual(transform, parent)).false;\r\n        }\r\n    });\r\n}, (transform: ThreeDTransform, parent: ThreeDTransform, ThreeDTransformData: any) => {\r\n    var indexInArrayBuffer = transform.index,\r\n        uid = transform.uid,\r\n        parentIndexInArrayBuffer: number = null,\r\n        currentParent: ThreeDTransform = getParent(uid, ThreeDTransformData),\r\n        isCurrentParentExisit = isParentExist(currentParent);\r\n\r\n    if (parent === null) {\r\n        if (isCurrentParentExisit) {\r\n            _removeHierarchyFromParent(currentParent, uid, ThreeDTransformData);\r\n\r\n            addItAndItsChildrenToDirtyList(indexInArrayBuffer, uid, ThreeDTransformData);\r\n        }\r\n\r\n        return;\r\n    }\r\n\r\n    parentIndexInArrayBuffer = parent.index;\r\n\r\n    if (isCurrentParentExisit) {\r\n        if (isNotChangeParent(currentParent.index, parentIndexInArrayBuffer)) {\r\n            return;\r\n        }\r\n\r\n        _removeHierarchyFromParent(currentParent, uid, ThreeDTransformData);\r\n    }\r\n\r\n    _addToParent(uid, transform, parent, ThreeDTransformData);\r\n\r\n    addItAndItsChildrenToDirtyList(indexInArrayBuffer, uid, ThreeDTransformData);\r\n})\r\n\r\nvar _isTransformEqual = (tra1: ThreeDTransform, tra2: ThreeDTransform) => tra1.uid === tra2.uid;\r\n\r\nexport var getChildren = (uid: number, ThreeDTransformData: any) => {\r\n    return ThreeDTransformData.childrenMap[uid];\r\n}\r\n\r\nexport var isParentExist = (parent: ThreeDTransform) => isNotUndefined(parent);\r\n\r\nexport var isChildrenExist = (children: Array<ThreeDTransform>) => isNotUndefined(children);\r\n\r\nexport var isNotChangeParent = (currentParentIndexInArrayBuffer: number, newParentIndexInArrayBuffer: number) => {\r\n    return currentParentIndexInArrayBuffer === newParentIndexInArrayBuffer;\r\n}\r\n\r\nexport var removeHierarchyData = (uid: number, ThreeDTransformData: any) => {\r\n    deleteVal(uid, ThreeDTransformData.childrenMap);\r\n\r\n    let parent = getParent(uid, ThreeDTransformData);\r\n\r\n    if (isParentExist(parent)) {\r\n        _removeHierarchyFromParent(parent, uid, ThreeDTransformData);\r\n    }\r\n}\r\n\r\nvar _removeHierarchyFromParent = (parent: ThreeDTransform, targetUID: number, ThreeDTransformData: any) => {\r\n    var parentUID = parent.uid,\r\n        children = getChildren(parentUID, ThreeDTransformData);\r\n\r\n    deleteVal(targetUID, ThreeDTransformData.parentMap);\r\n\r\n    if (isNotValidMapValue(children)) {\r\n        return;\r\n    }\r\n\r\n    _removeChild(parentUID, targetUID, children, ThreeDTransformData);\r\n}\r\n\r\nvar _removeChild = null;\r\n\r\nif (chrome) {\r\n    _removeChild = (parentUID: number, targetUID: number, children: Array<ThreeDTransform>, ThreeDTransformData: any) => {\r\n        setChildren(parentUID, filter(children, (transform: ThreeDTransform) => {\r\n            return transform.uid !== targetUID;\r\n        }), ThreeDTransformData);\r\n    }\r\n}\r\nelse if (firefox) {\r\n    _removeChild = (parentUID: number, targetUID: number, children: Array<ThreeDTransform>, ThreeDTransformData: any) => {\r\n        removeChildEntity(children, targetUID);\r\n    }\r\n}\r\nelse {\r\n    error(true, Log.info.FUNC_NOT_SUPPORT(\"browser\"));\r\n}\r\n\r\nvar _addChild = requireCheckFunc((uid: number, child: ThreeDTransform, ThreeDTransformData: any) => {\r\n    it(\"children should be empty array if has no child\", () => {\r\n        expect(getChildren(uid, ThreeDTransformData)).be.a(\"array\");\r\n    });\r\n}, (uid: number, child: ThreeDTransform, ThreeDTransformData: any) => {\r\n    var children = getChildren(uid, ThreeDTransformData);\r\n\r\n    children.push(child);\r\n})\r\n\r\nexport var setChildren = (uid: number, children: Array<ThreeDTransform>, ThreeDTransformData: any) => {\r\n    ThreeDTransformData.childrenMap[uid] = children;\r\n}\r\n\r\nvar _setParent = (uid: number, parent: ThreeDTransform, ThreeDTransformData: any) => {\r\n    ThreeDTransformData.parentMap[uid] = parent;\r\n}\r\n\r\nvar _addToParent = requireCheckFunc((targetUID: number, target: ThreeDTransform, parent: ThreeDTransform, ThreeDTransformData: any) => {\r\n    it(\"the child one should not has parent\", () => {\r\n        expect(isValidMapValue(getParent(targetUID, ThreeDTransformData))).false;\r\n    });\r\n    it(\"parent should not already has the child\", () => {\r\n        var parentUID = parent.uid,\r\n            children = getChildren(parentUID, ThreeDTransformData);\r\n\r\n        if (isValidMapValue(children)) {\r\n            expect(children.indexOf(target)).equal(-1);\r\n        }\r\n    });\r\n}, (targetUID: number, target: ThreeDTransform, parent: ThreeDTransform, ThreeDTransformData: any) => {\r\n    var parentUID = parent.uid;\r\n\r\n    _setParent(targetUID, parent, ThreeDTransformData);\r\n\r\n    _addChild(parentUID, target, ThreeDTransformData);\r\n})\r\n","import { Matrix4 } from \"../../math/Matrix4\";\r\nimport { Quaternion } from \"../../math/Quaternion\";\r\nimport { Vector3 } from \"../../math/Vector3\";\r\nimport { getUID, isIndexUsed } from \"./utils\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { TransformMap } from \"./ThreeDTransformData\";\r\nimport { deleteVal } from \"../../utils/objectUtils\";\r\nimport { addNotUsedIndex } from \"./dirtySystem\";\r\nimport { DataUtils } from \"../../utils/DataUtils\";\r\nimport { ThreeDTransform } from \"./ThreeDTransform\";\r\nimport { isParentExist } from \"./hierarchySystem\";\r\nimport { getLocalToWorldMatrix } from \"./ThreeDTransformSystem\";\r\n\r\nexport var swap = requireCheckFunc((index1: number, index2: number, ThreeDTransformData: any) => {\r\n    it(\"source index and target index should be used\", () => {\r\n        expect(isIndexUsed(index1, ThreeDTransformData)).true;\r\n        expect(isIndexUsed(index2, ThreeDTransformData)).true;\r\n    });\r\n}, (index1: number, index2: number, ThreeDTransformData: any) => {\r\n    swapTypeArrData(index1, index2, ThreeDTransformData);\r\n    swapTransformMapData(index1, index2, ThreeDTransformData);\r\n\r\n    return ThreeDTransformData;\r\n})\r\n\r\nexport var swapTransformMapData = requireCheckFunc((index1: number, index2: number, ThreeDTransformData: any) => {\r\n    it(\"source index and target index should be used\", () => {\r\n        expect(isIndexUsed(index1, ThreeDTransformData)).true;\r\n        expect(isIndexUsed(index2, ThreeDTransformData)).true;\r\n    });\r\n}, (index1: number, index2: number, ThreeDTransformData: any) => {\r\n    return _changeMapData(index1, index2, _swapTransformMap, ThreeDTransformData);\r\n})\r\n\r\nexport var swapTypeArrData = (index1: number, index2: number, ThreeDTransformData: any) => {\r\n    return _changeTypeArrData(index1, index2, _swapTypeArr, ThreeDTransformData);\r\n}\r\n\r\nvar _swapTypeArr = (dataArr: any, index1: number, index2: number, length: number) => {\r\n    for (let i = 0; i < length; i++) {\r\n        let newIndex1 = index1 + i,\r\n            newIndex2 = index2 + i,\r\n            temp = dataArr[newIndex2];\r\n\r\n        dataArr[newIndex2] = dataArr[newIndex1];\r\n\r\n        dataArr[newIndex1] = temp;\r\n    }\r\n}\r\n\r\nvar _swapTransformMap = (transformMap: TransformMap, sourceIndex: number, targetIndex: number) => {\r\n    var sourceTransform = transformMap[sourceIndex],\r\n        targetTransform = transformMap[targetIndex];\r\n\r\n    sourceTransform.index = targetIndex;\r\n    targetTransform.index = sourceIndex;\r\n\r\n    transformMap[targetIndex] = sourceTransform;\r\n    transformMap[sourceIndex] = targetTransform;\r\n}\r\n\r\nvar _changeTypeArrData = (sourceIndex: number, targetIndex: number, changeFunc: (arr: Float32Array, sourceIndex: number, targetIndex: number, length: number) => void, ThreeDTransformData: any) => {\r\n    if (sourceIndex === targetIndex) {\r\n        return ThreeDTransformData;\r\n    }\r\n\r\n    let mat4SourceIndex = getMatrix4DataIndexInArrayBuffer(sourceIndex),\r\n        mat4TargetIndex = getMatrix4DataIndexInArrayBuffer(targetIndex),\r\n        mat4Size = getMatrix4DataSize(),\r\n        vec3SourceIndex = getVector3DataIndexInArrayBuffer(sourceIndex),\r\n        vec3TargetIndex = getVector3DataIndexInArrayBuffer(targetIndex),\r\n        vec3Size = getVector3DataSize(),\r\n        quaSourceIndex = getQuaternionDataIndexInArrayBuffer(sourceIndex),\r\n        quaTargetIndex = getQuaternionDataIndexInArrayBuffer(targetIndex),\r\n        quaSize = getQuaternionDataSize();\r\n\r\n    changeFunc(ThreeDTransformData.localToWorldMatrices, mat4SourceIndex, mat4TargetIndex, mat4Size);\r\n    changeFunc(ThreeDTransformData.localPositions, vec3SourceIndex, vec3TargetIndex, vec3Size);\r\n    changeFunc(ThreeDTransformData.localRotations, quaSourceIndex, quaTargetIndex, quaSize);\r\n    changeFunc(ThreeDTransformData.localScales, vec3SourceIndex, vec3TargetIndex, vec3Size);\r\n\r\n    return ThreeDTransformData;\r\n}\r\n\r\nvar _changeMapData = (sourceIndex: number, targetIndex: number, changeFunc: (transformMap: TransformMap, sourceIndex: number, targetIndex: number) => void, ThreeDTransformData: any) => {\r\n    if (sourceIndex === targetIndex) {\r\n        return ThreeDTransformData;\r\n    }\r\n\r\n    changeFunc(ThreeDTransformData.transformMap, sourceIndex, targetIndex);\r\n\r\n    return ThreeDTransformData;\r\n}\r\n\r\n// var _resetValInArr = (dataArr: Array<any>, index: number) => {\r\n//     dataArr[index] = void 0;\r\n// }\r\n\r\nvar _moveToTypeArr = (dataArr: Float32Array, sourceIndex: number, targetIndex: number, length: number\r\n) => {\r\n    for (let i = 0; i < length; i++) {\r\n        let newIndex1 = sourceIndex + i,\r\n            newIndex2 = targetIndex + i;\r\n\r\n        dataArr[newIndex2] = dataArr[newIndex1];\r\n\r\n        dataArr[newIndex1] = 0;\r\n    }\r\n};\r\n\r\nvar _moveToTransformMap = (transformMap: TransformMap, sourceIndex: number, targetIndex: number) => {\r\n    var sourceTransform = transformMap[sourceIndex];\r\n\r\n    sourceTransform.index = targetIndex;\r\n    transformMap[targetIndex] = sourceTransform;\r\n\r\n    deleteVal(sourceIndex, transformMap);\r\n}\r\n\r\n\r\nexport var moveToIndex = ensureFunc((returnVal, sourceIndex: number, targetIndex: number, ThreeDTransformData: any) => {\r\n    it(\"source index should not be used\", () => {\r\n        expect(isIndexUsed(sourceIndex, ThreeDTransformData)).false;\r\n    });\r\n}, requireCheckFunc((sourceIndex: number, targetIndex: number, ThreeDTransformData: any) => {\r\n    it(\"source index should be used\", () => {\r\n        expect(isIndexUsed(sourceIndex, ThreeDTransformData)).true;\r\n    });\r\n    it(\"target index should not be used\", () => {\r\n        expect(isIndexUsed(targetIndex, ThreeDTransformData)).false;\r\n    });\r\n}, (sourceIndex: number, targetIndex: number, ThreeDTransformData: any) => {\r\n    moveTypeArrDataToIndex(sourceIndex, targetIndex, ThreeDTransformData);\r\n    moveMapDataToIndex(sourceIndex, targetIndex, ThreeDTransformData);\r\n\r\n    addNotUsedIndex(sourceIndex, ThreeDTransformData.notUsedIndexLinkList);\r\n\r\n    return ThreeDTransformData;\r\n}))\r\n\r\nexport var moveMapDataToIndex = ensureFunc((returnVal, sourceIndex: number, targetIndex: number, ThreeDTransformData: any) => {\r\n    it(\"source index should not be used\", () => {\r\n        expect(isIndexUsed(sourceIndex, ThreeDTransformData)).false;\r\n    });\r\n}, requireCheckFunc((sourceIndex: number, targetIndex: number, ThreeDTransformData: any) => {\r\n    it(\"source index should be used\", () => {\r\n        expect(isIndexUsed(sourceIndex, ThreeDTransformData)).true;\r\n    });\r\n    it(\"target index should not be used\", () => {\r\n        expect(isIndexUsed(targetIndex, ThreeDTransformData)).false;\r\n    });\r\n}, (sourceIndex: number, targetIndex: number, ThreeDTransformData: any) => {\r\n    return _changeMapData(sourceIndex, targetIndex, _moveToTransformMap, ThreeDTransformData);\r\n}))\r\n\r\n\r\nexport var moveTypeArrDataToIndex = (sourceIndex: number, targetIndex: number, ThreeDTransformData: any) => {\r\n    return _changeTypeArrData(sourceIndex, targetIndex, _moveToTypeArr, ThreeDTransformData);\r\n}\r\n\r\n\r\nexport var setTransformDataInTypeArr = (indexInArrayBuffer: number, mat: Matrix4, qua: Quaternion, positionVec: Vector3, scaleVec: Vector3, ThreeDTransformData: any) => {\r\n    setLocalRotationData(qua, getQuaternionDataIndexInArrayBuffer(indexInArrayBuffer), ThreeDTransformData);\r\n    setLocalPositionData(positionVec, getVector3DataIndexInArrayBuffer(indexInArrayBuffer), ThreeDTransformData);\r\n    setLocalScaleData(scaleVec, getVector3DataIndexInArrayBuffer(indexInArrayBuffer), ThreeDTransformData);\r\n\r\n    setLocalToWorldMatricesData(mat, getMatrix4DataIndexInArrayBuffer(indexInArrayBuffer), ThreeDTransformData);\r\n}\r\n\r\nexport var setLocalToWorldMatricesData = (mat: Matrix4, mat4IndexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    DataUtils.setMatrices(ThreeDTransformData.localToWorldMatrices, mat, mat4IndexInArrayBuffer);\r\n}\r\n\r\nexport var setLocalPositionData = (position: Vector3, vec3IndexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    DataUtils.setVectors(ThreeDTransformData.localPositions, position, vec3IndexInArrayBuffer);\r\n\r\n    return ThreeDTransformData;\r\n}\r\n\r\nexport var setLocalRotationData = (qua: Quaternion, quaIndexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    DataUtils.setQuaternions(ThreeDTransformData.localRotations, qua, quaIndexInArrayBuffer);\r\n\r\n    return ThreeDTransformData;\r\n}\r\n\r\nexport var setLocalScaleData = (scale: Vector3, vec3IndexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    DataUtils.setVectors(ThreeDTransformData.localScales, scale, vec3IndexInArrayBuffer);\r\n\r\n    return ThreeDTransformData;\r\n}\r\n\r\nexport var setPositionData = (indexInArrayBuffer: number, parent: ThreeDTransform, vec3IndexInArrayBuffer: number, position: Vector3, GlobalTempData: any, ThreeDTransformData: any) => {\r\n    if (isParentExist(parent)) {\r\n        let indexInArrayBuffer = parent.index;\r\n\r\n        DataUtils.setVectors(ThreeDTransformData.localPositions, getLocalToWorldMatrix({\r\n            uid: getUID(indexInArrayBuffer, ThreeDTransformData),\r\n            index: indexInArrayBuffer\r\n        }, GlobalTempData.matrix4_3, ThreeDTransformData).invert().multiplyPoint(position), vec3IndexInArrayBuffer);\r\n    }\r\n    else {\r\n        DataUtils.setVectors(ThreeDTransformData.localPositions, position, vec3IndexInArrayBuffer);\r\n    }\r\n}\r\n\r\nexport var getMatrix4DataSize = () => 16;\r\n\r\nexport var getVector3DataSize = () => 3;\r\n\r\nexport var getQuaternionDataSize = () => 4;\r\n\r\nexport var getMatrix4DataIndexInArrayBuffer = (indexInArrayBuffer: number) => indexInArrayBuffer * getMatrix4DataSize();\r\n\r\nexport var getVector3DataIndexInArrayBuffer = (indexInArrayBuffer: number) => indexInArrayBuffer * getVector3DataSize();\r\n\r\nexport var getQuaternionDataIndexInArrayBuffer = (indexInArrayBuffer: number) => indexInArrayBuffer * getQuaternionDataSize();\r\n","export class LinkList<T>{\r\n    public static create() {\r\n        var obj = new this();\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _first: LinkNode<T> = null;\r\n    private _last: LinkNode<T> = null;\r\n\r\n    public shift() {\r\n        var node = this._first;\r\n\r\n        if (node === null) {\r\n            return null;\r\n        }\r\n\r\n        this._first = node.next;\r\n\r\n        return node;\r\n    }\r\n\r\n    public push(node: LinkNode<T>) {\r\n        if (this._last === null) {\r\n            this._first = node;\r\n            this._last = node;\r\n\r\n            return;\r\n        }\r\n\r\n        this._last.next = node;\r\n\r\n        this._last = node;\r\n    }\r\n}\r\n\r\nexport class LinkNode<T>{\r\n    public static create(val: any) {\r\n        var obj = new this(val);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(val: T) {\r\n        this.val = val;\r\n    }\r\n\r\n    public val: T = null;\r\n    public next: LinkNode<T> = null;\r\n}\r\n","import { ensureFunc, it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { getStartIndexInArrayBuffer, isIndexUsed } from \"./utils\";\r\nimport { isNotUndefined } from \"../../utils/JudgeUtils\";\r\nimport { getChildren, isChildrenExist } from \"./hierarchySystem\";\r\nimport { ThreeDTransform } from \"./ThreeDTransform\";\r\nimport { moveToIndex, swap } from \"./operateDataSystem\";\r\nimport { forEach } from \"../../utils/arrayUtils\";\r\nimport { LinkList, LinkNode } from \"./LinkList\";\r\n\r\nexport var addFirstDirtyIndex = ensureFunc((firstDirtyIndex: number, ThreeDTransformData: any) => {\r\n    it(\"firstDirtyIndex should <= count\", () => {\r\n        expect(firstDirtyIndex).lte(ThreeDTransformData.count);\r\n    });\r\n}, (ThreeDTransformData: any) => {\r\n    return ThreeDTransformData.firstDirtyIndex + 1;\r\n})\r\n\r\nexport var minusFirstDirtyIndex = ensureFunc((firstDirtyIndex: number) => {\r\n    it(`firstDirtyIndex should >= start index:${getStartIndexInArrayBuffer()}`, () => {\r\n        expect(firstDirtyIndex).gte(getStartIndexInArrayBuffer());\r\n    });\r\n}, (firstDirtyIndex: number) => {\r\n    return firstDirtyIndex - 1;\r\n})\r\n\r\nexport var generateNotUsedIndexInArrayBuffer = ensureFunc((indexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    _checkGeneratedNotUsedIndex(ThreeDTransformData, indexInArrayBuffer);\r\n}, (ThreeDTransformData: any) => {\r\n    var result = ThreeDTransformData.indexInArrayBuffer;\r\n\r\n    if (result >= ThreeDTransformData.firstDirtyIndex) {\r\n        return _getNotUsedIndexFromArr(ThreeDTransformData);\r\n    }\r\n\r\n    ThreeDTransformData.indexInArrayBuffer += 1;\r\n\r\n    return result;\r\n})\r\n\r\nvar _isValidArrayValue = (val: any) => {\r\n    return isNotUndefined(val);\r\n}\r\n\r\nvar _isValidLinkNode = (node: LinkNode<number>) => {\r\n    return node !== null;\r\n}\r\n\r\nexport var generateNotUsedIndexInNormalList = ensureFunc((indexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    _checkGeneratedNotUsedIndex(ThreeDTransformData, indexInArrayBuffer);\r\n}, (ThreeDTransformData: any) => {\r\n    var index = _getNotUsedIndexFromArr(ThreeDTransformData);\r\n\r\n    if (_isValidArrayValue(index)) {\r\n        return index;\r\n    }\r\n\r\n    index = ThreeDTransformData.indexInArrayBuffer;\r\n\r\n    ThreeDTransformData.indexInArrayBuffer += 1;\r\n\r\n    return index;\r\n})\r\n\r\nexport var addToDirtyList = requireCheckFunc((indexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    it(\"firstDirtyIndex should <= count\", () => {\r\n        expect(ThreeDTransformData.firstDirtyIndex).lte(ThreeDTransformData.count);\r\n    });\r\n    // it(\"target index should not be used\", () => {\r\n    //     var targetDirtyIndex = minusFirstDirtyIndex(ThreeDTransformData.firstDirtyIndex);\r\n    //\r\n    //     expect(isIndexUsed(targetDirtyIndex, ThreeDTransformData)).false;\r\n    // });\r\n}, (indexInArrayBuffer: number, ThreeDTransformData: any) => {\r\n    let targetDirtyIndex = minusFirstDirtyIndex(ThreeDTransformData.firstDirtyIndex);\r\n\r\n    ThreeDTransformData.firstDirtyIndex = targetDirtyIndex;\r\n\r\n    if (isIndexUsed(targetDirtyIndex, ThreeDTransformData)) {\r\n        swap(indexInArrayBuffer, targetDirtyIndex, ThreeDTransformData);\r\n    }\r\n    else {\r\n        moveToIndex(indexInArrayBuffer, targetDirtyIndex, ThreeDTransformData);\r\n    }\r\n\r\n    return targetDirtyIndex;\r\n})\r\n\r\nvar _getNotUsedIndexFromArr = (ThreeDTransformData: any) => {\r\n    var notUsedIndexLinkList = ThreeDTransformData.notUsedIndexLinkList,\r\n        node: LinkNode<number> = null;\r\n\r\n    do {\r\n        node = _getNotUsedIndexNode(notUsedIndexLinkList);\r\n    }\r\n    while (_isValidLinkNode(node) && isIndexUsed(node.val, ThreeDTransformData))\r\n\r\n    return node.val;\r\n}\r\n\r\nvar _getNotUsedIndexNode = (notUsedIndexLinkList: LinkList<number>) => {\r\n    /*!\r\n    not shift! because it's too slow in firefox!\r\n     //optimize: return the first one to ensure that the result index be as much remote from firDirtyIndex as possible(so that it can reduce swap when add to dirty list)\r\n     */\r\n    // return notUsedIndexLinkList.shift();\r\n    return notUsedIndexLinkList.shift();\r\n};\r\n\r\nexport var addNotUsedIndex = (index: number, notUsedIndexLinkList: LinkList<number>) => {\r\n    notUsedIndexLinkList.push(LinkNode.create(index));\r\n};\r\n\r\nexport var isNotDirty = (indexInArrayBuffer: number, firstDirtyIndex: number) => {\r\n    return indexInArrayBuffer < firstDirtyIndex;\r\n}\r\n\r\nexport var addItAndItsChildrenToDirtyList = (rootIndexInArrayBuffer: number, uid: number, ThreeDTransformData: any) => {\r\n    var indexInArraybuffer: number = rootIndexInArrayBuffer,\r\n        children = getChildren(uid, ThreeDTransformData);\r\n\r\n    if (isNotDirty(indexInArraybuffer, ThreeDTransformData.firstDirtyIndex)) {\r\n        addToDirtyList(indexInArraybuffer, ThreeDTransformData);\r\n    }\r\n\r\n    if (isChildrenExist(children)) {\r\n        forEach(children, (child: ThreeDTransform) => {\r\n            addItAndItsChildrenToDirtyList(child.index, child.uid, ThreeDTransformData);\r\n        });\r\n    }\r\n\r\n    return ThreeDTransformData;\r\n}\r\n\r\nvar _checkGeneratedNotUsedIndex = (ThreeDTransformData: any, indexInArrayBuffer: number) => {\r\n    // it(\"notUsedIndexLinkList shouldn't contain the index\", () => {\r\n    //     expect(ThreeDTransformData.notUsedIndexLinkList.indexOf(indexInArrayBuffer)).equal(-1);\r\n    // });\r\n    it(\"indexInArrayBuffer should < firstDirtyIndex\", () => {\r\n        expect(indexInArrayBuffer).exist;\r\n        expect(indexInArrayBuffer).lessThan(ThreeDTransformData.firstDirtyIndex);\r\n    });\r\n    it(\"index should not be used\", () => {\r\n        expect(isIndexUsed(indexInArrayBuffer, ThreeDTransformData)).false;\r\n    });\r\n}\r\n","import { requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { BatchTransformData } from \"./ThreeDTransform\";\r\n\r\nexport var getIsTranslate = (uid: number, ThreeDTransformData: any) => {\r\n    // return ThreeDTransformData.isTranslateMap.get(uid);\r\n    return ThreeDTransformData.isTranslateMap[uid];\r\n}\r\n\r\nexport var setIsTranslate = requireCheckFunc((uid: number, isTranslate: boolean, ThreeDTransformData: any) => {\r\n    // it(\"indexInArrayBuffer should be used\", () => {\r\n    //     expect(_isIndexUsed(indexInArrayBuffer)).true;\r\n    // });\r\n}, (uid: number, isTranslate: boolean, ThreeDTransformData: any) => {\r\n    // ThreeDTransformData.isTranslateMap.set(uid, isTranslate);\r\n    ThreeDTransformData.isTranslateMap[uid] = isTranslate;\r\n})\r\n\r\nexport var isTranslate = (data: BatchTransformData) => {\r\n    return !!data.position || !!data.localPosition;\r\n}\r\n\r\n","import curry from \"wonder-lodash/curry\";\r\nimport { Map } from \"immutable\";\r\nimport { deleteVal, isNotValidMapValue } from \"../../utils/objectUtils\";\r\nimport { getIsTranslate, setIsTranslate } from \"./isTransformSystem\";\r\nimport { getUID } from \"./utils\";\r\nimport { Matrix4 } from \"../../math/Matrix4\";\r\nimport { Vector3 } from \"../../math/Vector3\";\r\nimport { ThreeDTransformCacheMap } from \"./ThreeDTransformData\";\r\n\r\nexport var clearCache = curry((ThreeDTransformData: any, state: Map<any, any>) => {\r\n    var count: number = null,\r\n        cacheMap: ThreeDTransformCacheMap = null;\r\n\r\n    if (ThreeDTransformData.isClearCacheMap) {\r\n        ThreeDTransformData.isClearCacheMap = false;\r\n\r\n        return;\r\n    }\r\n\r\n    count = ThreeDTransformData.count;\r\n    cacheMap = ThreeDTransformData.cacheMap;\r\n\r\n    for (let i = ThreeDTransformData.firstDirtyIndex; i < count; i++) {\r\n        let uid = getUID(i, ThreeDTransformData),\r\n            isTranslate = getIsTranslate(uid, ThreeDTransformData);\r\n\r\n        if (isTranslate) {\r\n            deleteVal(uid, cacheMap);\r\n\r\n            setIsTranslate(uid, false, ThreeDTransformData);\r\n        }\r\n\r\n        //todo clean more cache!\r\n    }\r\n})\r\n\r\nexport var clearCacheMap = (ThreeDTransformData: any) => {\r\n    ThreeDTransformData.cacheMap = {};\r\n\r\n    ThreeDTransformData.isClearCacheMap = true;\r\n}\r\n\r\nexport var getLocalToWorldMatrixCache = (uid: number, ThreeTransformData: any) => {\r\n    return _getCache(uid, ThreeTransformData).localToWorldMatrix;\r\n}\r\n\r\nexport var setLocalToWorldMatrixCache = (uid: number, mat: Matrix4, ThreeTransformData: any) => {\r\n    _getCache(uid, ThreeTransformData).localToWorldMatrix = mat;\r\n}\r\n\r\nexport var getPositionCache = (uid: number, ThreeTransformData: any) => {\r\n    return _getCache(uid, ThreeTransformData).position;\r\n}\r\n\r\nexport var setPositionCache = (uid: number, pos: Vector3, ThreeTransformData: any) => {\r\n    _getCache(uid, ThreeTransformData).position = pos;\r\n}\r\n\r\nexport var getLocalPositionCache = (uid: number, ThreeTransformData: any) => {\r\n    return _getCache(uid, ThreeTransformData).localPosition;\r\n}\r\n\r\nexport var setLocalPositionCache = (uid: number, pos: Vector3, ThreeTransformData: any) => {\r\n    ThreeTransformData.cacheMap[uid].localPosition = pos;\r\n}\r\n\r\nvar _getCache = (uid: number, ThreeTransformData: any) => {\r\n    var cache = ThreeTransformData.cacheMap[uid];\r\n\r\n    if (isNotValidMapValue(cache)) {\r\n        cache = {};\r\n        ThreeTransformData.cacheMap[uid] = cache;\r\n    }\r\n\r\n    return cache;\r\n}\r\n","import { compose } from \"../../utils/functionalUtils\";\r\nimport curry from \"wonder-lodash/curry\";\r\nimport { addFirstDirtyIndex, generateNotUsedIndexInNormalList } from \"./dirtySystem\";\r\nimport { getUID } from \"./utils\";\r\nimport { getParent as getThreeDTransformDataParent, isParentExist } from \"./hierarchySystem\";\r\nimport {\r\n    getMatrix4DataIndexInArrayBuffer, getQuaternionDataIndexInArrayBuffer, getVector3DataIndexInArrayBuffer,\r\n    moveToIndex,\r\n    setLocalToWorldMatricesData,\r\n    swap\r\n} from \"./operateDataSystem\";\r\nimport { DataUtils } from \"../../utils/DataUtils\";\r\nimport { Map } from \"immutable\";\r\nimport { clearCache } from \"./cacheSystem\";\r\n\r\nexport var update = (elapsed: number, GlobalTempData: any, ThreeDTransformData: any, state: Map<any, any>) => {\r\n    return compose(\r\n        _cleanDirtyList(ThreeDTransformData),\r\n        _updateDirtyList(GlobalTempData, ThreeDTransformData),\r\n        clearCache(ThreeDTransformData)\r\n    )(state);\r\n}\r\n\r\nvar _updateDirtyList = curry((GlobalTempData: any, ThreeDTransformData: any, state: Map<any, any>) => {\r\n    _sortParentBeforeChildInDirtyList(ThreeDTransformData);\r\n\r\n    let count = ThreeDTransformData.count;\r\n\r\n    for (let i = ThreeDTransformData.firstDirtyIndex; i < count; i++) {\r\n        _transform(i, GlobalTempData, ThreeDTransformData);\r\n    }\r\n\r\n    return state;\r\n})\r\n\r\n//todo optimize: if transform not transformed in 5 frames, not move off\r\nvar _cleanDirtyList = curry((ThreeDTransformData: any, state: Map<any, any>) => {\r\n    var count = ThreeDTransformData.count;\r\n\r\n    for (let i = ThreeDTransformData.firstDirtyIndex; i < count; i++) {\r\n        if (_needMoveOffDirtyList(i)) {\r\n            _moveFromDirtyListToNormalList(i, ThreeDTransformData);\r\n        }\r\n    }\r\n\r\n    return state;\r\n})\r\n\r\nvar _needMoveOffDirtyList = (index: number) => {\r\n    return true;\r\n}\r\n\r\nvar _moveFromDirtyListToNormalList = (index: number, ThreeDTransformData: any) => {\r\n    ThreeDTransformData.firstDirtyIndex = addFirstDirtyIndex(ThreeDTransformData);\r\n\r\n    moveToIndex(index, generateNotUsedIndexInNormalList(ThreeDTransformData), ThreeDTransformData);\r\n}\r\n\r\nvar _transform = (index: number, GlobalTempData: any, ThreeDTransformData: any) => {\r\n    var vec3Index = getVector3DataIndexInArrayBuffer(index),\r\n        quaIndex = getQuaternionDataIndexInArrayBuffer(index),\r\n        mat4Index = getMatrix4DataIndexInArrayBuffer(index),\r\n        mat = GlobalTempData.matrix4_2.setTRS(\r\n            DataUtils.setVector3ByIndex(GlobalTempData.vector3_1, ThreeDTransformData.localPositions, vec3Index),\r\n            DataUtils.setQuaternionByIndex(GlobalTempData.quaternion_1, ThreeDTransformData.localRotations, quaIndex),\r\n            DataUtils.setVector3ByIndex(GlobalTempData.vector3_2, ThreeDTransformData.localScales, vec3Index)\r\n        ),\r\n        parent = getThreeDTransformDataParent(getUID(index, ThreeDTransformData), ThreeDTransformData);\r\n\r\n    if (isParentExist(parent)) {\r\n        let parentIndex = parent.index;\r\n\r\n        return setLocalToWorldMatricesData(DataUtils.setMatrix4ByIndex(GlobalTempData.matrix4_1, ThreeDTransformData.localToWorldMatrices, getMatrix4DataIndexInArrayBuffer(parentIndex))\r\n            .multiply(mat),\r\n            mat4Index,\r\n            ThreeDTransformData\r\n        );\r\n    }\r\n\r\n    return setLocalToWorldMatricesData(\r\n        mat,\r\n        mat4Index,\r\n        ThreeDTransformData\r\n    );\r\n}\r\n\r\nvar _sortParentBeforeChildInDirtyList = (ThreeDTransformData: any) => {\r\n    var count = ThreeDTransformData.count;\r\n\r\n    for (let i = ThreeDTransformData.firstDirtyIndex; i < count; i++) {\r\n        let parent = getThreeDTransformDataParent(getUID(i, ThreeDTransformData), ThreeDTransformData);\r\n\r\n        if (isParentExist(parent)) {\r\n            let parentIndex = parent.index;\r\n\r\n            if (parentIndex > i) {\r\n                swap(parentIndex, i, ThreeDTransformData);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n","import { ThreeDTransform } from \"./ThreeDTransform\";\r\nimport { checkComponentShouldAlive } from \"../ComponentSystem\";\r\nimport { isValidMapValue } from \"../../utils/objectUtils\";\r\n\r\nexport var checkTransformShouldAlive = (transform: ThreeDTransform, ThreeTransformData: any) => {\r\n    checkComponentShouldAlive(transform, ThreeTransformData, (transform: ThreeDTransform, ThreeTransformData: any) => {\r\n        return isValidMapValue(ThreeTransformData.transformMap[transform.index]);\r\n    });\r\n}\r\n\r\n","import curry from \"wonder-lodash/curry\";\r\nimport { getChildren, getParent, isChildrenExist } from \"./hierarchySystem\";\r\nimport { BatchTransformData, ThreeDTransform } from \"./ThreeDTransform\";\r\nimport {\r\n    getVector3DataIndexInArrayBuffer, moveMapDataToIndex, moveTypeArrDataToIndex, setLocalPositionData, setPositionData,\r\n    swapTransformMapData,\r\n    swapTypeArrData\r\n} from \"./operateDataSystem\";\r\nimport { isTranslate, setIsTranslate } from \"./isTransformSystem\";\r\nimport { addNotUsedIndex, isNotDirty, minusFirstDirtyIndex } from \"./dirtySystem\";\r\nimport { isIndexUsed } from \"./utils\";\r\nimport { requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { compose } from \"../../utils/functionalUtils\";\r\nimport { checkTransformShouldAlive } from \"./contractUtils\";\r\nimport { forEach } from \"../../utils/arrayUtils\";\r\n\r\nexport var setBatchDatas = requireCheckFunc((batchData: Array<BatchTransformData>, GlobalTempData: any, ThreeTransformData: any) => {\r\n    for (let data of batchData) {\r\n        checkTransformShouldAlive(data.transform, ThreeTransformData);\r\n    }\r\n}, (batchData: Array<BatchTransformData>, GlobalTempData: any, ThreeDTransformData: any) => {\r\n    compose(\r\n        _addBatchToDirtyListByChangeMapData(ThreeDTransformData, ThreeDTransformData.firstDirtyIndex),\r\n        _addBatchToDirtyListByChangeTypeArrData(ThreeDTransformData, ThreeDTransformData.firstDirtyIndex),\r\n        ([noDirtyIndex, targetDirtyIndex]) => {\r\n            ThreeDTransformData.firstDirtyIndex = targetDirtyIndex;\r\n\r\n            return noDirtyIndex;\r\n        },\r\n        _getAllTransfomrsNotDirtyIndexArrAndMarkTransform(batchData),\r\n        _setBatchTransformData(batchData, GlobalTempData)\r\n    )(ThreeDTransformData);\r\n})\r\n\r\nvar _setBatchTransformData = curry((batchData: Array<BatchTransformData>, GlobalTempData: any, ThreeDTransformData: any) => {\r\n    for (let data of batchData) {\r\n        let transform = data.transform,\r\n            indexInArrayBuffer = transform.index,\r\n            uid = transform.uid,\r\n            parent = getParent(uid, ThreeDTransformData),\r\n            vec3IndexInArrayBuffer = getVector3DataIndexInArrayBuffer(indexInArrayBuffer),\r\n            { position, localPosition } = data;\r\n\r\n        if (localPosition) {\r\n            setLocalPositionData(localPosition, vec3IndexInArrayBuffer, ThreeDTransformData);\r\n        }\r\n\r\n        if (position) {\r\n            setPositionData(indexInArrayBuffer, parent, vec3IndexInArrayBuffer, position, GlobalTempData, ThreeDTransformData);\r\n        }\r\n    }\r\n\r\n    return ThreeDTransformData;\r\n})\r\n\r\nvar _getAllTransfomrsNotDirtyIndexArrAndMarkTransform = curry((batchData: Array<BatchTransformData>, ThreeDTransformData: any) => {\r\n    var notDirtyIndexArr = [],\r\n        firstDirtyIndex = ThreeDTransformData.firstDirtyIndex;\r\n    var _getNotDirtyIndex = (indexInArrayBuffer, uid, notDirtyIndexArr, isTranslate: boolean, ThreeDTransformData) => {\r\n        var children = getChildren(uid, ThreeDTransformData);\r\n\r\n        if (isTranslate) {\r\n            setIsTranslate(uid, true, ThreeDTransformData);\r\n        }\r\n\r\n        if (isNotDirty(indexInArrayBuffer, firstDirtyIndex)) {\r\n            notDirtyIndexArr.push(indexInArrayBuffer);\r\n\r\n            firstDirtyIndex = minusFirstDirtyIndex(firstDirtyIndex);\r\n        }\r\n\r\n        if (isChildrenExist(children)) {\r\n            forEach(children, (child: ThreeDTransform) => {\r\n                _getNotDirtyIndex(child.index, child.uid, notDirtyIndexArr, isTranslate, ThreeDTransformData)\r\n            })\r\n        }\r\n    }\r\n\r\n    for (let data of batchData) {\r\n        let transform = data.transform,\r\n            indexInArrayBuffer = transform.index;\r\n\r\n        _getNotDirtyIndex(indexInArrayBuffer, transform.uid, notDirtyIndexArr, isTranslate(data), ThreeDTransformData);\r\n    }\r\n\r\n    return [notDirtyIndexArr, firstDirtyIndex];\r\n});\r\n\r\n\r\nvar _addBatchToDirtyList = (ThreeDTransformData: any, targetDirtyIndex: number, swapFunc: Function, moveToIndexFunc: Function, notDirtyIndexArr: Array<number>) => {\r\n    for (let indexInArrayBuffer of notDirtyIndexArr) {\r\n        targetDirtyIndex = minusFirstDirtyIndex(targetDirtyIndex);\r\n\r\n        if (isIndexUsed(targetDirtyIndex, ThreeDTransformData)) {\r\n            swapFunc(indexInArrayBuffer, targetDirtyIndex, ThreeDTransformData);\r\n        }\r\n        else {\r\n            moveToIndexFunc(indexInArrayBuffer, targetDirtyIndex, ThreeDTransformData);\r\n        }\r\n    }\r\n\r\n    return targetDirtyIndex;\r\n}\r\n\r\nvar _addBatchToDirtyListByChangeTypeArrData = curry((ThreeDTransformData: any, targetDirtyIndex: number, notDirtyIndexArr: Array<number>) => {\r\n    _addBatchToDirtyList(ThreeDTransformData, targetDirtyIndex, swapTypeArrData, moveTypeArrDataToIndex, notDirtyIndexArr);\r\n\r\n    return notDirtyIndexArr;\r\n})\r\n\r\n\r\nvar _addBatchToDirtyListByChangeMapData = curry((ThreeDTransformData: any, targetDirtyIndex: number, notDirtyIndexArr: Array<number>) => {\r\n    return _addBatchToDirtyList(ThreeDTransformData, targetDirtyIndex, swapTransformMapData, (sourceIndex: number, targetIndex: number, ThreeDTransformData: any) => {\r\n        moveMapDataToIndex(sourceIndex, targetIndex, ThreeDTransformData);\r\n        addNotUsedIndex(sourceIndex, ThreeDTransformData.notUsedIndexLinkList);\r\n    }, notDirtyIndexArr);\r\n})\r\n\r\n","import { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { ComponentGameObjectMap } from \"../ComponentData\";\r\nimport { Tag } from \"./Tag\";\r\n\r\nexport class TagData {\r\n    public static tagArray: Array<string> = null;\r\n\r\n    public static slotCountMap: Array<number> = null;\r\n    public static usedSlotCountMap: Array<number> = null;\r\n\r\n    public static indexMap: Array<number> = null;\r\n    public static indexInTagArrayMap: Array<number> = null;\r\n\r\n    public static lastIndexInTagArray: number = null;\r\n\r\n    public static tagMap: TagMap = null;\r\n\r\n    public static gameObjectMap: ComponentGameObjectMap = null;\r\n\r\n    public static index: number = null;\r\n    public static count: number = null;\r\n    public static disposeCount: number = null;\r\n}\r\n\r\nexport type TagMap = {\r\n    [index: number]: Tag\r\n}\r\n","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { Component } from \"../Component\";\r\nimport {\r\n    addTag as addTagSystemTag, removeTag as removeTagSystemTag, create,\r\n    findGameObjectsByTag as findTagSystemTagGameObjectsByTag, getGameObject, checkShouldAlive\r\n} from \"./TagSystem\";\r\nimport { TagData } from \"./TagData\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\n\r\n@registerClass(\"Tag\")\r\nexport class Tag extends Component {\r\n}\r\n\r\nexport var createTag = (slotCount: number = 4) => {\r\n    return create(slotCount, TagData);\r\n}\r\n\r\nexport var addTag = requireCheckFunc((component: Tag, tag: string) => {\r\n    checkShouldAlive(component, TagData);\r\n}, (component: Tag, tag: string) => {\r\n    addTagSystemTag(component, tag, TagData);\r\n})\r\n\r\nexport var removeTag = requireCheckFunc((component: Tag, tag: string) => {\r\n    checkShouldAlive(component, TagData);\r\n}, (component: Tag, tag: string) => {\r\n    removeTagSystemTag(component, tag, TagData);\r\n})\r\n\r\nexport var findGameObjectsByTag = (tag: string) => {\r\n    return findTagSystemTagGameObjectsByTag(tag, TagData);\r\n}\r\n\r\nexport var getTagGameObject = requireCheckFunc((component: Tag) => {\r\n    checkShouldAlive(component, TagData);\r\n}, (component: Tag) => {\r\n    return getGameObject(component.index, TagData);\r\n})\r\n","import { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { Tag } from \"./Tag\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport {\r\n    addAddComponentHandle as addAddComponentHandleToMap, addComponentToGameObjectMap,\r\n    addDisposeHandle as addDisposeHandleToMap,\r\n    checkComponentShouldAlive, generateComponentIndex, getComponentGameObject, markComponentIndexRemoved\r\n} from \"../ComponentSystem\";\r\nimport { createMap, deleteVal, isValidMapValue } from \"../../utils/objectUtils\";\r\nimport { forEach } from \"../../utils/arrayUtils\";\r\nimport { TagData } from \"./TagData\";\r\nimport { isDisposeTooManyComponents, reAllocateTagMap } from \"../../utils/memoryUtils\";\r\n\r\nexport var addAddComponentHandle = (_class: any) => {\r\n    addAddComponentHandleToMap(_class, addComponent);\r\n}\r\n\r\nexport var addDisposeHandle = (_class: any) => {\r\n    addDisposeHandleToMap(_class, disposeComponent);\r\n}\r\n\r\nexport var create = ensureFunc((tag: Tag, slotCount: number, TagData: any) => {\r\n    it(\"slot array should has no hole\", () => {\r\n        for (let count of TagData.slotCountMap) {\r\n            expect(count).exist;\r\n        }\r\n    });\r\n    // it(\"used slot array should has no hole\", () => {\r\n    //     for(let count of TagData.usedSlotCountMap){\r\n    //         expect(count).exist;\r\n    //     }\r\n    // });\r\n}, (slotCount: number, TagData: any) => {\r\n    var tag = new Tag(),\r\n        index = generateComponentIndex(TagData);\r\n\r\n    tag.index = index;\r\n\r\n    TagData.count += 1;\r\n\r\n    _setSlotCount(index, slotCount, TagData.slotCountMap);\r\n    _setUsedSlotCount(index, 0, TagData.usedSlotCountMap);\r\n\r\n    setNextIndexInTagArrayMap(index, slotCount, TagData.indexInTagArrayMap);\r\n\r\n    _initIndexMap(index, slotCount, TagData);\r\n\r\n    TagData.lastIndexInTagArray += slotCount;\r\n\r\n    TagData.tagMap[index] = tag;\r\n\r\n    return tag;\r\n})\r\n\r\nexport var setNextIndexInTagArrayMap = requireCheckFunc((index: number, slotCount: number, indexInTagArrayMap: Array<number>) => {\r\n    it(\"index should >= 0\", () => {\r\n        expect(index).gte(0);\r\n    });\r\n}, (index: number, slotCount: number, indexInTagArrayMap: Array<number>) => {\r\n    indexInTagArrayMap[index + 1] = indexInTagArrayMap[index] + slotCount;\r\n})\r\n\r\nvar _initIndexMap = (index: number, slotCount: number, TagData: any) => {\r\n    var indexMap = TagData.indexMap,\r\n        lastIndexInTagArray = TagData.lastIndexInTagArray;\r\n\r\n    for (let i = lastIndexInTagArray, count = lastIndexInTagArray + slotCount; i < count; i++) {\r\n        indexMap[i] = index;\r\n    }\r\n}\r\n\r\nexport var addTag = requireCheckFunc((tagComponent: Tag, tag: string, TagData: any) => {\r\n    it(\"tag should not already be added\", () => {\r\n        var index = tagComponent.index,\r\n            indexInArray = _convertTagIndexToIndexInArray(index, TagData),\r\n            tagArray = TagData.tagArray,\r\n            slotCountMap = TagData.slotCountMap,\r\n            currentSlotCount = getSlotCount(index, slotCountMap);\r\n\r\n        expect(tagArray.slice(indexInArray, indexInArray + currentSlotCount).indexOf(tag) > -1).false;\r\n    });\r\n}, (tagComponent: Tag, tag: string, TagData: any) => {\r\n    var index = tagComponent.index,\r\n        indexInArray = _convertTagIndexToIndexInArray(index, TagData),\r\n        slotCountMap = TagData.slotCountMap,\r\n        tagArray = TagData.tagArray,\r\n        usedSlotCountMap = TagData.usedSlotCountMap,\r\n        currentSlotCount = getSlotCount(index, slotCountMap),\r\n        currentUsedSlotCount = getUsedSlotCount(index, usedSlotCountMap);\r\n\r\n    if (_isSlotAllUsed(currentUsedSlotCount, currentSlotCount)) {\r\n        let increasedSlotCount = _allocateDoubleSlotCountAndAddTag(indexInArray, index, tag, currentSlotCount, currentUsedSlotCount, TagData),\r\n            slotCount = currentSlotCount + increasedSlotCount;\r\n\r\n        _setSlotCount(index, slotCount, slotCountMap);\r\n\r\n        _updateIndexInTagArrayMap(index, increasedSlotCount, TagData);\r\n\r\n        TagData.lastIndexInTagArray = _updateIndexMap(indexInArray, index, increasedSlotCount, TagData);\r\n    }\r\n    else {\r\n        tagArray[indexInArray + currentUsedSlotCount] = tag;\r\n    }\r\n\r\n    _setUsedSlotCount(index, currentUsedSlotCount + 1, usedSlotCountMap);\r\n})\r\n\r\nvar _updateIndexInTagArrayMap = (startIndex: number, increasedSlotCount: number, TagData: any) => {\r\n    var count = TagData.count,\r\n        indexInTagArrayMap = TagData.indexInTagArrayMap;\r\n\r\n    for (let i = startIndex + 1; i <= count; i++) {\r\n        indexInTagArrayMap[i] += increasedSlotCount;\r\n    }\r\n}\r\n\r\nvar _updateIndexMap = (indexInArray: number, index: number, increasedSlotCount: number, TagData: any) => {\r\n    var indexMap = TagData.indexMap,\r\n        lastIndexInTagArray = TagData.lastIndexInTagArray + increasedSlotCount,\r\n        spliceParamArr = [indexInArray + increasedSlotCount, 0];\r\n\r\n    for (let i = 0; i < increasedSlotCount; i++) {\r\n        spliceParamArr.push(index);\r\n    }\r\n\r\n    Array.prototype.splice.apply(indexMap, spliceParamArr);\r\n\r\n    return lastIndexInTagArray;\r\n}\r\n\r\n//todo optimize: collect redundant allocated slot count\r\nexport var removeTag = requireCheckFunc((tagComponent: Tag, tag: string, TagData: any) => {\r\n    it(\"current used slot count should >= 0\", () => {\r\n        var index = tagComponent.index,\r\n            usedSlotCountMap = TagData.usedSlotCountMap;\r\n\r\n        expect(getUsedSlotCount(index, usedSlotCountMap)).gte(0);\r\n    });\r\n}, (tagComponent: Tag, tag: string, TagData: any) => {\r\n    var index = tagComponent.index,\r\n        indexInArray = _convertTagIndexToIndexInArray(index, TagData),\r\n        usedSlotCountMap = TagData.usedSlotCountMap,\r\n        tagArray = TagData.tagArray,\r\n        currentUsedSlotCount = getUsedSlotCount(index, usedSlotCountMap),\r\n        newUsedSlotCount = currentUsedSlotCount;\r\n\r\n    for (let i = indexInArray, count = indexInArray + currentUsedSlotCount; i < count; i++) {\r\n        if (tagArray[i] === tag) {\r\n            tagArray[i] = void 0;\r\n            newUsedSlotCount = currentUsedSlotCount - 1;\r\n\r\n            break;\r\n        }\r\n    }\r\n\r\n    if (newUsedSlotCount <= 0) {\r\n        newUsedSlotCount = 0;\r\n    }\r\n\r\n    _setUsedSlotCount(index, newUsedSlotCount, usedSlotCountMap);\r\n})\r\n\r\nexport var addComponent = (component: Tag, gameObject: GameObject) => {\r\n    addComponentToGameObjectMap(TagData.gameObjectMap, component.index, gameObject);\r\n}\r\n\r\nexport var getSlotCount = (index: number, slotCountMap: Array<number>) => {\r\n    return slotCountMap[index];\r\n}\r\n\r\nvar _setSlotCount = (index: number, slotCount: number, slotCountMap: Array<number>) => {\r\n    slotCountMap[index] = slotCount;\r\n}\r\n\r\nexport var getUsedSlotCount = (index: number, usedSlotCountMap: Array<number>) => {\r\n    return usedSlotCountMap[index];\r\n}\r\n\r\nvar _setUsedSlotCount = (index: number, slotCount: number, usedSlotCountMap: Array<number>) => {\r\n    usedSlotCountMap[index] = slotCount;\r\n}\r\n\r\nvar _isSlotAllUsed = requireCheckFunc((currentUsedSlotCount: number, currentSlotCount: number) => {\r\n    it(\"usedSlotCount should <= slotCount\", () => {\r\n        expect(currentUsedSlotCount).lte(currentSlotCount);\r\n    });\r\n}, (currentUsedSlotCount: number, currentSlotCount: number) => {\r\n    return currentUsedSlotCount === currentSlotCount;\r\n})\r\n\r\nvar _allocateDoubleSlotCountAndAddTag = (indexInArray: number, index: number, tag: string, currentSlotCount: number, currentUsedSlotCount: number, TagData: any) => {\r\n    var spliceArr = [indexInArray + currentUsedSlotCount, 0, tag],\r\n        tagArray = TagData.tagArray;\r\n\r\n    for (let i = 0, len = currentSlotCount - 1; i < len; i++) {\r\n        spliceArr.push(null);\r\n    }\r\n\r\n    Array.prototype.splice.apply(tagArray, spliceArr);\r\n\r\n    return currentSlotCount;\r\n}\r\n\r\nvar _convertTagIndexToIndexInArray = (tagIndex: number, TagData: any) => {\r\n    return TagData.indexInTagArrayMap[tagIndex];\r\n}\r\n\r\nvar _convertIndexInArrayToTagIndex = (indexInTagArray: number, TagData: any) => {\r\n    return TagData.indexMap[indexInTagArray];\r\n}\r\n\r\nexport var checkShouldAlive = (tag: Tag, TagData: any) => {\r\n    checkComponentShouldAlive(tag, TagData, (tag: Tag, TagData: any) => {\r\n        return isValidMapValue(TagData.indexMap[TagData.indexInTagArrayMap[tag.index]]);\r\n    })\r\n}\r\n\r\nexport var disposeComponent = ensureFunc((returnVal, tag: Tag) => {\r\n    it(\"count should >= 0\", () => {\r\n        expect(TagData.count).gte(0);\r\n    });\r\n}, (tag: Tag) => {\r\n    var index = tag.index,\r\n        indexInTagArray = _convertTagIndexToIndexInArray(index, TagData),\r\n        currentUsedSlotCount = getUsedSlotCount(index, TagData.usedSlotCountMap),\r\n        tagArray = TagData.tagArray;\r\n\r\n    for (let i = indexInTagArray, count = indexInTagArray + currentUsedSlotCount; i < count; i++) {\r\n        tagArray[i] = void 0;\r\n    }\r\n\r\n    /*!\r\n    delete for isAlive check\r\n     */\r\n    deleteVal(indexInTagArray, TagData.indexMap);\r\n\r\n    TagData.count -= 1;\r\n\r\n    markComponentIndexRemoved(TagData.tagMap[index]);\r\n\r\n    TagData.disposeCount += 1;\r\n\r\n    if (isDisposeTooManyComponents(TagData.disposeCount)) {\r\n        reAllocateTagMap(TagData);\r\n\r\n        TagData.disposeCount = 0;\r\n    }\r\n})\r\n\r\nexport var getGameObject = (index: number, Data: any) => {\r\n    return getComponentGameObject(Data.gameObjectMap, index);\r\n}\r\n\r\nexport var findGameObjectsByTag = (targetTag: string, TagData: any) => {\r\n    var gameObjectArr: Array<GameObject> = [],\r\n        gameObjectMap = TagData.gameObjectMap;\r\n\r\n    forEach(TagData.tagArray, (tag: string, indexInTagArray: number) => {\r\n        if (tag === targetTag) {\r\n            gameObjectArr.push(gameObjectMap[_convertIndexInArrayToTagIndex(indexInTagArray, TagData)]);\r\n        }\r\n    });\r\n\r\n    return gameObjectArr;\r\n}\r\n\r\nexport var initData = (TagData: any) => {\r\n    TagData.tagArray = [];\r\n    TagData.slotCountMap = [];\r\n    TagData.usedSlotCountMap = [];\r\n    TagData.indexMap = [];\r\n    TagData.indexInTagArrayMap = [0];\r\n    TagData.gameObjectMap = createMap();\r\n    TagData.tagMap = createMap();\r\n\r\n    TagData.lastIndexInTagArray = 0;\r\n    TagData.index = 0;\r\n    TagData.count = 0;\r\n    TagData.disposeCount = 0;\r\n}\r\n","export const MemoryConfig = {\r\n    maxComponentDisposeCount: 1000\r\n};\r\n\r\n","import { createMap, isNotValidMapValue, isValidMapValue } from \"./objectUtils\";\r\nimport { GameObject } from \"../core/entityObject/gameObject/GameObject\";\r\nimport { clearCacheMap } from \"../component/transform/cacheSystem\";\r\nimport { getSlotCount, getUsedSlotCount, setNextIndexInTagArrayMap } from \"../component/tag/TagSystem\";\r\nimport { isNotValidVal } from \"./arrayUtils\";\r\nimport { MemoryConfig } from \"../config/MemoryConfig\";\r\n\r\nexport var isDisposeTooManyComponents = (disposeCount: number) => {\r\n    return disposeCount >= MemoryConfig.maxComponentDisposeCount;\r\n}\r\n//\r\n// var setMapVal = (map:object, uid:number, val:any) => {\r\n//     if(isValidMapValue(val)){\r\n//         map[uid] = val;\r\n//     }\r\n// }\r\n\r\nvar _setMapVal = (map: object, uid: number, val: any) => {\r\n    map[uid] = val;\r\n}\r\n\r\nexport var reAllocateThreeDTransformMap = (ThreeDTransformData: any) => {\r\n    var val: any = null,\r\n        newParentMap = {},\r\n        newChildrenMap = {},\r\n        newIsTranslateMap = {},\r\n        newTempMap = {},\r\n        newAliveUIDArray: Array<number> = [],\r\n        aliveUIDArray = ThreeDTransformData.aliveUIDArray,\r\n        parentMap = ThreeDTransformData.parentMap,\r\n        childrenMap = ThreeDTransformData.childrenMap,\r\n        isTranslateMap = ThreeDTransformData.isTranslateMap,\r\n        tempMap = ThreeDTransformData.tempMap;\r\n\r\n    clearCacheMap(ThreeDTransformData);\r\n\r\n    for (let uid of aliveUIDArray) {\r\n        val = childrenMap[uid];\r\n\r\n        if (isNotValidMapValue(val)) {\r\n            continue;\r\n        }\r\n\r\n        newAliveUIDArray.push(uid);\r\n\r\n        _setMapVal(newChildrenMap, uid, val);\r\n\r\n        val = tempMap[uid];\r\n        _setMapVal(newTempMap, uid, val);\r\n\r\n        val = parentMap[uid];\r\n        _setMapVal(newParentMap, uid, val);\r\n\r\n        val = isTranslateMap[uid];\r\n        _setMapVal(newIsTranslateMap, uid, val);\r\n    }\r\n\r\n    ThreeDTransformData.parentMap = newParentMap;\r\n    ThreeDTransformData.childrenMap = newChildrenMap;\r\n    ThreeDTransformData.isTranslateMap = newIsTranslateMap;\r\n    ThreeDTransformData.tempMap = newTempMap;\r\n\r\n    ThreeDTransformData.aliveUIDArray = newAliveUIDArray;\r\n}\r\n\r\nexport var reAllocateGameObjectMap = (GameObjectData: any) => {\r\n    let val: any = null,\r\n        newParentMap = {},\r\n        newChildrenMap = {},\r\n        newComponentMap = {},\r\n        newAliveUIDArray: Array<number> = [],\r\n        aliveUIDArray = GameObjectData.aliveUIDArray,\r\n        parentMap = GameObjectData.parentMap,\r\n        childrenMap = GameObjectData.childrenMap,\r\n        componentMap = GameObjectData.componentMap;\r\n\r\n    for (let uid of aliveUIDArray) {\r\n        val = componentMap[uid];\r\n\r\n        if (isNotValidMapValue(val)) {\r\n            continue;\r\n        }\r\n\r\n        newAliveUIDArray.push(uid);\r\n\r\n        _setMapVal(newComponentMap, uid, val);\r\n\r\n        val = parentMap[uid];\r\n        _setMapVal(newParentMap, uid, val);\r\n\r\n        val = childrenMap[uid];\r\n        _setMapVal(newChildrenMap, uid, val);\r\n    }\r\n\r\n    GameObjectData.parentMap = newParentMap;\r\n    GameObjectData.childrenMap = newChildrenMap;\r\n    GameObjectData.componentMap = newComponentMap;\r\n    GameObjectData.aliveUIDArray = newAliveUIDArray;\r\n};\r\n\r\nexport var reAllocateTagMap = (TagData: any) => {\r\n    var usedSlotCountMap = TagData.usedSlotCountMap,\r\n        slotCountMap = TagData.slotCountMap,\r\n        indexMap = TagData.indexMap,\r\n        tagArray = TagData.tagArray,\r\n        gameObjectMap = TagData.gameObjectMap,\r\n        indexInTagArrayMap = TagData.indexInTagArrayMap,\r\n        tagMap = TagData.tagMap,\r\n        newIndexInTagArrayMap: Array<number> = [0],\r\n        newTagArray = [],\r\n        newGameObjectMap = createMap(),\r\n        newUsedSlotCountMap = [],\r\n        newSlotCountMap = [],\r\n        newIndexMap = [],\r\n        newTagMap = createMap(),\r\n        newIndexInTagArray = 0,\r\n        newIndexInTagArrayInMap = null,\r\n        newIndex = 0,\r\n        newLastIndexInTagArray = 0,\r\n        hasNewData = false,\r\n        tagIndex: number = null;\r\n\r\n    for (let indexInTagArray of indexInTagArrayMap) {\r\n        let index = indexMap[indexInTagArray];\r\n\r\n        if (isNotValidVal(index)) {\r\n            continue;\r\n        }\r\n\r\n        hasNewData = true;\r\n\r\n        let currentUsedSlotCount = getUsedSlotCount(index, usedSlotCountMap),\r\n            tag = tagMap[index];\r\n\r\n        newGameObjectMap[newIndex] = gameObjectMap[index];\r\n        newSlotCountMap[newIndex] = getSlotCount(index, slotCountMap);\r\n        newUsedSlotCountMap[newIndex] = currentUsedSlotCount;\r\n\r\n        newIndexInTagArrayInMap = newIndexInTagArray;\r\n        newIndexInTagArrayMap[newIndex] = newIndexInTagArrayInMap;\r\n\r\n        tag.index = newIndex;\r\n        newTagMap[newIndex] = tag;\r\n\r\n        for (let i = indexInTagArray, count = indexInTagArray + currentUsedSlotCount; i < count; i++) {\r\n            newTagArray[newIndexInTagArray] = tagArray[i];\r\n\r\n            newIndexMap[newIndexInTagArray] = newIndex;\r\n\r\n            newIndexInTagArray += 1;\r\n        }\r\n\r\n        newIndex += 1;\r\n    }\r\n\r\n    if (hasNewData) {\r\n        newIndex -= 1;\r\n\r\n        newLastIndexInTagArray = newIndexInTagArrayInMap + getSlotCount(newIndex, newSlotCountMap);\r\n\r\n        tagIndex = newIndex + 1;\r\n    }\r\n    else {\r\n        tagIndex = 0;\r\n    }\r\n\r\n    setNextIndexInTagArrayMap(newIndex, newSlotCountMap[newIndex], newIndexInTagArrayMap);\r\n\r\n    TagData.slotCountMap = newSlotCountMap;\r\n    TagData.usedSlotCountMap = newUsedSlotCountMap;\r\n    TagData.gameObjectMap = newGameObjectMap;\r\n    TagData.tagMap = newTagMap;\r\n\r\n    TagData.indexMap = newIndexMap;\r\n\r\n    TagData.indexInTagArrayMap = newIndexInTagArrayMap;\r\n\r\n    TagData.lastIndexInTagArray = newLastIndexInTagArray;\r\n    TagData.tagArray = newTagArray;\r\n\r\n    TagData.index = tagIndex;\r\n};\r\n","import { ThreeDTransformData } from \"./ThreeDTransformData\";\r\nimport curry from \"wonder-lodash/curry\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { BatchTransformData, IThreeDTransform, ThreeDTransform } from \"./ThreeDTransform\";\r\nimport { Map as MapImmutable } from \"immutable\";\r\nimport { DataUtils } from \"../../utils/DataUtils\";\r\nimport { Matrix4 } from \"../../math/Matrix4\";\r\nimport { Vector3 } from \"../../math/Vector3\";\r\nimport { cacheFunc } from \"../../utils/cacheUtils\";\r\nimport {\r\n    addAddComponentHandle as addAddComponentHandleToMap, addComponentToGameObjectMap,\r\n    addDisposeHandle as addDisposeHandleToMap, checkComponentShouldAlive, getComponentGameObject\r\n} from \"../ComponentSystem\";\r\nimport { createMap, deleteVal, isNotValidMapValue, isValidMapValue } from \"../../utils/objectUtils\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { update as updateSystem } from \"./updateSystem\";\r\nimport {\r\n    addFirstDirtyIndex, addItAndItsChildrenToDirtyList, addNotUsedIndex,\r\n    generateNotUsedIndexInArrayBuffer, isNotDirty\r\n} from \"./dirtySystem\";\r\nimport {\r\n    getChildren,\r\n    getParent as getThreeDTransformDataParent, isChildrenExist, removeHierarchyData, setChildren,\r\n    setParent as setParentHierarchy\r\n} from \"./hierarchySystem\";\r\nimport {\r\n    getMatrix4DataIndexInArrayBuffer, getMatrix4DataSize,\r\n    getQuaternionDataSize, getVector3DataIndexInArrayBuffer, getVector3DataSize,\r\n    setLocalPositionData, setPositionData, setTransformDataInTypeArr,\r\n    swap\r\n} from \"./operateDataSystem\";\r\nimport { setIsTranslate } from \"./isTransformSystem\";\r\nimport { getStartIndexInArrayBuffer } from \"./utils\";\r\nimport { checkTransformShouldAlive } from \"./contractUtils\";\r\nimport { setBatchDatas as setBatchDatasSystem } from \"./batchSystem\";\r\nimport {\r\n    getLocalPositionCache, getLocalToWorldMatrixCache, getPositionCache, setLocalPositionCache,\r\n    setLocalToWorldMatrixCache, setPositionCache\r\n} from \"./cacheSystem\";\r\nimport { isDisposeTooManyComponents, reAllocateThreeDTransformMap } from \"../../utils/memoryUtils\";\r\nimport { LinkList } from \"./LinkList\";\r\nimport { GlobalTempData } from \"../../definition/GlobalTempData\";\r\nimport { expect } from \"wonder-expect.js\";\r\n\r\nexport var addAddComponentHandle = (_class: any) => {\r\n    addAddComponentHandleToMap(_class, addComponent);\r\n}\r\n\r\nexport var addDisposeHandle = (_class: any) => {\r\n    addDisposeHandleToMap(_class, disposeComponent);\r\n}\r\n\r\nexport var create = ensureFunc((transform: ThreeDTransform, ThreeDTransformData: any) => {\r\n    it(\"componentMap should has data\", () => {\r\n        expect(getChildren(transform.uid, ThreeDTransformData)).exist;\r\n    });\r\n}, (ThreeDTransformData: any) => {\r\n    var transform = new ThreeDTransform(),\r\n        index = _generateIndexInArrayBuffer(ThreeDTransformData),\r\n        uid = _buildUID(ThreeDTransformData);\r\n\r\n    transform.index = index;\r\n    transform.uid = uid;\r\n\r\n    _createTempData(uid, ThreeDTransformData);\r\n    _setTransformMap(index, transform, ThreeDTransformData);\r\n    setChildren(uid, [], ThreeDTransformData);\r\n\r\n    ThreeDTransformData.aliveUIDArray.push(uid);\r\n\r\n    return transform;\r\n})\r\n\r\nvar _buildUID = (ThreeDTransformData: any) => {\r\n    return ThreeDTransformData.uid++;\r\n}\r\n\r\nvar _generateIndexInArrayBuffer = (ThreeDTransformData: any) => {\r\n    return generateNotUsedIndexInArrayBuffer(ThreeDTransformData);\r\n}\r\n\r\nvar _createTempData = (uid: number, ThreeDTransformData: any, ) => {\r\n    ThreeDTransformData.tempMap[uid] = {\r\n        position: Vector3.create(),\r\n        localPosition: Vector3.create(),\r\n        localToWorldMatrix: Matrix4.create()\r\n    }\r\n\r\n    return ThreeDTransformData;\r\n}\r\n\r\nexport var checkShouldAlive = (component: ThreeDTransform, ThreeDTransformData: any) => {\r\n    checkComponentShouldAlive(component, ThreeDTransformData, (component: ThreeDTransform, ThreeDTransformData: any) => {\r\n        return isChildrenExist(getChildren(component.uid, ThreeDTransformData));\r\n    })\r\n}\r\n\r\nexport var init = (GlobalTempData: any, ThreeDTransformData: any, state: MapImmutable<any, any>) => {\r\n    return update(null, GlobalTempData, ThreeDTransformData, state);\r\n}\r\n\r\nexport var addComponent = (transform: ThreeDTransform, gameObject: GameObject) => {\r\n    var indexInArrayBuffer = transform.index,\r\n        uid = transform.uid;\r\n\r\n    addComponentToGameObjectMap(ThreeDTransformData.gameObjectMap, uid, gameObject);\r\n\r\n    return addItAndItsChildrenToDirtyList(indexInArrayBuffer, uid, ThreeDTransformData);\r\n}\r\n\r\nexport var disposeComponent = (transform: ThreeDTransform) => {\r\n    var indexInArrayBuffer = transform.index,\r\n        uid = transform.uid;\r\n\r\n    if (isNotDirty(indexInArrayBuffer, ThreeDTransformData.firstDirtyIndex)) {\r\n        _disposeFromNormalList(indexInArrayBuffer, uid, GlobalTempData, ThreeDTransformData);\r\n    }\r\n    else {\r\n        _disposeFromDirtyList(indexInArrayBuffer, uid, GlobalTempData, ThreeDTransformData);\r\n    }\r\n\r\n    ThreeDTransformData.disposeCount += 1;\r\n\r\n    if (isDisposeTooManyComponents(ThreeDTransformData.disposeCount)) {\r\n        reAllocateThreeDTransformMap(ThreeDTransformData);\r\n\r\n        ThreeDTransformData.disposeCount = 0;\r\n    }\r\n}\r\n\r\nexport var getGameObject = (uid: number, ThreeDTransformData: any) => getComponentGameObject(ThreeDTransformData.gameObjectMap, uid);\r\n\r\nexport var getParent = (transform: ThreeDTransform, ThreeDTransformData: any) => {\r\n    var parent = getThreeDTransformDataParent(transform.uid, ThreeDTransformData);\r\n\r\n    if (isValidMapValue(parent)) {\r\n        return parent;\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport var setParent = (transform: ThreeDTransform, parent: ThreeDTransform, ThreeDTransformData: any) => setParentHierarchy(transform, parent, ThreeDTransformData);\r\n\r\nexport var getLocalToWorldMatrix = requireCheckFunc((transform: IThreeDTransform, mat: Matrix4, ThreeTransformData: any) => {\r\n    checkTransformShouldAlive(transform, ThreeTransformData);\r\n}, cacheFunc((transform: IThreeDTransform, mat: Matrix4, ThreeTransformData: any) => {\r\n    return isValidMapValue(getLocalToWorldMatrixCache(transform.uid, ThreeTransformData));\r\n}, (transform: IThreeDTransform, mat: Matrix4, ThreeTransformData: any) => {\r\n    return getLocalToWorldMatrixCache(transform.uid, ThreeTransformData);\r\n}, (transform: IThreeDTransform, mat: Matrix4, ThreeTransformData: any, returnedMat: Matrix4) => {\r\n    setLocalToWorldMatrixCache(transform.uid, returnedMat, ThreeTransformData);\r\n}, (transform: IThreeDTransform, mat: Matrix4, ThreeTransformData: any) => {\r\n    return DataUtils.createMatrix4ByIndex(mat, ThreeDTransformData.localToWorldMatrices, getMatrix4DataIndexInArrayBuffer(transform.index));\r\n}))\r\n\r\nexport var getPosition = requireCheckFunc((transform: ThreeDTransform, ThreeTransformData: any) => {\r\n    checkTransformShouldAlive(transform, ThreeTransformData);\r\n}, cacheFunc((transform: ThreeDTransform, ThreeTransformData: any) => {\r\n    return isValidMapValue(getPositionCache(transform.uid, ThreeTransformData));\r\n}, (transform: ThreeDTransform, ThreeTransformData: any) => {\r\n    return getPositionCache(transform.uid, ThreeTransformData);\r\n}, (transform: ThreeDTransform, ThreeTransformData: any, position: Vector3) => {\r\n    setPositionCache(transform.uid, position, ThreeTransformData);\r\n}, (transform: ThreeDTransform, ThreeTransformData: any) => {\r\n    var indexInArrayBuffer = getMatrix4DataIndexInArrayBuffer(transform.index),\r\n        localToWorldMatrices = ThreeTransformData.localToWorldMatrices;\r\n\r\n    return _getTempData(transform.uid, ThreeDTransformData).position.set(localToWorldMatrices[indexInArrayBuffer + 12], localToWorldMatrices[indexInArrayBuffer + 13], localToWorldMatrices[indexInArrayBuffer + 14]);\r\n}))\r\n\r\nvar _setTransformMap = (indexInArrayBuffer: number, transform: ThreeDTransform, ThreeDTransformData: any) => ThreeDTransformData.transformMap[indexInArrayBuffer] = transform;\r\n\r\nexport var setPosition = requireCheckFunc((transform: ThreeDTransform, position: Vector3, GlobalTempData: any, ThreeTransformData: any) => {\r\n    checkTransformShouldAlive(transform, ThreeTransformData);\r\n}, (transform: ThreeDTransform, position: Vector3, GlobalTempData: any, ThreeTransformData: any) => {\r\n    var indexInArrayBuffer = transform.index,\r\n        uid = transform.uid,\r\n        parent = getThreeDTransformDataParent(uid, ThreeDTransformData),\r\n        vec3IndexInArrayBuffer = getVector3DataIndexInArrayBuffer(indexInArrayBuffer);\r\n\r\n    setPositionData(indexInArrayBuffer, parent, vec3IndexInArrayBuffer, position, GlobalTempData, ThreeTransformData);\r\n\r\n    setIsTranslate(uid, true, ThreeTransformData);\r\n\r\n    return addItAndItsChildrenToDirtyList(indexInArrayBuffer, uid, ThreeTransformData);\r\n})\r\n\r\nexport var setBatchDatas = (batchData: Array<BatchTransformData>, GlobalTempData: any, ThreeTransformData: any) => setBatchDatasSystem(batchData, GlobalTempData, ThreeDTransformData);\r\n\r\nexport var getLocalPosition = requireCheckFunc((transform: ThreeDTransform, ThreeTransformData: any) => {\r\n    checkTransformShouldAlive(transform, ThreeTransformData);\r\n}, cacheFunc((transform: ThreeDTransform, ThreeTransformData: any) => {\r\n    return isValidMapValue(getLocalPositionCache(transform.uid, ThreeTransformData));\r\n}, (transform: ThreeDTransform, ThreeTransformData: any) => {\r\n    return getLocalPositionCache(transform.uid, ThreeTransformData);\r\n}, (transform: ThreeDTransform, ThreeTransformData: any, position: Vector3) => {\r\n    setLocalPositionCache(transform.uid, position, ThreeTransformData);\r\n}, (transform: ThreeDTransform, ThreeTransformData: any) => {\r\n    return DataUtils.createVector3ByIndex(_getTempData(transform.uid, ThreeDTransformData).localPosition, ThreeDTransformData.localPositions, getVector3DataIndexInArrayBuffer(transform.index));\r\n}))\r\n\r\nexport var setLocalPosition = requireCheckFunc((transform: ThreeDTransform, position: Vector3, ThreeTransformData: any) => {\r\n    checkTransformShouldAlive(transform, ThreeTransformData);\r\n}, (transform: ThreeDTransform, position: Vector3, ThreeTransformData: any) => {\r\n    var indexInArrayBuffer = transform.index,\r\n        uid = transform.uid,\r\n        vec3IndexInArrayBuffer = getVector3DataIndexInArrayBuffer(indexInArrayBuffer);\r\n\r\n    setLocalPositionData(position, vec3IndexInArrayBuffer, ThreeTransformData);\r\n\r\n    setIsTranslate(uid, true, ThreeTransformData);\r\n\r\n    return addItAndItsChildrenToDirtyList(indexInArrayBuffer, uid, ThreeTransformData);\r\n})\r\n\r\nexport var update = (elapsed: number, GlobalTempData: any, ThreeDTransformData: any, state: MapImmutable<any, any>) => {\r\n    return updateSystem(elapsed, GlobalTempData, ThreeDTransformData, state);\r\n}\r\n\r\nvar _disposeItemInDataContainer = (indexInArrayBuffer: number, uid: number, GlobalTempData: any, ThreeDTransformData: any) => {\r\n    var mat = GlobalTempData.matrix4_1.setIdentity(),\r\n        positionVec = GlobalTempData.vector3_1.set(0, 0, 0),\r\n        qua = GlobalTempData.quaternion_1.set(0, 0, 0, 1),\r\n        scaleVec = GlobalTempData.vector3_2.set(1, 1, 1);\r\n\r\n    setTransformDataInTypeArr(indexInArrayBuffer, mat, qua, positionVec, scaleVec, ThreeDTransformData);\r\n\r\n    removeHierarchyData(uid, ThreeDTransformData);\r\n    _disposeMapDatas(indexInArrayBuffer, uid, ThreeDTransformData);\r\n\r\n    return ThreeDTransformData;\r\n}\r\n\r\nvar _disposeMapDatas = (indexInArrayBuffer: number, uid: number, ThreeDTransformData: any) => {\r\n    deleteVal(indexInArrayBuffer, ThreeDTransformData.transformMap);\r\n}\r\n\r\nvar _disposeFromNormalList = (indexInArrayBuffer: number, uid: number, GlobalTempData: any, ThreeDTransformData: any) => {\r\n    addNotUsedIndex(indexInArrayBuffer, ThreeDTransformData.notUsedIndexLinkList);\r\n\r\n    return _disposeItemInDataContainer(indexInArrayBuffer, uid, GlobalTempData, ThreeDTransformData);\r\n}\r\n\r\n\r\nvar _disposeFromDirtyList = (indexInArrayBuffer: number, uid: number, GlobalTempData: any, ThreeDTransformData: any) => {\r\n    var firstDirtyIndex = ThreeDTransformData.firstDirtyIndex;\r\n\r\n    swap(indexInArrayBuffer, firstDirtyIndex, ThreeDTransformData);\r\n\r\n\r\n    _disposeItemInDataContainer(firstDirtyIndex, uid, GlobalTempData, ThreeDTransformData);\r\n\r\n    ThreeDTransformData.firstDirtyIndex = addFirstDirtyIndex(ThreeDTransformData);\r\n}\r\n\r\nvar _addDefaultTransformData = (GlobalTempData: any, ThreeDTransformData: any) => {\r\n    var count = ThreeDTransformData.count,\r\n        mat = GlobalTempData.matrix4_1.setIdentity(),\r\n        positionVec = GlobalTempData.vector3_1.set(0, 0, 0),\r\n        qua = GlobalTempData.quaternion_1.set(0, 0, 0, 1),\r\n        scaleVec = GlobalTempData.vector3_2.set(1, 1, 1);\r\n\r\n    for (let i = getStartIndexInArrayBuffer(); i < count; i++) {\r\n        setTransformDataInTypeArr(i, mat, qua, positionVec, scaleVec, ThreeDTransformData);\r\n    }\r\n}\r\n\r\nexport var getTempLocalToWorldMatrix = (transform: ThreeDTransform, ThreeDTransformData: any) => _getTempData(transform.uid, ThreeDTransformData).localToWorldMatrix;\r\n\r\nvar _getTempData = (uid: number, ThreeDTransformData: any) => {\r\n    var tempData = ThreeDTransformData.tempMap[uid];\r\n\r\n    if (isNotValidMapValue(tempData)) {\r\n        tempData = {};\r\n        ThreeDTransformData.tempMap[uid] = tempData;\r\n    }\r\n\r\n    return tempData;\r\n}\r\n\r\nexport var initData = (GlobalTempData: any, ThreeDTransformData: any) => {\r\n    var buffer: ArrayBuffer = null,\r\n        count = ThreeDTransformData.count,\r\n        size = Float32Array.BYTES_PER_ELEMENT * (16 + 3 + 4 + 3);\r\n\r\n    ThreeDTransformData.buffer = new ArrayBuffer(count * size);\r\n\r\n    buffer = ThreeDTransformData.buffer;\r\n\r\n    ThreeDTransformData.localToWorldMatrices = new Float32Array(buffer, 0, count * getMatrix4DataSize());\r\n    ThreeDTransformData.localPositions = new Float32Array(buffer, count * Float32Array.BYTES_PER_ELEMENT * getMatrix4DataSize(), count * getVector3DataSize());\r\n    ThreeDTransformData.localRotations = new Float32Array(buffer, count * Float32Array.BYTES_PER_ELEMENT * (getMatrix4DataSize() + getVector3DataSize()), count * getQuaternionDataSize());\r\n    ThreeDTransformData.localScales = new Float32Array(buffer, count * Float32Array.BYTES_PER_ELEMENT * (getMatrix4DataSize() + getVector3DataSize() + getQuaternionDataSize()), count * getVector3DataSize());\r\n\r\n\r\n    ThreeDTransformData.notUsedIndexLinkList = LinkList.create();\r\n\r\n    ThreeDTransformData.parentMap = createMap();\r\n    ThreeDTransformData.childrenMap = createMap();\r\n\r\n    ThreeDTransformData.isTranslateMap = createMap();\r\n\r\n    ThreeDTransformData.cacheMap = createMap();\r\n    ThreeDTransformData.tempMap = createMap();\r\n\r\n    ThreeDTransformData.transformMap = createMap();\r\n\r\n    ThreeDTransformData.gameObjectMap = createMap();\r\n\r\n    ThreeDTransformData.firstDirtyIndex = ThreeDTransformData.count;\r\n    ThreeDTransformData.indexInArrayBuffer = getStartIndexInArrayBuffer();\r\n\r\n    ThreeDTransformData.uid = 0;\r\n    ThreeDTransformData.disposeCount = 0;\r\n    ThreeDTransformData.isClearCacheMap = false;\r\n\r\n    ThreeDTransformData.aliveUIDArray = [];\r\n\r\n    _addDefaultTransformData(GlobalTempData, ThreeDTransformData);\r\n}\r\n\r\n","import { GameObject } from \"../core/entityObject/gameObject/GameObject\";\r\nimport { it } from \"../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { isAlive } from \"../core/entityObject/gameObject/GameObjectSystem\";\r\nimport { GameObjectData } from \"../core/entityObject/gameObject/GameObjectData\";\r\n\r\nexport var checkGameObjectShouldAlive = (gameObject: GameObject, GameObjectData: any) => {\r\n    it(\"gameObject is diposed, should release it\", () => {\r\n        expect(isAlive(gameObject, GameObjectData)).true;\r\n    });\r\n}\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction arrayMap(array, iteratee) {\n    var index = -1, length = array == null ? 0 : array.length, result = Array(length);\n    while (++index < length) {\n        result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n}\nexports.default = arrayMap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _Symbol_js_1 = require(\"./_Symbol.js\");\nvar _arrayMap_js_1 = require(\"./_arrayMap.js\");\nvar isArray_js_1 = require(\"./isArray.js\");\nvar isSymbol_js_1 = require(\"./isSymbol.js\");\nvar INFINITY = 1 / 0;\nvar symbolProto = _Symbol_js_1.default ? _Symbol_js_1.default.prototype : undefined, symbolToString = symbolProto ? symbolProto.toString : undefined;\nfunction baseToString(value) {\n    if (typeof value == 'string') {\n        return value;\n    }\n    if (isArray_js_1.default(value)) {\n        return _arrayMap_js_1.default(value, baseToString) + '';\n    }\n    if (isSymbol_js_1.default(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n    }\n    var result = (value + '');\n    return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\nexports.default = baseToString;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _baseToString_js_1 = require(\"./_baseToString.js\");\nfunction toString(value) {\n    return value == null ? '' : _baseToString_js_1.default(value);\n}\nexports.default = toString;\n","import flowRight from \"wonder-lodash/flowRight\";\r\nimport toString from \"wonder-lodash/toString\";\r\n\r\nexport class IO {\r\n    public static of(func: Function) {\r\n        var obj = new this(func);\r\n\r\n        return obj;\r\n    }\r\n\r\n    public func: Function = null;\r\n\r\n    constructor(func: Function) {\r\n        this.func = func;\r\n    }\r\n\r\n    public chain(f: (...args) => IO) {\r\n        var io = this;\r\n\r\n        return IO.of(function() {\r\n            var next = f(io.func.apply(io, arguments));\r\n\r\n            return next.func.apply(next, arguments);\r\n        });\r\n    }\r\n\r\n    public map(f: Function) {\r\n        return IO.of(flowRight(f, this.func));\r\n    };\r\n\r\n    public ap(thatIO: IO) {\r\n        return this.chain(function(f) {\r\n            return thatIO.map(f);\r\n        });\r\n    };\r\n\r\n    public run(...args) {\r\n        return this.func.apply(this, arguments);\r\n    };\r\n\r\n    public toString() {\r\n        // return `IO(${toString(this.run())})`;\r\n        return `(${toString(this.run())})`;\r\n    }\r\n}\r\n","import { IO } from \"wonder-fantasy-land/dist/es2015/types/IO\";\r\nimport { Map } from \"immutable\";\r\n\r\nexport var getState = (DirectorData: any) => {\r\n    return DirectorData.state;\r\n}\r\n\r\nexport var setState = (state: Map<any, any>, DirectorData: any) => {\r\n    return IO.of(() => {\r\n        DirectorData.state = state;\r\n    });\r\n}\r\n","/**\n *  Copyright (c) 2014-2015, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.Immutable = factory());\n}(this, function () { 'use strict';var SLICE$0 = Array.prototype.slice;\n\n  function createClass(ctor, superClass) {\n    if (superClass) {\n      ctor.prototype = Object.create(superClass.prototype);\n    }\n    ctor.prototype.constructor = ctor;\n  }\n\n  function Iterable(value) {\n      return isIterable(value) ? value : Seq(value);\n    }\n\n\n  createClass(KeyedIterable, Iterable);\n    function KeyedIterable(value) {\n      return isKeyed(value) ? value : KeyedSeq(value);\n    }\n\n\n  createClass(IndexedIterable, Iterable);\n    function IndexedIterable(value) {\n      return isIndexed(value) ? value : IndexedSeq(value);\n    }\n\n\n  createClass(SetIterable, Iterable);\n    function SetIterable(value) {\n      return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);\n    }\n\n\n\n  function isIterable(maybeIterable) {\n    return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);\n  }\n\n  function isKeyed(maybeKeyed) {\n    return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n  }\n\n  function isIndexed(maybeIndexed) {\n    return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n  }\n\n  function isAssociative(maybeAssociative) {\n    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n  }\n\n  function isOrdered(maybeOrdered) {\n    return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n  }\n\n  Iterable.isIterable = isIterable;\n  Iterable.isKeyed = isKeyed;\n  Iterable.isIndexed = isIndexed;\n  Iterable.isAssociative = isAssociative;\n  Iterable.isOrdered = isOrdered;\n\n  Iterable.Keyed = KeyedIterable;\n  Iterable.Indexed = IndexedIterable;\n  Iterable.Set = SetIterable;\n\n\n  var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  // Used for setting prototype methods that IE8 chokes on.\n  var DELETE = 'delete';\n\n  // Constants describing the size of trie nodes.\n  var SHIFT = 5; // Resulted in best performance after ______?\n  var SIZE = 1 << SHIFT;\n  var MASK = SIZE - 1;\n\n  // A consistent shared value representing \"not set\" which equals nothing other\n  // than itself, and nothing that could be provided externally.\n  var NOT_SET = {};\n\n  // Boolean references, Rough equivalent of `bool &`.\n  var CHANGE_LENGTH = { value: false };\n  var DID_ALTER = { value: false };\n\n  function MakeRef(ref) {\n    ref.value = false;\n    return ref;\n  }\n\n  function SetRef(ref) {\n    ref && (ref.value = true);\n  }\n\n  // A function which returns a value representing an \"owner\" for transient writes\n  // to tries. The return value will only ever equal itself, and will not equal\n  // the return of any subsequent call of this function.\n  function OwnerID() {}\n\n  // http://jsperf.com/copy-array-inline\n  function arrCopy(arr, offset) {\n    offset = offset || 0;\n    var len = Math.max(0, arr.length - offset);\n    var newArr = new Array(len);\n    for (var ii = 0; ii < len; ii++) {\n      newArr[ii] = arr[ii + offset];\n    }\n    return newArr;\n  }\n\n  function ensureSize(iter) {\n    if (iter.size === undefined) {\n      iter.size = iter.__iterate(returnTrue);\n    }\n    return iter.size;\n  }\n\n  function wrapIndex(iter, index) {\n    // This implements \"is array index\" which the ECMAString spec defines as:\n    //\n    //     A String property name P is an array index if and only if\n    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n    //     to 2^32−1.\n    //\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n    if (typeof index !== 'number') {\n      var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n      if ('' + uint32Index !== index || uint32Index === 4294967295) {\n        return NaN;\n      }\n      index = uint32Index;\n    }\n    return index < 0 ? ensureSize(iter) + index : index;\n  }\n\n  function returnTrue() {\n    return true;\n  }\n\n  function wholeSlice(begin, end, size) {\n    return (begin === 0 || (size !== undefined && begin <= -size)) &&\n      (end === undefined || (size !== undefined && end >= size));\n  }\n\n  function resolveBegin(begin, size) {\n    return resolveIndex(begin, size, 0);\n  }\n\n  function resolveEnd(end, size) {\n    return resolveIndex(end, size, size);\n  }\n\n  function resolveIndex(index, size, defaultIndex) {\n    return index === undefined ?\n      defaultIndex :\n      index < 0 ?\n        Math.max(0, size + index) :\n        size === undefined ?\n          index :\n          Math.min(size, index);\n  }\n\n  /* global Symbol */\n\n  var ITERATE_KEYS = 0;\n  var ITERATE_VALUES = 1;\n  var ITERATE_ENTRIES = 2;\n\n  var REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator';\n\n  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\n\n  function Iterator(next) {\n      this.next = next;\n    }\n\n    Iterator.prototype.toString = function() {\n      return '[Iterator]';\n    };\n\n\n  Iterator.KEYS = ITERATE_KEYS;\n  Iterator.VALUES = ITERATE_VALUES;\n  Iterator.ENTRIES = ITERATE_ENTRIES;\n\n  Iterator.prototype.inspect =\n  Iterator.prototype.toSource = function () { return this.toString(); }\n  Iterator.prototype[ITERATOR_SYMBOL] = function () {\n    return this;\n  };\n\n\n  function iteratorValue(type, k, v, iteratorResult) {\n    var value = type === 0 ? k : type === 1 ? v : [k, v];\n    iteratorResult ? (iteratorResult.value = value) : (iteratorResult = {\n      value: value, done: false\n    });\n    return iteratorResult;\n  }\n\n  function iteratorDone() {\n    return { value: undefined, done: true };\n  }\n\n  function hasIterator(maybeIterable) {\n    return !!getIteratorFn(maybeIterable);\n  }\n\n  function isIterator(maybeIterator) {\n    return maybeIterator && typeof maybeIterator.next === 'function';\n  }\n\n  function getIterator(iterable) {\n    var iteratorFn = getIteratorFn(iterable);\n    return iteratorFn && iteratorFn.call(iterable);\n  }\n\n  function getIteratorFn(iterable) {\n    var iteratorFn = iterable && (\n      (REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]\n    );\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  function isArrayLike(value) {\n    return value && typeof value.length === 'number';\n  }\n\n  createClass(Seq, Iterable);\n    function Seq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        isIterable(value) ? value.toSeq() : seqFromValue(value);\n    }\n\n    Seq.of = function(/*...values*/) {\n      return Seq(arguments);\n    };\n\n    Seq.prototype.toSeq = function() {\n      return this;\n    };\n\n    Seq.prototype.toString = function() {\n      return this.__toString('Seq {', '}');\n    };\n\n    Seq.prototype.cacheResult = function() {\n      if (!this._cache && this.__iterateUncached) {\n        this._cache = this.entrySeq().toArray();\n        this.size = this._cache.length;\n      }\n      return this;\n    };\n\n    // abstract __iterateUncached(fn, reverse)\n\n    Seq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, true);\n    };\n\n    // abstract __iteratorUncached(type, reverse)\n\n    Seq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, true);\n    };\n\n\n\n  createClass(KeyedSeq, Seq);\n    function KeyedSeq(value) {\n      return value === null || value === undefined ?\n        emptySequence().toKeyedSeq() :\n        isIterable(value) ?\n          (isKeyed(value) ? value.toSeq() : value.fromEntrySeq()) :\n          keyedSeqFromValue(value);\n    }\n\n    KeyedSeq.prototype.toKeyedSeq = function() {\n      return this;\n    };\n\n\n\n  createClass(IndexedSeq, Seq);\n    function IndexedSeq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();\n    }\n\n    IndexedSeq.of = function(/*...values*/) {\n      return IndexedSeq(arguments);\n    };\n\n    IndexedSeq.prototype.toIndexedSeq = function() {\n      return this;\n    };\n\n    IndexedSeq.prototype.toString = function() {\n      return this.__toString('Seq [', ']');\n    };\n\n    IndexedSeq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, false);\n    };\n\n    IndexedSeq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, false);\n    };\n\n\n\n  createClass(SetSeq, Seq);\n    function SetSeq(value) {\n      return (\n        value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value\n      ).toSetSeq();\n    }\n\n    SetSeq.of = function(/*...values*/) {\n      return SetSeq(arguments);\n    };\n\n    SetSeq.prototype.toSetSeq = function() {\n      return this;\n    };\n\n\n\n  Seq.isSeq = isSeq;\n  Seq.Keyed = KeyedSeq;\n  Seq.Set = SetSeq;\n  Seq.Indexed = IndexedSeq;\n\n  var IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\n\n  Seq.prototype[IS_SEQ_SENTINEL] = true;\n\n\n\n  createClass(ArraySeq, IndexedSeq);\n    function ArraySeq(array) {\n      this._array = array;\n      this.size = array.length;\n    }\n\n    ArraySeq.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n    };\n\n    ArraySeq.prototype.__iterate = function(fn, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ArraySeq.prototype.__iterator = function(type, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++])}\n      );\n    };\n\n\n\n  createClass(ObjectSeq, KeyedSeq);\n    function ObjectSeq(object) {\n      var keys = Object.keys(object);\n      this._object = object;\n      this._keys = keys;\n      this.size = keys.length;\n    }\n\n    ObjectSeq.prototype.get = function(key, notSetValue) {\n      if (notSetValue !== undefined && !this.has(key)) {\n        return notSetValue;\n      }\n      return this._object[key];\n    };\n\n    ObjectSeq.prototype.has = function(key) {\n      return this._object.hasOwnProperty(key);\n    };\n\n    ObjectSeq.prototype.__iterate = function(fn, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        if (fn(object[key], key, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ObjectSeq.prototype.__iterator = function(type, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, key, object[key]);\n      });\n    };\n\n  ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(IterableSeq, IndexedSeq);\n    function IterableSeq(iterable) {\n      this._iterable = iterable;\n      this.size = iterable.length || iterable.size;\n    }\n\n    IterableSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      var iterations = 0;\n      if (isIterator(iterator)) {\n        var step;\n        while (!(step = iterator.next()).done) {\n          if (fn(step.value, iterations++, this) === false) {\n            break;\n          }\n        }\n      }\n      return iterations;\n    };\n\n    IterableSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      if (!isIterator(iterator)) {\n        return new Iterator(iteratorDone);\n      }\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step : iteratorValue(type, iterations++, step.value);\n      });\n    };\n\n\n\n  createClass(IteratorSeq, IndexedSeq);\n    function IteratorSeq(iterator) {\n      this._iterator = iterator;\n      this._iteratorCache = [];\n    }\n\n    IteratorSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      while (iterations < cache.length) {\n        if (fn(cache[iterations], iterations++, this) === false) {\n          return iterations;\n        }\n      }\n      var step;\n      while (!(step = iterator.next()).done) {\n        var val = step.value;\n        cache[iterations] = val;\n        if (fn(val, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n\n    IteratorSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      return new Iterator(function()  {\n        if (iterations >= cache.length) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          cache[iterations] = step.value;\n        }\n        return iteratorValue(type, iterations, cache[iterations++]);\n      });\n    };\n\n\n\n\n  // # pragma Helper functions\n\n  function isSeq(maybeSeq) {\n    return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n  }\n\n  var EMPTY_SEQ;\n\n  function emptySequence() {\n    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n  }\n\n  function keyedSeqFromValue(value) {\n    var seq =\n      Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() :\n      isIterator(value) ? new IteratorSeq(value).fromEntrySeq() :\n      hasIterator(value) ? new IterableSeq(value).fromEntrySeq() :\n      typeof value === 'object' ? new ObjectSeq(value) :\n      undefined;\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of [k, v] entries, '+\n        'or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function indexedSeqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value);\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function seqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value) ||\n      (typeof value === 'object' && new ObjectSeq(value));\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values, or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function maybeIndexedSeqFromValue(value) {\n    return (\n      isArrayLike(value) ? new ArraySeq(value) :\n      isIterator(value) ? new IteratorSeq(value) :\n      hasIterator(value) ? new IterableSeq(value) :\n      undefined\n    );\n  }\n\n  function seqIterate(seq, fn, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    }\n    return seq.__iterateUncached(fn, reverse);\n  }\n\n  function seqIterator(seq, type, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);\n      });\n    }\n    return seq.__iteratorUncached(type, reverse);\n  }\n\n  function fromJS(json, converter) {\n    return converter ?\n      fromJSWith(converter, json, '', {'': json}) :\n      fromJSDefault(json);\n  }\n\n  function fromJSWith(converter, json, key, parentJSON) {\n    if (Array.isArray(json)) {\n      return converter.call(parentJSON, key, IndexedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    if (isPlainObj(json)) {\n      return converter.call(parentJSON, key, KeyedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    return json;\n  }\n\n  function fromJSDefault(json) {\n    if (Array.isArray(json)) {\n      return IndexedSeq(json).map(fromJSDefault).toList();\n    }\n    if (isPlainObj(json)) {\n      return KeyedSeq(json).map(fromJSDefault).toMap();\n    }\n    return json;\n  }\n\n  function isPlainObj(value) {\n    return value && (value.constructor === Object || value.constructor === undefined);\n  }\n\n  /**\n   * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n   *\n   * NaN is considered the same as NaN, however -0 and 0 are considered the same\n   * value, which is different from the algorithm described by\n   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n   *\n   * This is extended further to allow Objects to describe the values they\n   * represent, by way of `valueOf` or `equals` (and `hashCode`).\n   *\n   * Note: because of this extension, the key equality of Immutable.Map and the\n   * value equality of Immutable.Set will differ from ES6 Map and Set.\n   *\n   * ### Defining custom values\n   *\n   * The easiest way to describe the value an object represents is by implementing\n   * `valueOf`. For example, `Date` represents a value by returning a unix\n   * timestamp for `valueOf`:\n   *\n   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n   *     var date2 = new Date(1234567890000);\n   *     date1.valueOf(); // 1234567890000\n   *     assert( date1 !== date2 );\n   *     assert( Immutable.is( date1, date2 ) );\n   *\n   * Note: overriding `valueOf` may have other implications if you use this object\n   * where JavaScript expects a primitive, such as implicit string coercion.\n   *\n   * For more complex types, especially collections, implementing `valueOf` may\n   * not be performant. An alternative is to implement `equals` and `hashCode`.\n   *\n   * `equals` takes another object, presumably of similar type, and returns true\n   * if the it is equal. Equality is symmetrical, so the same result should be\n   * returned if this and the argument are flipped.\n   *\n   *     assert( a.equals(b) === b.equals(a) );\n   *\n   * `hashCode` returns a 32bit integer number representing the object which will\n   * be used to determine how to store the value object in a Map or Set. You must\n   * provide both or neither methods, one must not exist without the other.\n   *\n   * Also, an important relationship between these methods must be upheld: if two\n   * values are equal, they *must* return the same hashCode. If the values are not\n   * equal, they might have the same hashCode; this is called a hash collision,\n   * and while undesirable for performance reasons, it is acceptable.\n   *\n   *     if (a.equals(b)) {\n   *       assert( a.hashCode() === b.hashCode() );\n   *     }\n   *\n   * All Immutable collections implement `equals` and `hashCode`.\n   *\n   */\n  function is(valueA, valueB) {\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n    if (typeof valueA.valueOf === 'function' &&\n        typeof valueB.valueOf === 'function') {\n      valueA = valueA.valueOf();\n      valueB = valueB.valueOf();\n      if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n        return true;\n      }\n      if (!valueA || !valueB) {\n        return false;\n      }\n    }\n    if (typeof valueA.equals === 'function' &&\n        typeof valueB.equals === 'function' &&\n        valueA.equals(valueB)) {\n      return true;\n    }\n    return false;\n  }\n\n  function deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n\n    if (\n      !isIterable(b) ||\n      a.size !== undefined && b.size !== undefined && a.size !== b.size ||\n      a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash ||\n      isKeyed(a) !== isKeyed(b) ||\n      isIndexed(a) !== isIndexed(b) ||\n      isOrdered(a) !== isOrdered(b)\n    ) {\n      return false;\n    }\n\n    if (a.size === 0 && b.size === 0) {\n      return true;\n    }\n\n    var notAssociative = !isAssociative(a);\n\n    if (isOrdered(a)) {\n      var entries = a.entries();\n      return b.every(function(v, k)  {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done;\n    }\n\n    var flipped = false;\n\n    if (a.size === undefined) {\n      if (b.size === undefined) {\n        if (typeof a.cacheResult === 'function') {\n          a.cacheResult();\n        }\n      } else {\n        flipped = true;\n        var _ = a;\n        a = b;\n        b = _;\n      }\n    }\n\n    var allEqual = true;\n    var bSize = b.__iterate(function(v, k)  {\n      if (notAssociative ? !a.has(v) :\n          flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {\n        allEqual = false;\n        return false;\n      }\n    });\n\n    return allEqual && a.size === bSize;\n  }\n\n  createClass(Repeat, IndexedSeq);\n\n    function Repeat(value, times) {\n      if (!(this instanceof Repeat)) {\n        return new Repeat(value, times);\n      }\n      this._value = value;\n      this.size = times === undefined ? Infinity : Math.max(0, times);\n      if (this.size === 0) {\n        if (EMPTY_REPEAT) {\n          return EMPTY_REPEAT;\n        }\n        EMPTY_REPEAT = this;\n      }\n    }\n\n    Repeat.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Repeat []';\n      }\n      return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n    };\n\n    Repeat.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._value : notSetValue;\n    };\n\n    Repeat.prototype.includes = function(searchValue) {\n      return is(this._value, searchValue);\n    };\n\n    Repeat.prototype.slice = function(begin, end) {\n      var size = this.size;\n      return wholeSlice(begin, end, size) ? this :\n        new Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));\n    };\n\n    Repeat.prototype.reverse = function() {\n      return this;\n    };\n\n    Repeat.prototype.indexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return 0;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.lastIndexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return this.size;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.__iterate = function(fn, reverse) {\n      for (var ii = 0; ii < this.size; ii++) {\n        if (fn(this._value, ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    Repeat.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii < this$0.size ? iteratorValue(type, ii++, this$0._value) : iteratorDone()}\n      );\n    };\n\n    Repeat.prototype.equals = function(other) {\n      return other instanceof Repeat ?\n        is(this._value, other._value) :\n        deepEqual(other);\n    };\n\n\n  var EMPTY_REPEAT;\n\n  function invariant(condition, error) {\n    if (!condition) throw new Error(error);\n  }\n\n  createClass(Range, IndexedSeq);\n\n    function Range(start, end, step) {\n      if (!(this instanceof Range)) {\n        return new Range(start, end, step);\n      }\n      invariant(step !== 0, 'Cannot step a Range by 0');\n      start = start || 0;\n      if (end === undefined) {\n        end = Infinity;\n      }\n      step = step === undefined ? 1 : Math.abs(step);\n      if (end < start) {\n        step = -step;\n      }\n      this._start = start;\n      this._end = end;\n      this._step = step;\n      this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n      if (this.size === 0) {\n        if (EMPTY_RANGE) {\n          return EMPTY_RANGE;\n        }\n        EMPTY_RANGE = this;\n      }\n    }\n\n    Range.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Range []';\n      }\n      return 'Range [ ' +\n        this._start + '...' + this._end +\n        (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]';\n    };\n\n    Range.prototype.get = function(index, notSetValue) {\n      return this.has(index) ?\n        this._start + wrapIndex(this, index) * this._step :\n        notSetValue;\n    };\n\n    Range.prototype.includes = function(searchValue) {\n      var possibleIndex = (searchValue - this._start) / this._step;\n      return possibleIndex >= 0 &&\n        possibleIndex < this.size &&\n        possibleIndex === Math.floor(possibleIndex);\n    };\n\n    Range.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      begin = resolveBegin(begin, this.size);\n      end = resolveEnd(end, this.size);\n      if (end <= begin) {\n        return new Range(0, 0);\n      }\n      return new Range(this.get(begin, this._end), this.get(end, this._end), this._step);\n    };\n\n    Range.prototype.indexOf = function(searchValue) {\n      var offsetValue = searchValue - this._start;\n      if (offsetValue % this._step === 0) {\n        var index = offsetValue / this._step;\n        if (index >= 0 && index < this.size) {\n          return index\n        }\n      }\n      return -1;\n    };\n\n    Range.prototype.lastIndexOf = function(searchValue) {\n      return this.indexOf(searchValue);\n    };\n\n    Range.prototype.__iterate = function(fn, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(value, ii, this) === false) {\n          return ii + 1;\n        }\n        value += reverse ? -step : step;\n      }\n      return ii;\n    };\n\n    Range.prototype.__iterator = function(type, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      var ii = 0;\n      return new Iterator(function()  {\n        var v = value;\n        value += reverse ? -step : step;\n        return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);\n      });\n    };\n\n    Range.prototype.equals = function(other) {\n      return other instanceof Range ?\n        this._start === other._start &&\n        this._end === other._end &&\n        this._step === other._step :\n        deepEqual(this, other);\n    };\n\n\n  var EMPTY_RANGE;\n\n  createClass(Collection, Iterable);\n    function Collection() {\n      throw TypeError('Abstract');\n    }\n\n\n  createClass(KeyedCollection, Collection);function KeyedCollection() {}\n\n  createClass(IndexedCollection, Collection);function IndexedCollection() {}\n\n  createClass(SetCollection, Collection);function SetCollection() {}\n\n\n  Collection.Keyed = KeyedCollection;\n  Collection.Indexed = IndexedCollection;\n  Collection.Set = SetCollection;\n\n  var imul =\n    typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2 ?\n    Math.imul :\n    function imul(a, b) {\n      a = a | 0; // int\n      b = b | 0; // int\n      var c = a & 0xffff;\n      var d = b & 0xffff;\n      // Shift by 0 fixes the sign on the high part.\n      return (c * d) + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0) | 0; // int\n    };\n\n  // v8 has an optimization for storing 31-bit signed numbers.\n  // Values which have either 00 or 11 as the high order bits qualify.\n  // This function drops the highest order bit in a signed number, maintaining\n  // the sign bit.\n  function smi(i32) {\n    return ((i32 >>> 1) & 0x40000000) | (i32 & 0xBFFFFFFF);\n  }\n\n  function hash(o) {\n    if (o === false || o === null || o === undefined) {\n      return 0;\n    }\n    if (typeof o.valueOf === 'function') {\n      o = o.valueOf();\n      if (o === false || o === null || o === undefined) {\n        return 0;\n      }\n    }\n    if (o === true) {\n      return 1;\n    }\n    var type = typeof o;\n    if (type === 'number') {\n      if (o !== o || o === Infinity) {\n        return 0;\n      }\n      var h = o | 0;\n      if (h !== o) {\n        h ^= o * 0xFFFFFFFF;\n      }\n      while (o > 0xFFFFFFFF) {\n        o /= 0xFFFFFFFF;\n        h ^= o;\n      }\n      return smi(h);\n    }\n    if (type === 'string') {\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);\n    }\n    if (typeof o.hashCode === 'function') {\n      return o.hashCode();\n    }\n    if (type === 'object') {\n      return hashJSObj(o);\n    }\n    if (typeof o.toString === 'function') {\n      return hashString(o.toString());\n    }\n    throw new Error('Value type ' + type + ' cannot be hashed.');\n  }\n\n  function cachedHashString(string) {\n    var hash = stringHashCache[string];\n    if (hash === undefined) {\n      hash = hashString(string);\n      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n        STRING_HASH_CACHE_SIZE = 0;\n        stringHashCache = {};\n      }\n      STRING_HASH_CACHE_SIZE++;\n      stringHashCache[string] = hash;\n    }\n    return hash;\n  }\n\n  // http://jsperf.com/hashing-strings\n  function hashString(string) {\n    // This is the hash from JVM\n    // The hash code for a string is computed as\n    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n    // where s[i] is the ith character of the string and n is the length of\n    // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n    // (exclusive) by dropping high bits.\n    var hash = 0;\n    for (var ii = 0; ii < string.length; ii++) {\n      hash = 31 * hash + string.charCodeAt(ii) | 0;\n    }\n    return smi(hash);\n  }\n\n  function hashJSObj(obj) {\n    var hash;\n    if (usingWeakMap) {\n      hash = weakMap.get(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = obj[UID_HASH_KEY];\n    if (hash !== undefined) {\n      return hash;\n    }\n\n    if (!canDefineProperty) {\n      hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n      if (hash !== undefined) {\n        return hash;\n      }\n\n      hash = getIENodeHash(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = ++objHashUID;\n    if (objHashUID & 0x40000000) {\n      objHashUID = 0;\n    }\n\n    if (usingWeakMap) {\n      weakMap.set(obj, hash);\n    } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n      throw new Error('Non-extensible objects are not allowed as keys.');\n    } else if (canDefineProperty) {\n      Object.defineProperty(obj, UID_HASH_KEY, {\n        'enumerable': false,\n        'configurable': false,\n        'writable': false,\n        'value': hash\n      });\n    } else if (obj.propertyIsEnumerable !== undefined &&\n               obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {\n      // Since we can't define a non-enumerable property on the object\n      // we'll hijack one of the less-used non-enumerable properties to\n      // save our hash on it. Since this is a function it will not show up in\n      // `JSON.stringify` which is what we want.\n      obj.propertyIsEnumerable = function() {\n        return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);\n      };\n      obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n    } else if (obj.nodeType !== undefined) {\n      // At this point we couldn't get the IE `uniqueID` to use as a hash\n      // and we couldn't use a non-enumerable property to exploit the\n      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n      // itself.\n      obj[UID_HASH_KEY] = hash;\n    } else {\n      throw new Error('Unable to set a non-enumerable property on object.');\n    }\n\n    return hash;\n  }\n\n  // Get references to ES5 object methods.\n  var isExtensible = Object.isExtensible;\n\n  // True if Object.defineProperty works as expected. IE8 fails this test.\n  var canDefineProperty = (function() {\n    try {\n      Object.defineProperty({}, '@', {});\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }());\n\n  // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n  // and avoid memory leaks from the IE cloneNode bug.\n  function getIENodeHash(node) {\n    if (node && node.nodeType > 0) {\n      switch (node.nodeType) {\n        case 1: // Element\n          return node.uniqueID;\n        case 9: // Document\n          return node.documentElement && node.documentElement.uniqueID;\n      }\n    }\n  }\n\n  // If possible, use a WeakMap.\n  var usingWeakMap = typeof WeakMap === 'function';\n  var weakMap;\n  if (usingWeakMap) {\n    weakMap = new WeakMap();\n  }\n\n  var objHashUID = 0;\n\n  var UID_HASH_KEY = '__immutablehash__';\n  if (typeof Symbol === 'function') {\n    UID_HASH_KEY = Symbol(UID_HASH_KEY);\n  }\n\n  var STRING_HASH_CACHE_MIN_STRLEN = 16;\n  var STRING_HASH_CACHE_MAX_SIZE = 255;\n  var STRING_HASH_CACHE_SIZE = 0;\n  var stringHashCache = {};\n\n  function assertNotInfinite(size) {\n    invariant(\n      size !== Infinity,\n      'Cannot perform this action with an infinite size.'\n    );\n  }\n\n  createClass(Map, KeyedCollection);\n\n    // @pragma Construction\n\n    function Map(value) {\n      return value === null || value === undefined ? emptyMap() :\n        isMap(value) && !isOrdered(value) ? value :\n        emptyMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    Map.of = function() {var keyValues = SLICE$0.call(arguments, 0);\n      return emptyMap().withMutations(function(map ) {\n        for (var i = 0; i < keyValues.length; i += 2) {\n          if (i + 1 >= keyValues.length) {\n            throw new Error('Missing value for key: ' + keyValues[i]);\n          }\n          map.set(keyValues[i], keyValues[i + 1]);\n        }\n      });\n    };\n\n    Map.prototype.toString = function() {\n      return this.__toString('Map {', '}');\n    };\n\n    // @pragma Access\n\n    Map.prototype.get = function(k, notSetValue) {\n      return this._root ?\n        this._root.get(0, undefined, k, notSetValue) :\n        notSetValue;\n    };\n\n    // @pragma Modification\n\n    Map.prototype.set = function(k, v) {\n      return updateMap(this, k, v);\n    };\n\n    Map.prototype.setIn = function(keyPath, v) {\n      return this.updateIn(keyPath, NOT_SET, function()  {return v});\n    };\n\n    Map.prototype.remove = function(k) {\n      return updateMap(this, k, NOT_SET);\n    };\n\n    Map.prototype.deleteIn = function(keyPath) {\n      return this.updateIn(keyPath, function()  {return NOT_SET});\n    };\n\n    Map.prototype.update = function(k, notSetValue, updater) {\n      return arguments.length === 1 ?\n        k(this) :\n        this.updateIn([k], notSetValue, updater);\n    };\n\n    Map.prototype.updateIn = function(keyPath, notSetValue, updater) {\n      if (!updater) {\n        updater = notSetValue;\n        notSetValue = undefined;\n      }\n      var updatedValue = updateInDeepMap(\n        this,\n        forceIterator(keyPath),\n        notSetValue,\n        updater\n      );\n      return updatedValue === NOT_SET ? undefined : updatedValue;\n    };\n\n    Map.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._root = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyMap();\n    };\n\n    // @pragma Composition\n\n    Map.prototype.merge = function(/*...iters*/) {\n      return mergeIntoMapWith(this, undefined, arguments);\n    };\n\n    Map.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, merger, iters);\n    };\n\n    Map.prototype.mergeIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.merge === 'function' ?\n          m.merge.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoMapWith(this, deepMerger, arguments);\n    };\n\n    Map.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, deepMergerWith(merger), iters);\n    };\n\n    Map.prototype.mergeDeepIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.mergeDeep === 'function' ?\n          m.mergeDeep.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator));\n    };\n\n    Map.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator, mapper));\n    };\n\n    // @pragma Mutability\n\n    Map.prototype.withMutations = function(fn) {\n      var mutable = this.asMutable();\n      fn(mutable);\n      return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n    };\n\n    Map.prototype.asMutable = function() {\n      return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n    };\n\n    Map.prototype.asImmutable = function() {\n      return this.__ensureOwner();\n    };\n\n    Map.prototype.wasAltered = function() {\n      return this.__altered;\n    };\n\n    Map.prototype.__iterator = function(type, reverse) {\n      return new MapIterator(this, type, reverse);\n    };\n\n    Map.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      this._root && this._root.iterate(function(entry ) {\n        iterations++;\n        return fn(entry[1], entry[0], this$0);\n      }, reverse);\n      return iterations;\n    };\n\n    Map.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeMap(this.size, this._root, ownerID, this.__hash);\n    };\n\n\n  function isMap(maybeMap) {\n    return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n  }\n\n  Map.isMap = isMap;\n\n  var IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\n\n  var MapPrototype = Map.prototype;\n  MapPrototype[IS_MAP_SENTINEL] = true;\n  MapPrototype[DELETE] = MapPrototype.remove;\n  MapPrototype.removeIn = MapPrototype.deleteIn;\n\n\n  // #pragma Trie Nodes\n\n\n\n    function ArrayMapNode(ownerID, entries) {\n      this.ownerID = ownerID;\n      this.entries = entries;\n    }\n\n    ArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    ArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && entries.length === 1) {\n        return; // undefined\n      }\n\n      if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n        return createNodes(ownerID, entries, key, value);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new ArrayMapNode(ownerID, newEntries);\n    };\n\n\n\n\n    function BitmapIndexedNode(ownerID, bitmap, nodes) {\n      this.ownerID = ownerID;\n      this.bitmap = bitmap;\n      this.nodes = nodes;\n    }\n\n    BitmapIndexedNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var bit = (1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK));\n      var bitmap = this.bitmap;\n      return (bitmap & bit) === 0 ? notSetValue :\n        this.nodes[popCount(bitmap & (bit - 1))].get(shift + SHIFT, keyHash, key, notSetValue);\n    };\n\n    BitmapIndexedNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var bit = 1 << keyHashFrag;\n      var bitmap = this.bitmap;\n      var exists = (bitmap & bit) !== 0;\n\n      if (!exists && value === NOT_SET) {\n        return this;\n      }\n\n      var idx = popCount(bitmap & (bit - 1));\n      var nodes = this.nodes;\n      var node = exists ? nodes[idx] : undefined;\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n\n      if (newNode === node) {\n        return this;\n      }\n\n      if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n        return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n      }\n\n      if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {\n        return nodes[idx ^ 1];\n      }\n\n      if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n        return newNode;\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n      var newNodes = exists ? newNode ?\n        setIn(nodes, idx, newNode, isEditable) :\n        spliceOut(nodes, idx, isEditable) :\n        spliceIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.bitmap = newBitmap;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n    };\n\n\n\n\n    function HashArrayMapNode(ownerID, count, nodes) {\n      this.ownerID = ownerID;\n      this.count = count;\n      this.nodes = nodes;\n    }\n\n    HashArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var node = this.nodes[idx];\n      return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;\n    };\n\n    HashArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var removed = value === NOT_SET;\n      var nodes = this.nodes;\n      var node = nodes[idx];\n\n      if (removed && !node) {\n        return this;\n      }\n\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n      if (newNode === node) {\n        return this;\n      }\n\n      var newCount = this.count;\n      if (!node) {\n        newCount++;\n      } else if (!newNode) {\n        newCount--;\n        if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n          return packNodes(ownerID, nodes, newCount, idx);\n        }\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newNodes = setIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.count = newCount;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new HashArrayMapNode(ownerID, newCount, newNodes);\n    };\n\n\n\n\n    function HashCollisionNode(ownerID, keyHash, entries) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entries = entries;\n    }\n\n    HashCollisionNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    HashCollisionNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n\n      var removed = value === NOT_SET;\n\n      if (keyHash !== this.keyHash) {\n        if (removed) {\n          return this;\n        }\n        SetRef(didAlter);\n        SetRef(didChangeSize);\n        return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n      }\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && len === 2) {\n        return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n    };\n\n\n\n\n    function ValueNode(ownerID, keyHash, entry) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entry = entry;\n    }\n\n    ValueNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n    };\n\n    ValueNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n      var keyMatch = is(key, this.entry[0]);\n      if (keyMatch ? value === this.entry[1] : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n\n      if (removed) {\n        SetRef(didChangeSize);\n        return; // undefined\n      }\n\n      if (keyMatch) {\n        if (ownerID && ownerID === this.ownerID) {\n          this.entry[1] = value;\n          return this;\n        }\n        return new ValueNode(ownerID, this.keyHash, [key, value]);\n      }\n\n      SetRef(didChangeSize);\n      return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n    };\n\n\n\n  // #pragma Iterators\n\n  ArrayMapNode.prototype.iterate =\n  HashCollisionNode.prototype.iterate = function (fn, reverse) {\n    var entries = this.entries;\n    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n        return false;\n      }\n    }\n  }\n\n  BitmapIndexedNode.prototype.iterate =\n  HashArrayMapNode.prototype.iterate = function (fn, reverse) {\n    var nodes = this.nodes;\n    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n      var node = nodes[reverse ? maxIndex - ii : ii];\n      if (node && node.iterate(fn, reverse) === false) {\n        return false;\n      }\n    }\n  }\n\n  ValueNode.prototype.iterate = function (fn, reverse) {\n    return fn(this.entry);\n  }\n\n  createClass(MapIterator, Iterator);\n\n    function MapIterator(map, type, reverse) {\n      this._type = type;\n      this._reverse = reverse;\n      this._stack = map._root && mapIteratorFrame(map._root);\n    }\n\n    MapIterator.prototype.next = function() {\n      var type = this._type;\n      var stack = this._stack;\n      while (stack) {\n        var node = stack.node;\n        var index = stack.index++;\n        var maxIndex;\n        if (node.entry) {\n          if (index === 0) {\n            return mapIteratorValue(type, node.entry);\n          }\n        } else if (node.entries) {\n          maxIndex = node.entries.length - 1;\n          if (index <= maxIndex) {\n            return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);\n          }\n        } else {\n          maxIndex = node.nodes.length - 1;\n          if (index <= maxIndex) {\n            var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n            if (subNode) {\n              if (subNode.entry) {\n                return mapIteratorValue(type, subNode.entry);\n              }\n              stack = this._stack = mapIteratorFrame(subNode, stack);\n            }\n            continue;\n          }\n        }\n        stack = this._stack = this._stack.__prev;\n      }\n      return iteratorDone();\n    };\n\n\n  function mapIteratorValue(type, entry) {\n    return iteratorValue(type, entry[0], entry[1]);\n  }\n\n  function mapIteratorFrame(node, prev) {\n    return {\n      node: node,\n      index: 0,\n      __prev: prev\n    };\n  }\n\n  function makeMap(size, root, ownerID, hash) {\n    var map = Object.create(MapPrototype);\n    map.size = size;\n    map._root = root;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_MAP;\n  function emptyMap() {\n    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n  }\n\n  function updateMap(map, k, v) {\n    var newRoot;\n    var newSize;\n    if (!map._root) {\n      if (v === NOT_SET) {\n        return map;\n      }\n      newSize = 1;\n      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n    } else {\n      var didChangeSize = MakeRef(CHANGE_LENGTH);\n      var didAlter = MakeRef(DID_ALTER);\n      newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);\n      if (!didAlter.value) {\n        return map;\n      }\n      newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n    }\n    if (map.__ownerID) {\n      map.size = newSize;\n      map._root = newRoot;\n      map.__hash = undefined;\n      map.__altered = true;\n      return map;\n    }\n    return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n  }\n\n  function updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (!node) {\n      if (value === NOT_SET) {\n        return node;\n      }\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return new ValueNode(ownerID, keyHash, [key, value]);\n    }\n    return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);\n  }\n\n  function isLeafNode(node) {\n    return node.constructor === ValueNode || node.constructor === HashCollisionNode;\n  }\n\n  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n    if (node.keyHash === keyHash) {\n      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n    }\n\n    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n    var newNode;\n    var nodes = idx1 === idx2 ?\n      [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] :\n      ((newNode = new ValueNode(ownerID, keyHash, entry)), idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n    return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n  }\n\n  function createNodes(ownerID, entries, key, value) {\n    if (!ownerID) {\n      ownerID = new OwnerID();\n    }\n    var node = new ValueNode(ownerID, hash(key), [key, value]);\n    for (var ii = 0; ii < entries.length; ii++) {\n      var entry = entries[ii];\n      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n    }\n    return node;\n  }\n\n  function packNodes(ownerID, nodes, count, excluding) {\n    var bitmap = 0;\n    var packedII = 0;\n    var packedNodes = new Array(count);\n    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n      var node = nodes[ii];\n      if (node !== undefined && ii !== excluding) {\n        bitmap |= bit;\n        packedNodes[packedII++] = node;\n      }\n    }\n    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n  }\n\n  function expandNodes(ownerID, nodes, bitmap, including, node) {\n    var count = 0;\n    var expandedNodes = new Array(SIZE);\n    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n    }\n    expandedNodes[including] = node;\n    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n  }\n\n  function mergeIntoMapWith(map, merger, iterables) {\n    var iters = [];\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = KeyedIterable(value);\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    return mergeIntoCollectionWith(map, merger, iters);\n  }\n\n  function deepMerger(existing, value, key) {\n    return existing && existing.mergeDeep && isIterable(value) ?\n      existing.mergeDeep(value) :\n      is(existing, value) ? existing : value;\n  }\n\n  function deepMergerWith(merger) {\n    return function(existing, value, key)  {\n      if (existing && existing.mergeDeepWith && isIterable(value)) {\n        return existing.mergeDeepWith(merger, value);\n      }\n      var nextValue = merger(existing, value, key);\n      return is(existing, nextValue) ? existing : nextValue;\n    };\n  }\n\n  function mergeIntoCollectionWith(collection, merger, iters) {\n    iters = iters.filter(function(x ) {return x.size !== 0});\n    if (iters.length === 0) {\n      return collection;\n    }\n    if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {\n      return collection.constructor(iters[0]);\n    }\n    return collection.withMutations(function(collection ) {\n      var mergeIntoMap = merger ?\n        function(value, key)  {\n          collection.update(key, NOT_SET, function(existing )\n            {return existing === NOT_SET ? value : merger(existing, value, key)}\n          );\n        } :\n        function(value, key)  {\n          collection.set(key, value);\n        }\n      for (var ii = 0; ii < iters.length; ii++) {\n        iters[ii].forEach(mergeIntoMap);\n      }\n    });\n  }\n\n  function updateInDeepMap(existing, keyPathIter, notSetValue, updater) {\n    var isNotSet = existing === NOT_SET;\n    var step = keyPathIter.next();\n    if (step.done) {\n      var existingValue = isNotSet ? notSetValue : existing;\n      var newValue = updater(existingValue);\n      return newValue === existingValue ? existing : newValue;\n    }\n    invariant(\n      isNotSet || (existing && existing.set),\n      'invalid keyPath'\n    );\n    var key = step.value;\n    var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n    var nextUpdated = updateInDeepMap(\n      nextExisting,\n      keyPathIter,\n      notSetValue,\n      updater\n    );\n    return nextUpdated === nextExisting ? existing :\n      nextUpdated === NOT_SET ? existing.remove(key) :\n      (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n  }\n\n  function popCount(x) {\n    x = x - ((x >> 1) & 0x55555555);\n    x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n    x = (x + (x >> 4)) & 0x0f0f0f0f;\n    x = x + (x >> 8);\n    x = x + (x >> 16);\n    return x & 0x7f;\n  }\n\n  function setIn(array, idx, val, canEdit) {\n    var newArray = canEdit ? array : arrCopy(array);\n    newArray[idx] = val;\n    return newArray;\n  }\n\n  function spliceIn(array, idx, val, canEdit) {\n    var newLen = array.length + 1;\n    if (canEdit && idx + 1 === newLen) {\n      array[idx] = val;\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        newArray[ii] = val;\n        after = -1;\n      } else {\n        newArray[ii] = array[ii + after];\n      }\n    }\n    return newArray;\n  }\n\n  function spliceOut(array, idx, canEdit) {\n    var newLen = array.length - 1;\n    if (canEdit && idx === newLen) {\n      array.pop();\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        after = 1;\n      }\n      newArray[ii] = array[ii + after];\n    }\n    return newArray;\n  }\n\n  var MAX_ARRAY_MAP_SIZE = SIZE / 4;\n  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\n  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\n  createClass(List, IndexedCollection);\n\n    // @pragma Construction\n\n    function List(value) {\n      var empty = emptyList();\n      if (value === null || value === undefined) {\n        return empty;\n      }\n      if (isList(value)) {\n        return value;\n      }\n      var iter = IndexedIterable(value);\n      var size = iter.size;\n      if (size === 0) {\n        return empty;\n      }\n      assertNotInfinite(size);\n      if (size > 0 && size < SIZE) {\n        return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n      }\n      return empty.withMutations(function(list ) {\n        list.setSize(size);\n        iter.forEach(function(v, i)  {return list.set(i, v)});\n      });\n    }\n\n    List.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    List.prototype.toString = function() {\n      return this.__toString('List [', ']');\n    };\n\n    // @pragma Access\n\n    List.prototype.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      if (index >= 0 && index < this.size) {\n        index += this._origin;\n        var node = listNodeFor(this, index);\n        return node && node.array[index & MASK];\n      }\n      return notSetValue;\n    };\n\n    // @pragma Modification\n\n    List.prototype.set = function(index, value) {\n      return updateList(this, index, value);\n    };\n\n    List.prototype.remove = function(index) {\n      return !this.has(index) ? this :\n        index === 0 ? this.shift() :\n        index === this.size - 1 ? this.pop() :\n        this.splice(index, 1);\n    };\n\n    List.prototype.insert = function(index, value) {\n      return this.splice(index, 0, value);\n    };\n\n    List.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = this._origin = this._capacity = 0;\n        this._level = SHIFT;\n        this._root = this._tail = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyList();\n    };\n\n    List.prototype.push = function(/*...values*/) {\n      var values = arguments;\n      var oldSize = this.size;\n      return this.withMutations(function(list ) {\n        setListBounds(list, 0, oldSize + values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(oldSize + ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.pop = function() {\n      return setListBounds(this, 0, -1);\n    };\n\n    List.prototype.unshift = function(/*...values*/) {\n      var values = arguments;\n      return this.withMutations(function(list ) {\n        setListBounds(list, -values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.shift = function() {\n      return setListBounds(this, 1);\n    };\n\n    // @pragma Composition\n\n    List.prototype.merge = function(/*...iters*/) {\n      return mergeIntoListWith(this, undefined, arguments);\n    };\n\n    List.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, merger, iters);\n    };\n\n    List.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoListWith(this, deepMerger, arguments);\n    };\n\n    List.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, deepMergerWith(merger), iters);\n    };\n\n    List.prototype.setSize = function(size) {\n      return setListBounds(this, 0, size);\n    };\n\n    // @pragma Iteration\n\n    List.prototype.slice = function(begin, end) {\n      var size = this.size;\n      if (wholeSlice(begin, end, size)) {\n        return this;\n      }\n      return setListBounds(\n        this,\n        resolveBegin(begin, size),\n        resolveEnd(end, size)\n      );\n    };\n\n    List.prototype.__iterator = function(type, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      return new Iterator(function()  {\n        var value = values();\n        return value === DONE ?\n          iteratorDone() :\n          iteratorValue(type, index++, value);\n      });\n    };\n\n    List.prototype.__iterate = function(fn, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      var value;\n      while ((value = values()) !== DONE) {\n        if (fn(value, index++, this) === false) {\n          break;\n        }\n      }\n      return index;\n    };\n\n    List.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        return this;\n      }\n      return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);\n    };\n\n\n  function isList(maybeList) {\n    return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n  }\n\n  List.isList = isList;\n\n  var IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\n\n  var ListPrototype = List.prototype;\n  ListPrototype[IS_LIST_SENTINEL] = true;\n  ListPrototype[DELETE] = ListPrototype.remove;\n  ListPrototype.setIn = MapPrototype.setIn;\n  ListPrototype.deleteIn =\n  ListPrototype.removeIn = MapPrototype.removeIn;\n  ListPrototype.update = MapPrototype.update;\n  ListPrototype.updateIn = MapPrototype.updateIn;\n  ListPrototype.mergeIn = MapPrototype.mergeIn;\n  ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  ListPrototype.withMutations = MapPrototype.withMutations;\n  ListPrototype.asMutable = MapPrototype.asMutable;\n  ListPrototype.asImmutable = MapPrototype.asImmutable;\n  ListPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n\n    function VNode(array, ownerID) {\n      this.array = array;\n      this.ownerID = ownerID;\n    }\n\n    // TODO: seems like these methods are very similar\n\n    VNode.prototype.removeBefore = function(ownerID, level, index) {\n      if (index === level ? 1 << level : 0 || this.array.length === 0) {\n        return this;\n      }\n      var originIndex = (index >>> level) & MASK;\n      if (originIndex >= this.array.length) {\n        return new VNode([], ownerID);\n      }\n      var removingFirst = originIndex === 0;\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[originIndex];\n        newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && removingFirst) {\n          return this;\n        }\n      }\n      if (removingFirst && !newChild) {\n        return this;\n      }\n      var editable = editableVNode(this, ownerID);\n      if (!removingFirst) {\n        for (var ii = 0; ii < originIndex; ii++) {\n          editable.array[ii] = undefined;\n        }\n      }\n      if (newChild) {\n        editable.array[originIndex] = newChild;\n      }\n      return editable;\n    };\n\n    VNode.prototype.removeAfter = function(ownerID, level, index) {\n      if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n        return this;\n      }\n      var sizeIndex = ((index - 1) >>> level) & MASK;\n      if (sizeIndex >= this.array.length) {\n        return this;\n      }\n\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[sizeIndex];\n        newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n          return this;\n        }\n      }\n\n      var editable = editableVNode(this, ownerID);\n      editable.array.splice(sizeIndex + 1);\n      if (newChild) {\n        editable.array[sizeIndex] = newChild;\n      }\n      return editable;\n    };\n\n\n\n  var DONE = {};\n\n  function iterateList(list, reverse) {\n    var left = list._origin;\n    var right = list._capacity;\n    var tailPos = getTailOffset(right);\n    var tail = list._tail;\n\n    return iterateNodeOrLeaf(list._root, list._level, 0);\n\n    function iterateNodeOrLeaf(node, level, offset) {\n      return level === 0 ?\n        iterateLeaf(node, offset) :\n        iterateNode(node, level, offset);\n    }\n\n    function iterateLeaf(node, offset) {\n      var array = offset === tailPos ? tail && tail.array : node && node.array;\n      var from = offset > left ? 0 : left - offset;\n      var to = right - offset;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        return array && array[idx];\n      };\n    }\n\n    function iterateNode(node, level, offset) {\n      var values;\n      var array = node && node.array;\n      var from = offset > left ? 0 : (left - offset) >> level;\n      var to = ((right - offset) >> level) + 1;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        do {\n          if (values) {\n            var value = values();\n            if (value !== DONE) {\n              return value;\n            }\n            values = null;\n          }\n          if (from === to) {\n            return DONE;\n          }\n          var idx = reverse ? --to : from++;\n          values = iterateNodeOrLeaf(\n            array && array[idx], level - SHIFT, offset + (idx << level)\n          );\n        } while (true);\n      };\n    }\n  }\n\n  function makeList(origin, capacity, level, root, tail, ownerID, hash) {\n    var list = Object.create(ListPrototype);\n    list.size = capacity - origin;\n    list._origin = origin;\n    list._capacity = capacity;\n    list._level = level;\n    list._root = root;\n    list._tail = tail;\n    list.__ownerID = ownerID;\n    list.__hash = hash;\n    list.__altered = false;\n    return list;\n  }\n\n  var EMPTY_LIST;\n  function emptyList() {\n    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n  }\n\n  function updateList(list, index, value) {\n    index = wrapIndex(list, index);\n\n    if (index !== index) {\n      return list;\n    }\n\n    if (index >= list.size || index < 0) {\n      return list.withMutations(function(list ) {\n        index < 0 ?\n          setListBounds(list, index).set(0, value) :\n          setListBounds(list, 0, index + 1).set(index, value)\n      });\n    }\n\n    index += list._origin;\n\n    var newTail = list._tail;\n    var newRoot = list._root;\n    var didAlter = MakeRef(DID_ALTER);\n    if (index >= getTailOffset(list._capacity)) {\n      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n    } else {\n      newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);\n    }\n\n    if (!didAlter.value) {\n      return list;\n    }\n\n    if (list.__ownerID) {\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n  }\n\n  function updateVNode(node, ownerID, level, index, value, didAlter) {\n    var idx = (index >>> level) & MASK;\n    var nodeHas = node && idx < node.array.length;\n    if (!nodeHas && value === undefined) {\n      return node;\n    }\n\n    var newNode;\n\n    if (level > 0) {\n      var lowerNode = node && node.array[idx];\n      var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);\n      if (newLowerNode === lowerNode) {\n        return node;\n      }\n      newNode = editableVNode(node, ownerID);\n      newNode.array[idx] = newLowerNode;\n      return newNode;\n    }\n\n    if (nodeHas && node.array[idx] === value) {\n      return node;\n    }\n\n    SetRef(didAlter);\n\n    newNode = editableVNode(node, ownerID);\n    if (value === undefined && idx === newNode.array.length - 1) {\n      newNode.array.pop();\n    } else {\n      newNode.array[idx] = value;\n    }\n    return newNode;\n  }\n\n  function editableVNode(node, ownerID) {\n    if (ownerID && node && ownerID === node.ownerID) {\n      return node;\n    }\n    return new VNode(node ? node.array.slice() : [], ownerID);\n  }\n\n  function listNodeFor(list, rawIndex) {\n    if (rawIndex >= getTailOffset(list._capacity)) {\n      return list._tail;\n    }\n    if (rawIndex < 1 << (list._level + SHIFT)) {\n      var node = list._root;\n      var level = list._level;\n      while (node && level > 0) {\n        node = node.array[(rawIndex >>> level) & MASK];\n        level -= SHIFT;\n      }\n      return node;\n    }\n  }\n\n  function setListBounds(list, begin, end) {\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      end = end | 0;\n    }\n    var owner = list.__ownerID || new OwnerID();\n    var oldOrigin = list._origin;\n    var oldCapacity = list._capacity;\n    var newOrigin = oldOrigin + begin;\n    var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;\n    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n      return list;\n    }\n\n    // If it's going to end after it starts, it's empty.\n    if (newOrigin >= newCapacity) {\n      return list.clear();\n    }\n\n    var newLevel = list._level;\n    var newRoot = list._root;\n\n    // New origin might need creating a higher root.\n    var offsetShift = 0;\n    while (newOrigin + offsetShift < 0) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);\n      newLevel += SHIFT;\n      offsetShift += 1 << newLevel;\n    }\n    if (offsetShift) {\n      newOrigin += offsetShift;\n      oldOrigin += offsetShift;\n      newCapacity += offsetShift;\n      oldCapacity += offsetShift;\n    }\n\n    var oldTailOffset = getTailOffset(oldCapacity);\n    var newTailOffset = getTailOffset(newCapacity);\n\n    // New size might need creating a higher root.\n    while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);\n      newLevel += SHIFT;\n    }\n\n    // Locate or create the new tail.\n    var oldTail = list._tail;\n    var newTail = newTailOffset < oldTailOffset ?\n      listNodeFor(list, newCapacity - 1) :\n      newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;\n\n    // Merge Tail into tree.\n    if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {\n      newRoot = editableVNode(newRoot, owner);\n      var node = newRoot;\n      for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n        var idx = (oldTailOffset >>> level) & MASK;\n        node = node.array[idx] = editableVNode(node.array[idx], owner);\n      }\n      node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n    }\n\n    // If the size has been reduced, there's a chance the tail needs to be trimmed.\n    if (newCapacity < oldCapacity) {\n      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n    }\n\n    // If the new origin is within the tail, then we do not need a root.\n    if (newOrigin >= newTailOffset) {\n      newOrigin -= newTailOffset;\n      newCapacity -= newTailOffset;\n      newLevel = SHIFT;\n      newRoot = null;\n      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n      offsetShift = 0;\n\n      // Identify the new top root node of the subtree of the old root.\n      while (newRoot) {\n        var beginIndex = (newOrigin >>> newLevel) & MASK;\n        if (beginIndex !== (newTailOffset >>> newLevel) & MASK) {\n          break;\n        }\n        if (beginIndex) {\n          offsetShift += (1 << newLevel) * beginIndex;\n        }\n        newLevel -= SHIFT;\n        newRoot = newRoot.array[beginIndex];\n      }\n\n      // Trim the new sides of the new root.\n      if (newRoot && newOrigin > oldOrigin) {\n        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n      }\n      if (newRoot && newTailOffset < oldTailOffset) {\n        newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);\n      }\n      if (offsetShift) {\n        newOrigin -= offsetShift;\n        newCapacity -= offsetShift;\n      }\n    }\n\n    if (list.__ownerID) {\n      list.size = newCapacity - newOrigin;\n      list._origin = newOrigin;\n      list._capacity = newCapacity;\n      list._level = newLevel;\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n  }\n\n  function mergeIntoListWith(list, merger, iterables) {\n    var iters = [];\n    var maxSize = 0;\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = IndexedIterable(value);\n      if (iter.size > maxSize) {\n        maxSize = iter.size;\n      }\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    if (maxSize > list.size) {\n      list = list.setSize(maxSize);\n    }\n    return mergeIntoCollectionWith(list, merger, iters);\n  }\n\n  function getTailOffset(size) {\n    return size < SIZE ? 0 : (((size - 1) >>> SHIFT) << SHIFT);\n  }\n\n  createClass(OrderedMap, Map);\n\n    // @pragma Construction\n\n    function OrderedMap(value) {\n      return value === null || value === undefined ? emptyOrderedMap() :\n        isOrderedMap(value) ? value :\n        emptyOrderedMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    OrderedMap.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedMap.prototype.toString = function() {\n      return this.__toString('OrderedMap {', '}');\n    };\n\n    // @pragma Access\n\n    OrderedMap.prototype.get = function(k, notSetValue) {\n      var index = this._map.get(k);\n      return index !== undefined ? this._list.get(index)[1] : notSetValue;\n    };\n\n    // @pragma Modification\n\n    OrderedMap.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._map.clear();\n        this._list.clear();\n        return this;\n      }\n      return emptyOrderedMap();\n    };\n\n    OrderedMap.prototype.set = function(k, v) {\n      return updateOrderedMap(this, k, v);\n    };\n\n    OrderedMap.prototype.remove = function(k) {\n      return updateOrderedMap(this, k, NOT_SET);\n    };\n\n    OrderedMap.prototype.wasAltered = function() {\n      return this._map.wasAltered() || this._list.wasAltered();\n    };\n\n    OrderedMap.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._list.__iterate(\n        function(entry ) {return entry && fn(entry[1], entry[0], this$0)},\n        reverse\n      );\n    };\n\n    OrderedMap.prototype.__iterator = function(type, reverse) {\n      return this._list.fromEntrySeq().__iterator(type, reverse);\n    };\n\n    OrderedMap.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      var newList = this._list.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        this._list = newList;\n        return this;\n      }\n      return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n    };\n\n\n  function isOrderedMap(maybeOrderedMap) {\n    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n  }\n\n  OrderedMap.isOrderedMap = isOrderedMap;\n\n  OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\n  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\n\n\n  function makeOrderedMap(map, list, ownerID, hash) {\n    var omap = Object.create(OrderedMap.prototype);\n    omap.size = map ? map.size : 0;\n    omap._map = map;\n    omap._list = list;\n    omap.__ownerID = ownerID;\n    omap.__hash = hash;\n    return omap;\n  }\n\n  var EMPTY_ORDERED_MAP;\n  function emptyOrderedMap() {\n    return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n  }\n\n  function updateOrderedMap(omap, k, v) {\n    var map = omap._map;\n    var list = omap._list;\n    var i = map.get(k);\n    var has = i !== undefined;\n    var newMap;\n    var newList;\n    if (v === NOT_SET) { // removed\n      if (!has) {\n        return omap;\n      }\n      if (list.size >= SIZE && list.size >= map.size * 2) {\n        newList = list.filter(function(entry, idx)  {return entry !== undefined && i !== idx});\n        newMap = newList.toKeyedSeq().map(function(entry ) {return entry[0]}).flip().toMap();\n        if (omap.__ownerID) {\n          newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n        }\n      } else {\n        newMap = map.remove(k);\n        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n      }\n    } else {\n      if (has) {\n        if (v === list.get(i)[1]) {\n          return omap;\n        }\n        newMap = map;\n        newList = list.set(i, [k, v]);\n      } else {\n        newMap = map.set(k, list.size);\n        newList = list.set(list.size, [k, v]);\n      }\n    }\n    if (omap.__ownerID) {\n      omap.size = newMap.size;\n      omap._map = newMap;\n      omap._list = newList;\n      omap.__hash = undefined;\n      return omap;\n    }\n    return makeOrderedMap(newMap, newList);\n  }\n\n  createClass(ToKeyedSequence, KeyedSeq);\n    function ToKeyedSequence(indexed, useKeys) {\n      this._iter = indexed;\n      this._useKeys = useKeys;\n      this.size = indexed.size;\n    }\n\n    ToKeyedSequence.prototype.get = function(key, notSetValue) {\n      return this._iter.get(key, notSetValue);\n    };\n\n    ToKeyedSequence.prototype.has = function(key) {\n      return this._iter.has(key);\n    };\n\n    ToKeyedSequence.prototype.valueSeq = function() {\n      return this._iter.valueSeq();\n    };\n\n    ToKeyedSequence.prototype.reverse = function() {var this$0 = this;\n      var reversedSequence = reverseFactory(this, true);\n      if (!this._useKeys) {\n        reversedSequence.valueSeq = function()  {return this$0._iter.toSeq().reverse()};\n      }\n      return reversedSequence;\n    };\n\n    ToKeyedSequence.prototype.map = function(mapper, context) {var this$0 = this;\n      var mappedSequence = mapFactory(this, mapper, context);\n      if (!this._useKeys) {\n        mappedSequence.valueSeq = function()  {return this$0._iter.toSeq().map(mapper, context)};\n      }\n      return mappedSequence;\n    };\n\n    ToKeyedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var ii;\n      return this._iter.__iterate(\n        this._useKeys ?\n          function(v, k)  {return fn(v, k, this$0)} :\n          ((ii = reverse ? resolveSize(this) : 0),\n            function(v ) {return fn(v, reverse ? --ii : ii++, this$0)}),\n        reverse\n      );\n    };\n\n    ToKeyedSequence.prototype.__iterator = function(type, reverse) {\n      if (this._useKeys) {\n        return this._iter.__iterator(type, reverse);\n      }\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var ii = reverse ? resolveSize(this) : 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, reverse ? --ii : ii++, step.value, step);\n      });\n    };\n\n  ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(ToIndexedSequence, IndexedSeq);\n    function ToIndexedSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToIndexedSequence.prototype.includes = function(value) {\n      return this._iter.includes(value);\n    };\n\n    ToIndexedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      return this._iter.__iterate(function(v ) {return fn(v, iterations++, this$0)}, reverse);\n    };\n\n    ToIndexedSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, iterations++, step.value, step)\n      });\n    };\n\n\n\n  createClass(ToSetSequence, SetSeq);\n    function ToSetSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToSetSequence.prototype.has = function(key) {\n      return this._iter.includes(key);\n    };\n\n    ToSetSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(v ) {return fn(v, v, this$0)}, reverse);\n    };\n\n    ToSetSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, step.value, step.value, step);\n      });\n    };\n\n\n\n  createClass(FromEntriesSequence, KeyedSeq);\n    function FromEntriesSequence(entries) {\n      this._iter = entries;\n      this.size = entries.size;\n    }\n\n    FromEntriesSequence.prototype.entrySeq = function() {\n      return this._iter.toSeq();\n    };\n\n    FromEntriesSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(entry ) {\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedIterable = isIterable(entry);\n          return fn(\n            indexedIterable ? entry.get(1) : entry[1],\n            indexedIterable ? entry.get(0) : entry[0],\n            this$0\n          );\n        }\n      }, reverse);\n    };\n\n    FromEntriesSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          // Check if entry exists first so array access doesn't throw for holes\n          // in the parent iteration.\n          if (entry) {\n            validateEntry(entry);\n            var indexedIterable = isIterable(entry);\n            return iteratorValue(\n              type,\n              indexedIterable ? entry.get(0) : entry[0],\n              indexedIterable ? entry.get(1) : entry[1],\n              step\n            );\n          }\n        }\n      });\n    };\n\n\n  ToIndexedSequence.prototype.cacheResult =\n  ToKeyedSequence.prototype.cacheResult =\n  ToSetSequence.prototype.cacheResult =\n  FromEntriesSequence.prototype.cacheResult =\n    cacheResultThrough;\n\n\n  function flipFactory(iterable) {\n    var flipSequence = makeSequence(iterable);\n    flipSequence._iter = iterable;\n    flipSequence.size = iterable.size;\n    flipSequence.flip = function()  {return iterable};\n    flipSequence.reverse = function () {\n      var reversedSequence = iterable.reverse.apply(this); // super.reverse()\n      reversedSequence.flip = function()  {return iterable.reverse()};\n      return reversedSequence;\n    };\n    flipSequence.has = function(key ) {return iterable.includes(key)};\n    flipSequence.includes = function(key ) {return iterable.has(key)};\n    flipSequence.cacheResult = cacheResultThrough;\n    flipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(k, v, this$0) !== false}, reverse);\n    }\n    flipSequence.__iteratorUncached = function(type, reverse) {\n      if (type === ITERATE_ENTRIES) {\n        var iterator = iterable.__iterator(type, reverse);\n        return new Iterator(function()  {\n          var step = iterator.next();\n          if (!step.done) {\n            var k = step.value[0];\n            step.value[0] = step.value[1];\n            step.value[1] = k;\n          }\n          return step;\n        });\n      }\n      return iterable.__iterator(\n        type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n        reverse\n      );\n    }\n    return flipSequence;\n  }\n\n\n  function mapFactory(iterable, mapper, context) {\n    var mappedSequence = makeSequence(iterable);\n    mappedSequence.size = iterable.size;\n    mappedSequence.has = function(key ) {return iterable.has(key)};\n    mappedSequence.get = function(key, notSetValue)  {\n      var v = iterable.get(key, NOT_SET);\n      return v === NOT_SET ?\n        notSetValue :\n        mapper.call(context, v, key, iterable);\n    };\n    mappedSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(\n        function(v, k, c)  {return fn(mapper.call(context, v, k, c), k, this$0) !== false},\n        reverse\n      );\n    }\n    mappedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        return iteratorValue(\n          type,\n          key,\n          mapper.call(context, entry[1], key, iterable),\n          step\n        );\n      });\n    }\n    return mappedSequence;\n  }\n\n\n  function reverseFactory(iterable, useKeys) {\n    var reversedSequence = makeSequence(iterable);\n    reversedSequence._iter = iterable;\n    reversedSequence.size = iterable.size;\n    reversedSequence.reverse = function()  {return iterable};\n    if (iterable.flip) {\n      reversedSequence.flip = function () {\n        var flipSequence = flipFactory(iterable);\n        flipSequence.reverse = function()  {return iterable.flip()};\n        return flipSequence;\n      };\n    }\n    reversedSequence.get = function(key, notSetValue) \n      {return iterable.get(useKeys ? key : -1 - key, notSetValue)};\n    reversedSequence.has = function(key )\n      {return iterable.has(useKeys ? key : -1 - key)};\n    reversedSequence.includes = function(value ) {return iterable.includes(value)};\n    reversedSequence.cacheResult = cacheResultThrough;\n    reversedSequence.__iterate = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(v, k, this$0)}, !reverse);\n    };\n    reversedSequence.__iterator =\n      function(type, reverse)  {return iterable.__iterator(type, !reverse)};\n    return reversedSequence;\n  }\n\n\n  function filterFactory(iterable, predicate, context, useKeys) {\n    var filterSequence = makeSequence(iterable);\n    if (useKeys) {\n      filterSequence.has = function(key ) {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && !!predicate.call(context, v, key, iterable);\n      };\n      filterSequence.get = function(key, notSetValue)  {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && predicate.call(context, v, key, iterable) ?\n          v : notSetValue;\n      };\n    }\n    filterSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      }, reverse);\n      return iterations;\n    };\n    filterSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          var key = entry[0];\n          var value = entry[1];\n          if (predicate.call(context, value, key, iterable)) {\n            return iteratorValue(type, useKeys ? key : iterations++, value, step);\n          }\n        }\n      });\n    }\n    return filterSequence;\n  }\n\n\n  function countByFactory(iterable, grouper, context) {\n    var groups = Map().asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        0,\n        function(a ) {return a + 1}\n      );\n    });\n    return groups.asImmutable();\n  }\n\n\n  function groupByFactory(iterable, grouper, context) {\n    var isKeyedIter = isKeyed(iterable);\n    var groups = (isOrdered(iterable) ? OrderedMap() : Map()).asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        function(a ) {return (a = a || [], a.push(isKeyedIter ? [k, v] : v), a)}\n      );\n    });\n    var coerce = iterableClass(iterable);\n    return groups.map(function(arr ) {return reify(iterable, coerce(arr))});\n  }\n\n\n  function sliceFactory(iterable, begin, end, useKeys) {\n    var originalSize = iterable.size;\n\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      if (end === Infinity) {\n        end = originalSize;\n      } else {\n        end = end | 0;\n      }\n    }\n\n    if (wholeSlice(begin, end, originalSize)) {\n      return iterable;\n    }\n\n    var resolvedBegin = resolveBegin(begin, originalSize);\n    var resolvedEnd = resolveEnd(end, originalSize);\n\n    // begin or end will be NaN if they were provided as negative numbers and\n    // this iterable's size is unknown. In that case, cache first so there is\n    // a known size and these do not resolve to NaN.\n    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n      return sliceFactory(iterable.toSeq().cacheResult(), begin, end, useKeys);\n    }\n\n    // Note: resolvedEnd is undefined when the original sequence's length is\n    // unknown and this slice did not supply an end and should contain all\n    // elements after resolvedBegin.\n    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n    var resolvedSize = resolvedEnd - resolvedBegin;\n    var sliceSize;\n    if (resolvedSize === resolvedSize) {\n      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n    }\n\n    var sliceSeq = makeSequence(iterable);\n\n    // If iterable.size is undefined, the size of the realized sliceSeq is\n    // unknown at this point unless the number of items to slice is 0\n    sliceSeq.size = sliceSize === 0 ? sliceSize : iterable.size && sliceSize || undefined;\n\n    if (!useKeys && isSeq(iterable) && sliceSize >= 0) {\n      sliceSeq.get = function (index, notSetValue) {\n        index = wrapIndex(this, index);\n        return index >= 0 && index < sliceSize ?\n          iterable.get(index + resolvedBegin, notSetValue) :\n          notSetValue;\n      }\n    }\n\n    sliceSeq.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (sliceSize === 0) {\n        return 0;\n      }\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var skipped = 0;\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k)  {\n        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0) !== false &&\n                 iterations !== sliceSize;\n        }\n      });\n      return iterations;\n    };\n\n    sliceSeq.__iteratorUncached = function(type, reverse) {\n      if (sliceSize !== 0 && reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      // Don't bother instantiating parent iterator if taking 0.\n      var iterator = sliceSize !== 0 && iterable.__iterator(type, reverse);\n      var skipped = 0;\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (skipped++ < resolvedBegin) {\n          iterator.next();\n        }\n        if (++iterations > sliceSize) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (useKeys || type === ITERATE_VALUES) {\n          return step;\n        } else if (type === ITERATE_KEYS) {\n          return iteratorValue(type, iterations - 1, undefined, step);\n        } else {\n          return iteratorValue(type, iterations - 1, step.value[1], step);\n        }\n      });\n    }\n\n    return sliceSeq;\n  }\n\n\n  function takeWhileFactory(iterable, predicate, context) {\n    var takeSequence = makeSequence(iterable);\n    takeSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c) \n        {return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$0)}\n      );\n      return iterations;\n    };\n    takeSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterating = true;\n      return new Iterator(function()  {\n        if (!iterating) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var k = entry[0];\n        var v = entry[1];\n        if (!predicate.call(context, v, k, this$0)) {\n          iterating = false;\n          return iteratorDone();\n        }\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return takeSequence;\n  }\n\n\n  function skipWhileFactory(iterable, predicate, context, useKeys) {\n    var skipSequence = makeSequence(iterable);\n    skipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      });\n      return iterations;\n    };\n    skipSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var skipping = true;\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step, k, v;\n        do {\n          step = iterator.next();\n          if (step.done) {\n            if (useKeys || type === ITERATE_VALUES) {\n              return step;\n            } else if (type === ITERATE_KEYS) {\n              return iteratorValue(type, iterations++, undefined, step);\n            } else {\n              return iteratorValue(type, iterations++, step.value[1], step);\n            }\n          }\n          var entry = step.value;\n          k = entry[0];\n          v = entry[1];\n          skipping && (skipping = predicate.call(context, v, k, this$0));\n        } while (skipping);\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return skipSequence;\n  }\n\n\n  function concatFactory(iterable, values) {\n    var isKeyedIterable = isKeyed(iterable);\n    var iters = [iterable].concat(values).map(function(v ) {\n      if (!isIterable(v)) {\n        v = isKeyedIterable ?\n          keyedSeqFromValue(v) :\n          indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedIterable) {\n        v = KeyedIterable(v);\n      }\n      return v;\n    }).filter(function(v ) {return v.size !== 0});\n\n    if (iters.length === 0) {\n      return iterable;\n    }\n\n    if (iters.length === 1) {\n      var singleton = iters[0];\n      if (singleton === iterable ||\n          isKeyedIterable && isKeyed(singleton) ||\n          isIndexed(iterable) && isIndexed(singleton)) {\n        return singleton;\n      }\n    }\n\n    var concatSeq = new ArraySeq(iters);\n    if (isKeyedIterable) {\n      concatSeq = concatSeq.toKeyedSeq();\n    } else if (!isIndexed(iterable)) {\n      concatSeq = concatSeq.toSetSeq();\n    }\n    concatSeq = concatSeq.flatten(true);\n    concatSeq.size = iters.reduce(\n      function(sum, seq)  {\n        if (sum !== undefined) {\n          var size = seq.size;\n          if (size !== undefined) {\n            return sum + size;\n          }\n        }\n      },\n      0\n    );\n    return concatSeq;\n  }\n\n\n  function flattenFactory(iterable, depth, useKeys) {\n    var flatSequence = makeSequence(iterable);\n    flatSequence.__iterateUncached = function(fn, reverse) {\n      var iterations = 0;\n      var stopped = false;\n      function flatDeep(iter, currentDepth) {var this$0 = this;\n        iter.__iterate(function(v, k)  {\n          if ((!depth || currentDepth < depth) && isIterable(v)) {\n            flatDeep(v, currentDepth + 1);\n          } else if (fn(v, useKeys ? k : iterations++, this$0) === false) {\n            stopped = true;\n          }\n          return !stopped;\n        }, reverse);\n      }\n      flatDeep(iterable, 0);\n      return iterations;\n    }\n    flatSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(type, reverse);\n      var stack = [];\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (iterator) {\n          var step = iterator.next();\n          if (step.done !== false) {\n            iterator = stack.pop();\n            continue;\n          }\n          var v = step.value;\n          if (type === ITERATE_ENTRIES) {\n            v = v[1];\n          }\n          if ((!depth || stack.length < depth) && isIterable(v)) {\n            stack.push(iterator);\n            iterator = v.__iterator(type, reverse);\n          } else {\n            return useKeys ? step : iteratorValue(type, iterations++, v, step);\n          }\n        }\n        return iteratorDone();\n      });\n    }\n    return flatSequence;\n  }\n\n\n  function flatMapFactory(iterable, mapper, context) {\n    var coerce = iterableClass(iterable);\n    return iterable.toSeq().map(\n      function(v, k)  {return coerce(mapper.call(context, v, k, iterable))}\n    ).flatten(true);\n  }\n\n\n  function interposeFactory(iterable, separator) {\n    var interposedSequence = makeSequence(iterable);\n    interposedSequence.size = iterable.size && iterable.size * 2 -1;\n    interposedSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k) \n        {return (!iterations || fn(separator, iterations++, this$0) !== false) &&\n        fn(v, iterations++, this$0) !== false},\n        reverse\n      );\n      return iterations;\n    };\n    interposedSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      var step;\n      return new Iterator(function()  {\n        if (!step || iterations % 2) {\n          step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n        }\n        return iterations % 2 ?\n          iteratorValue(type, iterations++, separator) :\n          iteratorValue(type, iterations++, step.value, step);\n      });\n    };\n    return interposedSequence;\n  }\n\n\n  function sortFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    var isKeyedIterable = isKeyed(iterable);\n    var index = 0;\n    var entries = iterable.toSeq().map(\n      function(v, k)  {return [k, v, index++, mapper ? mapper(v, k, iterable) : v]}\n    ).toArray();\n    entries.sort(function(a, b)  {return comparator(a[3], b[3]) || a[2] - b[2]}).forEach(\n      isKeyedIterable ?\n      function(v, i)  { entries[i].length = 2; } :\n      function(v, i)  { entries[i] = v[1]; }\n    );\n    return isKeyedIterable ? KeyedSeq(entries) :\n      isIndexed(iterable) ? IndexedSeq(entries) :\n      SetSeq(entries);\n  }\n\n\n  function maxFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    if (mapper) {\n      var entry = iterable.toSeq()\n        .map(function(v, k)  {return [v, mapper(v, k, iterable)]})\n        .reduce(function(a, b)  {return maxCompare(comparator, a[1], b[1]) ? b : a});\n      return entry && entry[0];\n    } else {\n      return iterable.reduce(function(a, b)  {return maxCompare(comparator, a, b) ? b : a});\n    }\n  }\n\n  function maxCompare(comparator, a, b) {\n    var comp = comparator(b, a);\n    // b is considered the new max if the comparator declares them equal, but\n    // they are not equal and b is in fact a nullish value.\n    return (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) || comp > 0;\n  }\n\n\n  function zipWithFactory(keyIter, zipper, iters) {\n    var zipSequence = makeSequence(keyIter);\n    zipSequence.size = new ArraySeq(iters).map(function(i ) {return i.size}).min();\n    // Note: this a generic base implementation of __iterate in terms of\n    // __iterator which may be more generically useful in the future.\n    zipSequence.__iterate = function(fn, reverse) {\n      /* generic:\n      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        iterations++;\n        if (fn(step.value[1], step.value[0], this) === false) {\n          break;\n        }\n      }\n      return iterations;\n      */\n      // indexed:\n      var iterator = this.__iterator(ITERATE_VALUES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n    zipSequence.__iteratorUncached = function(type, reverse) {\n      var iterators = iters.map(function(i )\n        {return (i = Iterable(i), getIterator(reverse ? i.reverse() : i))}\n      );\n      var iterations = 0;\n      var isDone = false;\n      return new Iterator(function()  {\n        var steps;\n        if (!isDone) {\n          steps = iterators.map(function(i ) {return i.next()});\n          isDone = steps.some(function(s ) {return s.done});\n        }\n        if (isDone) {\n          return iteratorDone();\n        }\n        return iteratorValue(\n          type,\n          iterations++,\n          zipper.apply(null, steps.map(function(s ) {return s.value}))\n        );\n      });\n    };\n    return zipSequence\n  }\n\n\n  // #pragma Helper Functions\n\n  function reify(iter, seq) {\n    return isSeq(iter) ? seq : iter.constructor(seq);\n  }\n\n  function validateEntry(entry) {\n    if (entry !== Object(entry)) {\n      throw new TypeError('Expected [K, V] tuple: ' + entry);\n    }\n  }\n\n  function resolveSize(iter) {\n    assertNotInfinite(iter.size);\n    return ensureSize(iter);\n  }\n\n  function iterableClass(iterable) {\n    return isKeyed(iterable) ? KeyedIterable :\n      isIndexed(iterable) ? IndexedIterable :\n      SetIterable;\n  }\n\n  function makeSequence(iterable) {\n    return Object.create(\n      (\n        isKeyed(iterable) ? KeyedSeq :\n        isIndexed(iterable) ? IndexedSeq :\n        SetSeq\n      ).prototype\n    );\n  }\n\n  function cacheResultThrough() {\n    if (this._iter.cacheResult) {\n      this._iter.cacheResult();\n      this.size = this._iter.size;\n      return this;\n    } else {\n      return Seq.prototype.cacheResult.call(this);\n    }\n  }\n\n  function defaultComparator(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n  function forceIterator(keyPath) {\n    var iter = getIterator(keyPath);\n    if (!iter) {\n      // Array might not be iterable in this environment, so we need a fallback\n      // to our wrapped type.\n      if (!isArrayLike(keyPath)) {\n        throw new TypeError('Expected iterable or array-like: ' + keyPath);\n      }\n      iter = getIterator(Iterable(keyPath));\n    }\n    return iter;\n  }\n\n  createClass(Record, KeyedCollection);\n\n    function Record(defaultValues, name) {\n      var hasInitialized;\n\n      var RecordType = function Record(values) {\n        if (values instanceof RecordType) {\n          return values;\n        }\n        if (!(this instanceof RecordType)) {\n          return new RecordType(values);\n        }\n        if (!hasInitialized) {\n          hasInitialized = true;\n          var keys = Object.keys(defaultValues);\n          setProps(RecordTypePrototype, keys);\n          RecordTypePrototype.size = keys.length;\n          RecordTypePrototype._name = name;\n          RecordTypePrototype._keys = keys;\n          RecordTypePrototype._defaultValues = defaultValues;\n        }\n        this._map = Map(values);\n      };\n\n      var RecordTypePrototype = RecordType.prototype = Object.create(RecordPrototype);\n      RecordTypePrototype.constructor = RecordType;\n\n      return RecordType;\n    }\n\n    Record.prototype.toString = function() {\n      return this.__toString(recordName(this) + ' {', '}');\n    };\n\n    // @pragma Access\n\n    Record.prototype.has = function(k) {\n      return this._defaultValues.hasOwnProperty(k);\n    };\n\n    Record.prototype.get = function(k, notSetValue) {\n      if (!this.has(k)) {\n        return notSetValue;\n      }\n      var defaultVal = this._defaultValues[k];\n      return this._map ? this._map.get(k, defaultVal) : defaultVal;\n    };\n\n    // @pragma Modification\n\n    Record.prototype.clear = function() {\n      if (this.__ownerID) {\n        this._map && this._map.clear();\n        return this;\n      }\n      var RecordType = this.constructor;\n      return RecordType._empty || (RecordType._empty = makeRecord(this, emptyMap()));\n    };\n\n    Record.prototype.set = function(k, v) {\n      if (!this.has(k)) {\n        throw new Error('Cannot set unknown key \"' + k + '\" on ' + recordName(this));\n      }\n      if (this._map && !this._map.has(k)) {\n        var defaultVal = this._defaultValues[k];\n        if (v === defaultVal) {\n          return this;\n        }\n      }\n      var newMap = this._map && this._map.set(k, v);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.remove = function(k) {\n      if (!this.has(k)) {\n        return this;\n      }\n      var newMap = this._map && this._map.remove(k);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Record.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterator(type, reverse);\n    };\n\n    Record.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterate(fn, reverse);\n    };\n\n    Record.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map && this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return makeRecord(this, newMap, ownerID);\n    };\n\n\n  var RecordPrototype = Record.prototype;\n  RecordPrototype[DELETE] = RecordPrototype.remove;\n  RecordPrototype.deleteIn =\n  RecordPrototype.removeIn = MapPrototype.removeIn;\n  RecordPrototype.merge = MapPrototype.merge;\n  RecordPrototype.mergeWith = MapPrototype.mergeWith;\n  RecordPrototype.mergeIn = MapPrototype.mergeIn;\n  RecordPrototype.mergeDeep = MapPrototype.mergeDeep;\n  RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\n  RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  RecordPrototype.setIn = MapPrototype.setIn;\n  RecordPrototype.update = MapPrototype.update;\n  RecordPrototype.updateIn = MapPrototype.updateIn;\n  RecordPrototype.withMutations = MapPrototype.withMutations;\n  RecordPrototype.asMutable = MapPrototype.asMutable;\n  RecordPrototype.asImmutable = MapPrototype.asImmutable;\n\n\n  function makeRecord(likeRecord, map, ownerID) {\n    var record = Object.create(Object.getPrototypeOf(likeRecord));\n    record._map = map;\n    record.__ownerID = ownerID;\n    return record;\n  }\n\n  function recordName(record) {\n    return record._name || record.constructor.name || 'Record';\n  }\n\n  function setProps(prototype, names) {\n    try {\n      names.forEach(setProp.bind(undefined, prototype));\n    } catch (error) {\n      // Object.defineProperty failed. Probably IE8.\n    }\n  }\n\n  function setProp(prototype, name) {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      }\n    });\n  }\n\n  createClass(Set, SetCollection);\n\n    // @pragma Construction\n\n    function Set(value) {\n      return value === null || value === undefined ? emptySet() :\n        isSet(value) && !isOrdered(value) ? value :\n        emptySet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    Set.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Set.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    Set.prototype.toString = function() {\n      return this.__toString('Set {', '}');\n    };\n\n    // @pragma Access\n\n    Set.prototype.has = function(value) {\n      return this._map.has(value);\n    };\n\n    // @pragma Modification\n\n    Set.prototype.add = function(value) {\n      return updateSet(this, this._map.set(value, true));\n    };\n\n    Set.prototype.remove = function(value) {\n      return updateSet(this, this._map.remove(value));\n    };\n\n    Set.prototype.clear = function() {\n      return updateSet(this, this._map.clear());\n    };\n\n    // @pragma Composition\n\n    Set.prototype.union = function() {var iters = SLICE$0.call(arguments, 0);\n      iters = iters.filter(function(x ) {return x.size !== 0});\n      if (iters.length === 0) {\n        return this;\n      }\n      if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n        return this.constructor(iters[0]);\n      }\n      return this.withMutations(function(set ) {\n        for (var ii = 0; ii < iters.length; ii++) {\n          SetIterable(iters[ii]).forEach(function(value ) {return set.add(value)});\n        }\n      });\n    };\n\n    Set.prototype.intersect = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (!iters.every(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.subtract = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (iters.some(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.merge = function() {\n      return this.union.apply(this, arguments);\n    };\n\n    Set.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return this.union.apply(this, iters);\n    };\n\n    Set.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator));\n    };\n\n    Set.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator, mapper));\n    };\n\n    Set.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Set.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._map.__iterate(function(_, k)  {return fn(k, k, this$0)}, reverse);\n    };\n\n    Set.prototype.__iterator = function(type, reverse) {\n      return this._map.map(function(_, k)  {return k}).__iterator(type, reverse);\n    };\n\n    Set.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return this.__make(newMap, ownerID);\n    };\n\n\n  function isSet(maybeSet) {\n    return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n  }\n\n  Set.isSet = isSet;\n\n  var IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\n\n  var SetPrototype = Set.prototype;\n  SetPrototype[IS_SET_SENTINEL] = true;\n  SetPrototype[DELETE] = SetPrototype.remove;\n  SetPrototype.mergeDeep = SetPrototype.merge;\n  SetPrototype.mergeDeepWith = SetPrototype.mergeWith;\n  SetPrototype.withMutations = MapPrototype.withMutations;\n  SetPrototype.asMutable = MapPrototype.asMutable;\n  SetPrototype.asImmutable = MapPrototype.asImmutable;\n\n  SetPrototype.__empty = emptySet;\n  SetPrototype.__make = makeSet;\n\n  function updateSet(set, newMap) {\n    if (set.__ownerID) {\n      set.size = newMap.size;\n      set._map = newMap;\n      return set;\n    }\n    return newMap === set._map ? set :\n      newMap.size === 0 ? set.__empty() :\n      set.__make(newMap);\n  }\n\n  function makeSet(map, ownerID) {\n    var set = Object.create(SetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_SET;\n  function emptySet() {\n    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n  }\n\n  createClass(OrderedSet, Set);\n\n    // @pragma Construction\n\n    function OrderedSet(value) {\n      return value === null || value === undefined ? emptyOrderedSet() :\n        isOrderedSet(value) ? value :\n        emptyOrderedSet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    OrderedSet.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedSet.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    OrderedSet.prototype.toString = function() {\n      return this.__toString('OrderedSet {', '}');\n    };\n\n\n  function isOrderedSet(maybeOrderedSet) {\n    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n  }\n\n  OrderedSet.isOrderedSet = isOrderedSet;\n\n  var OrderedSetPrototype = OrderedSet.prototype;\n  OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\n\n  OrderedSetPrototype.__empty = emptyOrderedSet;\n  OrderedSetPrototype.__make = makeOrderedSet;\n\n  function makeOrderedSet(map, ownerID) {\n    var set = Object.create(OrderedSetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_ORDERED_SET;\n  function emptyOrderedSet() {\n    return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n  }\n\n  createClass(Stack, IndexedCollection);\n\n    // @pragma Construction\n\n    function Stack(value) {\n      return value === null || value === undefined ? emptyStack() :\n        isStack(value) ? value :\n        emptyStack().unshiftAll(value);\n    }\n\n    Stack.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Stack.prototype.toString = function() {\n      return this.__toString('Stack [', ']');\n    };\n\n    // @pragma Access\n\n    Stack.prototype.get = function(index, notSetValue) {\n      var head = this._head;\n      index = wrapIndex(this, index);\n      while (head && index--) {\n        head = head.next;\n      }\n      return head ? head.value : notSetValue;\n    };\n\n    Stack.prototype.peek = function() {\n      return this._head && this._head.value;\n    };\n\n    // @pragma Modification\n\n    Stack.prototype.push = function(/*...values*/) {\n      if (arguments.length === 0) {\n        return this;\n      }\n      var newSize = this.size + arguments.length;\n      var head = this._head;\n      for (var ii = arguments.length - 1; ii >= 0; ii--) {\n        head = {\n          value: arguments[ii],\n          next: head\n        };\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pushAll = function(iter) {\n      iter = IndexedIterable(iter);\n      if (iter.size === 0) {\n        return this;\n      }\n      assertNotInfinite(iter.size);\n      var newSize = this.size;\n      var head = this._head;\n      iter.reverse().forEach(function(value ) {\n        newSize++;\n        head = {\n          value: value,\n          next: head\n        };\n      });\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pop = function() {\n      return this.slice(1);\n    };\n\n    Stack.prototype.unshift = function(/*...values*/) {\n      return this.push.apply(this, arguments);\n    };\n\n    Stack.prototype.unshiftAll = function(iter) {\n      return this.pushAll(iter);\n    };\n\n    Stack.prototype.shift = function() {\n      return this.pop.apply(this, arguments);\n    };\n\n    Stack.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._head = undefined;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyStack();\n    };\n\n    Stack.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      var resolvedBegin = resolveBegin(begin, this.size);\n      var resolvedEnd = resolveEnd(end, this.size);\n      if (resolvedEnd !== this.size) {\n        // super.slice(begin, end);\n        return IndexedCollection.prototype.slice.call(this, begin, end);\n      }\n      var newSize = this.size - resolvedBegin;\n      var head = this._head;\n      while (resolvedBegin--) {\n        head = head.next;\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    // @pragma Mutability\n\n    Stack.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeStack(this.size, this._head, ownerID, this.__hash);\n    };\n\n    // @pragma Iteration\n\n    Stack.prototype.__iterate = function(fn, reverse) {\n      if (reverse) {\n        return this.reverse().__iterate(fn);\n      }\n      var iterations = 0;\n      var node = this._head;\n      while (node) {\n        if (fn(node.value, iterations++, this) === false) {\n          break;\n        }\n        node = node.next;\n      }\n      return iterations;\n    };\n\n    Stack.prototype.__iterator = function(type, reverse) {\n      if (reverse) {\n        return this.reverse().__iterator(type);\n      }\n      var iterations = 0;\n      var node = this._head;\n      return new Iterator(function()  {\n        if (node) {\n          var value = node.value;\n          node = node.next;\n          return iteratorValue(type, iterations++, value);\n        }\n        return iteratorDone();\n      });\n    };\n\n\n  function isStack(maybeStack) {\n    return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n  }\n\n  Stack.isStack = isStack;\n\n  var IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\n\n  var StackPrototype = Stack.prototype;\n  StackPrototype[IS_STACK_SENTINEL] = true;\n  StackPrototype.withMutations = MapPrototype.withMutations;\n  StackPrototype.asMutable = MapPrototype.asMutable;\n  StackPrototype.asImmutable = MapPrototype.asImmutable;\n  StackPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n  function makeStack(size, head, ownerID, hash) {\n    var map = Object.create(StackPrototype);\n    map.size = size;\n    map._head = head;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_STACK;\n  function emptyStack() {\n    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n  }\n\n  /**\n   * Contributes additional methods to a constructor\n   */\n  function mixin(ctor, methods) {\n    var keyCopier = function(key ) { ctor.prototype[key] = methods[key]; };\n    Object.keys(methods).forEach(keyCopier);\n    Object.getOwnPropertySymbols &&\n      Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n    return ctor;\n  }\n\n  Iterable.Iterator = Iterator;\n\n  mixin(Iterable, {\n\n    // ### Conversion to other types\n\n    toArray: function() {\n      assertNotInfinite(this.size);\n      var array = new Array(this.size || 0);\n      this.valueSeq().__iterate(function(v, i)  { array[i] = v; });\n      return array;\n    },\n\n    toIndexedSeq: function() {\n      return new ToIndexedSequence(this);\n    },\n\n    toJS: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJS === 'function' ? value.toJS() : value}\n      ).__toJS();\n    },\n\n    toJSON: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJSON === 'function' ? value.toJSON() : value}\n      ).__toJS();\n    },\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, true);\n    },\n\n    toMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Map(this.toKeyedSeq());\n    },\n\n    toObject: function() {\n      assertNotInfinite(this.size);\n      var object = {};\n      this.__iterate(function(v, k)  { object[k] = v; });\n      return object;\n    },\n\n    toOrderedMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedMap(this.toKeyedSeq());\n    },\n\n    toOrderedSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Set(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSetSeq: function() {\n      return new ToSetSequence(this);\n    },\n\n    toSeq: function() {\n      return isIndexed(this) ? this.toIndexedSeq() :\n        isKeyed(this) ? this.toKeyedSeq() :\n        this.toSetSeq();\n    },\n\n    toStack: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Stack(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toList: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return List(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n\n    // ### Common JavaScript methods and properties\n\n    toString: function() {\n      return '[Iterable]';\n    },\n\n    __toString: function(head, tail) {\n      if (this.size === 0) {\n        return head + tail;\n      }\n      return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    concat: function() {var values = SLICE$0.call(arguments, 0);\n      return reify(this, concatFactory(this, values));\n    },\n\n    includes: function(searchValue) {\n      return this.some(function(value ) {return is(value, searchValue)});\n    },\n\n    entries: function() {\n      return this.__iterator(ITERATE_ENTRIES);\n    },\n\n    every: function(predicate, context) {\n      assertNotInfinite(this.size);\n      var returnValue = true;\n      this.__iterate(function(v, k, c)  {\n        if (!predicate.call(context, v, k, c)) {\n          returnValue = false;\n          return false;\n        }\n      });\n      return returnValue;\n    },\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, true));\n    },\n\n    find: function(predicate, context, notSetValue) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[1] : notSetValue;\n    },\n\n    forEach: function(sideEffect, context) {\n      assertNotInfinite(this.size);\n      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n    },\n\n    join: function(separator) {\n      assertNotInfinite(this.size);\n      separator = separator !== undefined ? '' + separator : ',';\n      var joined = '';\n      var isFirst = true;\n      this.__iterate(function(v ) {\n        isFirst ? (isFirst = false) : (joined += separator);\n        joined += v !== null && v !== undefined ? v.toString() : '';\n      });\n      return joined;\n    },\n\n    keys: function() {\n      return this.__iterator(ITERATE_KEYS);\n    },\n\n    map: function(mapper, context) {\n      return reify(this, mapFactory(this, mapper, context));\n    },\n\n    reduce: function(reducer, initialReduction, context) {\n      assertNotInfinite(this.size);\n      var reduction;\n      var useFirst;\n      if (arguments.length < 2) {\n        useFirst = true;\n      } else {\n        reduction = initialReduction;\n      }\n      this.__iterate(function(v, k, c)  {\n        if (useFirst) {\n          useFirst = false;\n          reduction = v;\n        } else {\n          reduction = reducer.call(context, reduction, v, k, c);\n        }\n      });\n      return reduction;\n    },\n\n    reduceRight: function(reducer, initialReduction, context) {\n      var reversed = this.toKeyedSeq().reverse();\n      return reversed.reduce.apply(reversed, arguments);\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, true));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, true));\n    },\n\n    some: function(predicate, context) {\n      return !this.every(not(predicate), context);\n    },\n\n    sort: function(comparator) {\n      return reify(this, sortFactory(this, comparator));\n    },\n\n    values: function() {\n      return this.__iterator(ITERATE_VALUES);\n    },\n\n\n    // ### More sequential methods\n\n    butLast: function() {\n      return this.slice(0, -1);\n    },\n\n    isEmpty: function() {\n      return this.size !== undefined ? this.size === 0 : !this.some(function()  {return true});\n    },\n\n    count: function(predicate, context) {\n      return ensureSize(\n        predicate ? this.toSeq().filter(predicate, context) : this\n      );\n    },\n\n    countBy: function(grouper, context) {\n      return countByFactory(this, grouper, context);\n    },\n\n    equals: function(other) {\n      return deepEqual(this, other);\n    },\n\n    entrySeq: function() {\n      var iterable = this;\n      if (iterable._cache) {\n        // We cache as an entries array, so we can just return the cache!\n        return new ArraySeq(iterable._cache);\n      }\n      var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();\n      entriesSequence.fromEntrySeq = function()  {return iterable.toSeq()};\n      return entriesSequence;\n    },\n\n    filterNot: function(predicate, context) {\n      return this.filter(not(predicate), context);\n    },\n\n    findEntry: function(predicate, context, notSetValue) {\n      var found = notSetValue;\n      this.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          found = [k, v];\n          return false;\n        }\n      });\n      return found;\n    },\n\n    findKey: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry && entry[0];\n    },\n\n    findLast: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n    },\n\n    findLastEntry: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().findEntry(predicate, context, notSetValue);\n    },\n\n    findLastKey: function(predicate, context) {\n      return this.toKeyedSeq().reverse().findKey(predicate, context);\n    },\n\n    first: function() {\n      return this.find(returnTrue);\n    },\n\n    flatMap: function(mapper, context) {\n      return reify(this, flatMapFactory(this, mapper, context));\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, true));\n    },\n\n    fromEntrySeq: function() {\n      return new FromEntriesSequence(this);\n    },\n\n    get: function(searchKey, notSetValue) {\n      return this.find(function(_, key)  {return is(key, searchKey)}, undefined, notSetValue);\n    },\n\n    getIn: function(searchKeyPath, notSetValue) {\n      var nested = this;\n      // Note: in an ES6 environment, we would prefer:\n      // for (var key of searchKeyPath) {\n      var iter = forceIterator(searchKeyPath);\n      var step;\n      while (!(step = iter.next()).done) {\n        var key = step.value;\n        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n        if (nested === NOT_SET) {\n          return notSetValue;\n        }\n      }\n      return nested;\n    },\n\n    groupBy: function(grouper, context) {\n      return groupByFactory(this, grouper, context);\n    },\n\n    has: function(searchKey) {\n      return this.get(searchKey, NOT_SET) !== NOT_SET;\n    },\n\n    hasIn: function(searchKeyPath) {\n      return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n    },\n\n    isSubset: function(iter) {\n      iter = typeof iter.includes === 'function' ? iter : Iterable(iter);\n      return this.every(function(value ) {return iter.includes(value)});\n    },\n\n    isSuperset: function(iter) {\n      iter = typeof iter.isSubset === 'function' ? iter : Iterable(iter);\n      return iter.isSubset(this);\n    },\n\n    keyOf: function(searchValue) {\n      return this.findKey(function(value ) {return is(value, searchValue)});\n    },\n\n    keySeq: function() {\n      return this.toSeq().map(keyMapper).toIndexedSeq();\n    },\n\n    last: function() {\n      return this.toSeq().reverse().first();\n    },\n\n    lastKeyOf: function(searchValue) {\n      return this.toKeyedSeq().reverse().keyOf(searchValue);\n    },\n\n    max: function(comparator) {\n      return maxFactory(this, comparator);\n    },\n\n    maxBy: function(mapper, comparator) {\n      return maxFactory(this, comparator, mapper);\n    },\n\n    min: function(comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);\n    },\n\n    minBy: function(mapper, comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);\n    },\n\n    rest: function() {\n      return this.slice(1);\n    },\n\n    skip: function(amount) {\n      return this.slice(Math.max(0, amount));\n    },\n\n    skipLast: function(amount) {\n      return reify(this, this.toSeq().reverse().skip(amount).reverse());\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, true));\n    },\n\n    skipUntil: function(predicate, context) {\n      return this.skipWhile(not(predicate), context);\n    },\n\n    sortBy: function(mapper, comparator) {\n      return reify(this, sortFactory(this, comparator, mapper));\n    },\n\n    take: function(amount) {\n      return this.slice(0, Math.max(0, amount));\n    },\n\n    takeLast: function(amount) {\n      return reify(this, this.toSeq().reverse().take(amount).reverse());\n    },\n\n    takeWhile: function(predicate, context) {\n      return reify(this, takeWhileFactory(this, predicate, context));\n    },\n\n    takeUntil: function(predicate, context) {\n      return this.takeWhile(not(predicate), context);\n    },\n\n    valueSeq: function() {\n      return this.toIndexedSeq();\n    },\n\n\n    // ### Hashable Object\n\n    hashCode: function() {\n      return this.__hash || (this.__hash = hashIterable(this));\n    }\n\n\n    // ### Internal\n\n    // abstract __iterate(fn, reverse)\n\n    // abstract __iterator(type, reverse)\n  });\n\n  // var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  // var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  // var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  // var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  var IterablePrototype = Iterable.prototype;\n  IterablePrototype[IS_ITERABLE_SENTINEL] = true;\n  IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;\n  IterablePrototype.__toJS = IterablePrototype.toArray;\n  IterablePrototype.__toStringMapper = quoteString;\n  IterablePrototype.inspect =\n  IterablePrototype.toSource = function() { return this.toString(); };\n  IterablePrototype.chain = IterablePrototype.flatMap;\n  IterablePrototype.contains = IterablePrototype.includes;\n\n  mixin(KeyedIterable, {\n\n    // ### More sequential methods\n\n    flip: function() {\n      return reify(this, flipFactory(this));\n    },\n\n    mapEntries: function(mapper, context) {var this$0 = this;\n      var iterations = 0;\n      return reify(this,\n        this.toSeq().map(\n          function(v, k)  {return mapper.call(context, [k, v], iterations++, this$0)}\n        ).fromEntrySeq()\n      );\n    },\n\n    mapKeys: function(mapper, context) {var this$0 = this;\n      return reify(this,\n        this.toSeq().flip().map(\n          function(k, v)  {return mapper.call(context, k, v, this$0)}\n        ).flip()\n      );\n    }\n\n  });\n\n  var KeyedIterablePrototype = KeyedIterable.prototype;\n  KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;\n  KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;\n  KeyedIterablePrototype.__toJS = IterablePrototype.toObject;\n  KeyedIterablePrototype.__toStringMapper = function(v, k)  {return JSON.stringify(k) + ': ' + quoteString(v)};\n\n\n\n  mixin(IndexedIterable, {\n\n    // ### Conversion to other types\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, false);\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, false));\n    },\n\n    findIndex: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    indexOf: function(searchValue) {\n      var key = this.keyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    lastIndexOf: function(searchValue) {\n      var key = this.lastKeyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, false));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, false));\n    },\n\n    splice: function(index, removeNum /*, ...values*/) {\n      var numArgs = arguments.length;\n      removeNum = Math.max(removeNum | 0, 0);\n      if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n        return this;\n      }\n      // If index is negative, it should resolve relative to the size of the\n      // collection. However size may be expensive to compute if not cached, so\n      // only call count() if the number is in fact negative.\n      index = resolveBegin(index, index < 0 ? this.count() : this.size);\n      var spliced = this.slice(0, index);\n      return reify(\n        this,\n        numArgs === 1 ?\n          spliced :\n          spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n      );\n    },\n\n\n    // ### More collection methods\n\n    findLastIndex: function(predicate, context) {\n      var entry = this.findLastEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    first: function() {\n      return this.get(0);\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, false));\n    },\n\n    get: function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return (index < 0 || (this.size === Infinity ||\n          (this.size !== undefined && index > this.size))) ?\n        notSetValue :\n        this.find(function(_, key)  {return key === index}, undefined, notSetValue);\n    },\n\n    has: function(index) {\n      index = wrapIndex(this, index);\n      return index >= 0 && (this.size !== undefined ?\n        this.size === Infinity || index < this.size :\n        this.indexOf(index) !== -1\n      );\n    },\n\n    interpose: function(separator) {\n      return reify(this, interposeFactory(this, separator));\n    },\n\n    interleave: function(/*...iterables*/) {\n      var iterables = [this].concat(arrCopy(arguments));\n      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, iterables);\n      var interleaved = zipped.flatten(true);\n      if (zipped.size) {\n        interleaved.size = zipped.size * iterables.length;\n      }\n      return reify(this, interleaved);\n    },\n\n    keySeq: function() {\n      return Range(0, this.size);\n    },\n\n    last: function() {\n      return this.get(-1);\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, false));\n    },\n\n    zip: function(/*, ...iterables */) {\n      var iterables = [this].concat(arrCopy(arguments));\n      return reify(this, zipWithFactory(this, defaultZipper, iterables));\n    },\n\n    zipWith: function(zipper/*, ...iterables */) {\n      var iterables = arrCopy(arguments);\n      iterables[0] = this;\n      return reify(this, zipWithFactory(this, zipper, iterables));\n    }\n\n  });\n\n  IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;\n  IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n\n  mixin(SetIterable, {\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    get: function(value, notSetValue) {\n      return this.has(value) ? value : notSetValue;\n    },\n\n    includes: function(value) {\n      return this.has(value);\n    },\n\n\n    // ### More sequential methods\n\n    keySeq: function() {\n      return this.valueSeq();\n    }\n\n  });\n\n  SetIterable.prototype.has = IterablePrototype.includes;\n  SetIterable.prototype.contains = SetIterable.prototype.includes;\n\n\n  // Mixin subclasses\n\n  mixin(KeyedSeq, KeyedIterable.prototype);\n  mixin(IndexedSeq, IndexedIterable.prototype);\n  mixin(SetSeq, SetIterable.prototype);\n\n  mixin(KeyedCollection, KeyedIterable.prototype);\n  mixin(IndexedCollection, IndexedIterable.prototype);\n  mixin(SetCollection, SetIterable.prototype);\n\n\n  // #pragma Helper functions\n\n  function keyMapper(v, k) {\n    return k;\n  }\n\n  function entryMapper(v, k) {\n    return [k, v];\n  }\n\n  function not(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    }\n  }\n\n  function neg(predicate) {\n    return function() {\n      return -predicate.apply(this, arguments);\n    }\n  }\n\n  function quoteString(value) {\n    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n  }\n\n  function defaultZipper() {\n    return arrCopy(arguments);\n  }\n\n  function defaultNegComparator(a, b) {\n    return a < b ? 1 : a > b ? -1 : 0;\n  }\n\n  function hashIterable(iterable) {\n    if (iterable.size === Infinity) {\n      return 0;\n    }\n    var ordered = isOrdered(iterable);\n    var keyed = isKeyed(iterable);\n    var h = ordered ? 1 : 0;\n    var size = iterable.__iterate(\n      keyed ?\n        ordered ?\n          function(v, k)  { h = 31 * h + hashMerge(hash(v), hash(k)) | 0; } :\n          function(v, k)  { h = h + hashMerge(hash(v), hash(k)) | 0; } :\n        ordered ?\n          function(v ) { h = 31 * h + hash(v) | 0; } :\n          function(v ) { h = h + hash(v) | 0; }\n    );\n    return murmurHashOfSize(size, h);\n  }\n\n  function murmurHashOfSize(size, h) {\n    h = imul(h, 0xCC9E2D51);\n    h = imul(h << 15 | h >>> -15, 0x1B873593);\n    h = imul(h << 13 | h >>> -13, 5);\n    h = (h + 0xE6546B64 | 0) ^ size;\n    h = imul(h ^ h >>> 16, 0x85EBCA6B);\n    h = imul(h ^ h >>> 13, 0xC2B2AE35);\n    h = smi(h ^ h >>> 16);\n    return h;\n  }\n\n  function hashMerge(a, b) {\n    return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0; // int\n  }\n\n  var Immutable = {\n\n    Iterable: Iterable,\n\n    Seq: Seq,\n    Collection: Collection,\n    Map: Map,\n    OrderedMap: OrderedMap,\n    List: List,\n    Stack: Stack,\n    Set: Set,\n    OrderedSet: OrderedSet,\n\n    Record: Record,\n    Range: Range,\n    Repeat: Repeat,\n\n    is: is,\n    fromJS: fromJS\n\n  };\n\n  return Immutable;\n\n}));","import { Map } from \"immutable\";\r\n\r\nexport var createState = () => {\r\n    return Map();\r\n}\r\n\r\nexport var isValueExist = (val: any) => {\r\n    return val !== void 0;\r\n}\r\n\r\n\r\n","import { Map } from \"immutable\";\r\nimport { createState } from \"../utils/stateUtils\";\r\n\r\nexport class DirectorData {\r\n    public static state: Map<any, any> = createState();\r\n}\r\n","import { registerClass } from \"../../../definition/typescript/decorator/registerClass\";\r\nimport {\r\n    addChild,\r\n    addComponent, create, dispose, disposeComponent, getComponent, getTransform, hasChild, hasComponent, initGameObject as initGameObjectSystem,\r\n    isAlive, removeChild\r\n} from \"./GameObjectSystem\";\r\nimport { GameObjectData } from \"./GameObjectData\";\r\nimport { Component } from \"../../../component/Component\";\r\nimport { getTypeIDFromClass } from \"../../../component/ComponentTypeIDManager\";\r\nimport { ThreeDTransformData } from \"../../../component/transform/ThreeDTransformData\";\r\nimport { create as createThreeDTransform } from \"../../../component/transform/ThreeDTransformSystem\";\r\nimport { requireCheckFunc } from \"../../../definition/typescript/decorator/contract\";\r\nimport { checkGameObjectShouldAlive } from \"../../../utils/contractUtils\";\r\nimport { getState } from \"../../DirectorSystem\";\r\nimport { DirectorData } from \"../../DirectorData\";\r\n\r\n@registerClass(\"GameObject\")\r\nexport class GameObject implements IUIDEntity {\r\n    public uid: number = null;\r\n}\r\n\r\nexport var createGameObject = () => create(createThreeDTransform(ThreeDTransformData), GameObjectData);\r\n\r\nexport var addGameObjectComponent = requireCheckFunc((gameObject: GameObject, component: Component) => {\r\n    checkGameObjectShouldAlive(gameObject, GameObjectData);\r\n}, (gameObject: GameObject, component: Component) => {\r\n    addComponent(gameObject, component, GameObjectData);\r\n})\r\n\r\nexport var disposeGameObject = requireCheckFunc((gameObject: GameObject) => {\r\n    checkGameObjectShouldAlive(gameObject, GameObjectData);\r\n}, (gameObject: GameObject) => {\r\n    dispose(gameObject, ThreeDTransformData, GameObjectData);\r\n})\r\n\r\nexport var initGameObject = requireCheckFunc((gameObject: GameObject, component: Component) => {\r\n    checkGameObjectShouldAlive(gameObject, GameObjectData);\r\n}, (gameObject: GameObject, component: Component) => {\r\n    initGameObjectSystem(gameObject, getState(DirectorData), GameObjectData);\r\n})\r\n\r\nexport var disposeGameObjectComponent = requireCheckFunc((gameObject: GameObject, component: Component) => {\r\n    checkGameObjectShouldAlive(gameObject, GameObjectData);\r\n}, (gameObject: GameObject, component: Component) => {\r\n    disposeComponent(gameObject, component, GameObjectData);\r\n})\r\n\r\nexport var getGameObjectComponent = requireCheckFunc((gameObject: GameObject, _class: any) => {\r\n    checkGameObjectShouldAlive(gameObject, GameObjectData);\r\n}, (gameObject: GameObject, _class: any) => {\r\n    return getComponent(gameObject, getTypeIDFromClass(_class), GameObjectData);\r\n})\r\n\r\nexport var getGameObjectTransform = (gameObject: GameObject) => {\r\n    return getTransform(gameObject, GameObjectData);\r\n}\r\n\r\nexport var hasGameObjectComponent = requireCheckFunc((gameObject: GameObject, _class: any) => {\r\n    // checkGameObjectShouldAlive(gameObject, GameObjectData);\r\n}, (gameObject: GameObject, _class: any) => {\r\n    return hasComponent(gameObject, getTypeIDFromClass(_class), GameObjectData);\r\n})\r\n\r\nexport var isGameObjectAlive = (gameObject: GameObject) => {\r\n    return isAlive(gameObject, GameObjectData);\r\n}\r\n\r\nexport var addGameObject = requireCheckFunc((gameObject: GameObject, child: GameObject) => {\r\n    checkGameObjectShouldAlive(gameObject, GameObjectData);\r\n}, (gameObject: GameObject, child: GameObject) => {\r\n    addChild(gameObject, child, ThreeDTransformData, GameObjectData);\r\n})\r\n\r\nexport var removeGameObject = requireCheckFunc((gameObject: GameObject, child: GameObject) => {\r\n    checkGameObjectShouldAlive(gameObject, GameObjectData);\r\n}, (gameObject: GameObject, child: GameObject) => {\r\n    removeChild(gameObject, child, ThreeDTransformData, GameObjectData);\r\n})\r\n\r\nexport var hasGameObject = requireCheckFunc((gameObject: GameObject, child: GameObject) => {\r\n    checkGameObjectShouldAlive(gameObject, GameObjectData);\r\n}, (gameObject: GameObject, child: GameObject) => {\r\n    return hasChild(gameObject, child, GameObjectData);\r\n})\r\n\r\nexport interface IUIDEntity {\r\n    uid: number;\r\n}\r\n\r\n","import { EDrawMode } from \"../../renderer/enum/EDrawMode\";\r\nimport { EBufferType } from \"../../renderer/enum/EBufferType\";\r\nimport { ComponentGameObjectMap } from \"../ComponentData\";\r\nimport { Geometry } from \"./Geometry\";\r\nimport { ComponentMap } from \"../ComponentSystem\";\r\n\r\nexport class GeometryData {\r\n    public static index: number = null;\r\n    public static count: number = null;\r\n\r\n    public static verticesMap: GeometryVerticesMap = null;\r\n    public static indicesMap: GeometryIndicesMap = null;\r\n\r\n    public static indexType: EBufferType = null;\r\n    public static indexTypeSize: number = null;\r\n\r\n    public static configDataMap: object = null;\r\n\r\n    public static computeDataFuncMap: GeometryComputeDataFuncMap = null;\r\n\r\n    public static gameObjectMap: ComponentGameObjectMap = null;\r\n\r\n    public static geometryMap: ComponentMap = null;\r\n}\r\n\r\nexport type GeometryVerticesMap = Array<Float32Array>\r\n\r\nexport type GeometryIndicesMap = Array<Uint16Array> | Array<Uint32Array>\r\n\r\nexport type GeometryComputeDataFuncMap = {\r\n    [index: number]: (index: number, GeometryData: any) => GeometryComputeData\r\n}\r\n\r\nexport type GeometryComputeData = {\r\n    vertices: Float32Array;\r\n    indices: Uint16Array | Uint32Array;\r\n}\r\n","export function singleton(isInitWhenCreate: boolean = false) {\r\n    return (target: any) => {\r\n        target._instance = null;\r\n\r\n        if (isInitWhenCreate) {\r\n            target.getInstance = () => {\r\n                if (target._instance === null) {\r\n                    let instance = new target();\r\n\r\n                    target._instance = instance;\r\n\r\n                    instance.initWhenCreate();\r\n                }\r\n\r\n                return target._instance;\r\n            };\r\n        }\r\n        else {\r\n            target.getInstance = () => {\r\n                if (target._instance === null) {\r\n                    target._instance = new target();\r\n                }\r\n\r\n                return target._instance;\r\n            };\r\n        }\r\n    }\r\n}","export const DebugConfig = {\r\n    isTest: false,\r\n    debugCollision: false,\r\n    showDebugPanel: false\r\n};","export enum EScreenSize {\r\n    FULL\r\n}","export class Main {\r\n    public static isTest: boolean = false;\r\n}","import { GPUDetector } from \"./GPUDetector\";\r\nimport { Map } from \"immutable\";\r\n\r\n//todo extract more logic from GPUDetector here\r\n\r\nexport var detect = (state: Map<any, any>) => {\r\n    return GPUDetector.getInstance().detect(state);\r\n}\r\n","import { DebugConfig } from \"../config/DebugConfig\";\r\nimport { EScreenSize } from \"../device/EScreenSize\";\r\nimport { ExtendUtils } from \"wonder-commonlib/dist/es2015/utils/ExtendUtils\";\r\nimport { CompileConfig } from \"../config/CompileConfig\";\r\nimport { createGL, setPixelRatioAndCanvas, setScreen } from \"../device/DeviceManagerSystem\";\r\nimport { IO } from \"wonder-fantasy-land/dist/es2015/types/IO\";\r\nimport { chain, compose, map } from \"../utils/functionalUtils\";\r\nimport { Main } from \"wonder-frp/dist/es2015/core/Main\";\r\nimport { it, requireCheckFunc } from \"../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { fromJS, Map } from \"immutable\";\r\nimport { detect } from \"../device/GPUDetectorSystem\";\r\nimport { trace } from \"../utils/debugUtils\";\r\nimport { MainData } from \"./MainData\";\r\n// import { getIsTest as getIsTestInUtils } from \"../utils/MainUtils\";\r\n\r\nexport var getIsTest = (MainData: any) => {\r\n    return MainData.isTest;\r\n}\r\n\r\nexport var setIsTest = (isTest: boolean, MainData: any) => {\r\n    return IO.of(() => {\r\n        MainData.isTest = isTest;\r\n    });\r\n}\r\n\r\nexport var setLibIsTest = (isTest: boolean) => {\r\n    return IO.of(() => {\r\n        Main.isTest = isTest;\r\n    });\r\n}\r\n\r\nexport var getScreenSize = (state: Map<any, any>) => {\r\n    return state.getIn([\"Main\", \"screenSize\"]);\r\n}\r\n\r\nexport var setConfig = (closeContractTest: boolean, MainData: any, {\r\n    canvasId = \"\",\r\n    isTest = DebugConfig.isTest,\r\n    screenSize = EScreenSize.FULL,\r\n    useDevicePixelRatio = false,\r\n    contextConfig = {\r\n        options: {\r\n            alpha: true,\r\n            depth: true,\r\n            stencil: false,\r\n            antialias: true,\r\n            premultipliedAlpha: true,\r\n            preserveDrawingBuffer: false\r\n        }\r\n    }\r\n}) => {\r\n    return IO.of(() => {\r\n        var _isTest = false;\r\n\r\n        if (CompileConfig.closeContractTest) {\r\n            _isTest = false;\r\n            setLibIsTest(false).run();\r\n        }\r\n        else {\r\n            _isTest = isTest;\r\n            setLibIsTest(isTest).run();\r\n        }\r\n\r\n        setIsTest(_isTest, MainData).run();\r\n\r\n        return fromJS({\r\n            Main: {\r\n                screenSize: screenSize\r\n            },\r\n            config: {\r\n                canvasId: canvasId,\r\n                contextConfig: {\r\n                    options: ExtendUtils.extend({\r\n                        alpha: true,\r\n                        depth: true,\r\n                        stencil: false,\r\n                        antialias: true,\r\n                        premultipliedAlpha: true,\r\n                        preserveDrawingBuffer: false\r\n                    }, contextConfig.options)\r\n                },\r\n                useDevicePixelRatio: useDevicePixelRatio\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\nexport var init = requireCheckFunc((gameState: Map<string, any>, configState: Map<any, any>, DeviceManagerData: any) => {\r\n    it(\"should set config before\", () => {\r\n        expect(configState.get(\"useDevicePixelRatio\")).exist;\r\n    })\r\n}, (gameState: Map<string, any>, configState: Map<any, any>, DeviceManagerData: any) => {\r\n    return compose(map(detect), chain(setPixelRatioAndCanvas(configState.get(\"useDevicePixelRatio\"))), chain(setScreen(DeviceManagerData)), createGL)(configState.get(\"canvasId\"), configState.get(\"contextConfig\"), DeviceManagerData, gameState);\r\n});\r\n\r\n\r\nexport type ContextConfigData = {\r\n    options: ContextConfigOptionsData;\r\n}\r\n\r\nexport type MainConfigData = {\r\n    canvasId?: string;\r\n    isTest?: boolean;\r\n    screenSize?: any;\r\n    useDevicePixelRatio?: boolean;\r\n    contextConfig?: ContextConfigData;\r\n}\r\n\r\n\r\nexport type ContextConfigOptionsData = {\r\n    alpha: boolean;\r\n    depth: boolean;\r\n    stencil: boolean;\r\n    antialias: boolean;\r\n    premultipliedAlpha: boolean;\r\n    preserveDrawingBuffer: boolean;\r\n}\r\n","import { JudgeUtils } from \"./JudgeUtils\";\r\n\r\ndeclare var document: any;\r\n\r\nexport class DomQuery {\r\n    public static create(eleStr: string);\r\n    public static create(dom: HTMLElement);\r\n\r\n    public static create(...args) {\r\n        var obj = new this(args[0]);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _doms: Array<HTMLElement> = null;\r\n\r\n    constructor(eleStr: string);\r\n    constructor(dom: HTMLElement);\r\n\r\n    constructor(...args) {\r\n        if (JudgeUtils.isDom(args[0])) {\r\n            this._doms = [args[0]];\r\n        }\r\n        else if (this._isDomEleStr(args[0])) {\r\n            this._doms = [this._buildDom(args[0])];\r\n        }\r\n        else {\r\n            this._doms = document.querySelectorAll(args[0]);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public get(index) {\r\n        return this._doms[index];\r\n    }\r\n\r\n\r\n    public prepend(eleStr: string);\r\n    public prepend(dom: HTMLElement);\r\n\r\n    public prepend(...args) {\r\n        var targetDom: HTMLElement = null;\r\n\r\n        targetDom = this._buildDom(args[0]);\r\n\r\n        for (let dom of this._doms) {\r\n            if (dom.nodeType === 1) {\r\n                dom.insertBefore(targetDom, dom.firstChild);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public prependTo(eleStr: string) {\r\n        var targetDom: DomQuery = null;\r\n\r\n        targetDom = DomQuery.create(eleStr);\r\n\r\n        for (let dom of this._doms) {\r\n            if (dom.nodeType === 1) {\r\n                targetDom.prepend(dom);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public remove() {\r\n        for (let dom of this._doms) {\r\n            if (dom && dom.parentNode && dom.tagName != 'BODY') {\r\n                dom.parentNode.removeChild(dom);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public css(property: string, value: string) {\r\n        for (let dom of this._doms) {\r\n            dom.style[property] = value;\r\n        }\r\n    }\r\n\r\n    public attr(name: string);\r\n    public attr(name: string, value: string);\r\n\r\n    public attr(...args) {\r\n        if (args.length === 1) {\r\n            let name = args[0];\r\n\r\n            return this.get(0).getAttribute(name);\r\n        }\r\n        else {\r\n            let name = args[0],\r\n                value = args[1];\r\n\r\n            for (let dom of this._doms) {\r\n                dom.setAttribute(name, value);\r\n            }\r\n        }\r\n    }\r\n\r\n    public text(str?: string) {\r\n        var dom = this.get(0);\r\n\r\n        if (str !== void 0) {\r\n            if (dom.textContent !== void 0) {\r\n                dom.textContent = str;\r\n            }\r\n            else {\r\n                dom.innerText = str;\r\n            }\r\n        }\r\n        else {\r\n            return dom.textContent !== void 0 ? dom.textContent : dom.innerText;\r\n        }\r\n    }\r\n\r\n    private _isDomEleStr(eleStr: string) {\r\n        return eleStr.match(/<(\\w+)[^>]*><\\/\\1>/) !== null;\r\n    }\r\n\r\n    private _buildDom(eleStr: string): HTMLElement;\r\n    private _buildDom(dom: HTMLHtmlElement): HTMLElement;\r\n\r\n    private _buildDom(...args): HTMLElement {\r\n        if (JudgeUtils.isString(args[0])) {\r\n            let div = this._createElement(\"div\"),\r\n                eleStr: string = args[0];\r\n\r\n            div.innerHTML = eleStr;\r\n\r\n            return div.firstChild;\r\n        }\r\n\r\n        return args[0];\r\n    }\r\n\r\n    private _createElement(eleStr) {\r\n        return document.createElement(eleStr);\r\n    }\r\n}","import { ContextConfigOptionsData } from \"../core/MainSystem\";\r\nimport { IO } from \"wonder-fantasy-land/dist/es2015/types/IO\";\r\nimport curry from \"wonder-lodash/curry\";\r\nimport { Map } from \"immutable\";\r\n\r\nexport var getCanvas = (state: Map<any, any>): HTMLCanvasElement => {\r\n    return state.getIn([\"View\", \"dom\"]);\r\n}\r\n\r\nexport var setCanvas = curry((dom: HTMLCanvasElement, state: Map<any, any>) => {\r\n    return state.setIn([\"View\", \"dom\"], dom);\r\n});\r\n\r\nexport var getX = curry((dom: HTMLCanvasElement) => {\r\n    return Number(dom.style.left.slice(0, -2));\r\n})\r\n\r\nexport var setX = curry((x: number, dom: HTMLCanvasElement) => {\r\n    return IO.of(() => {\r\n        dom.style.left = `${x}px`;\r\n\r\n        return dom;\r\n    });\r\n})\r\n\r\nexport var getY = curry((dom: HTMLCanvasElement) => {\r\n    return Number(dom.style.top.slice(0, -2));\r\n})\r\n\r\nexport var setY = curry((y: number, dom: HTMLCanvasElement) => {\r\n    return IO.of(() => {\r\n        dom.style.top = `${y}px`;\r\n\r\n        return dom;\r\n    });\r\n})\r\n\r\nexport var getWidth = curry((dom: HTMLCanvasElement) => {\r\n    return dom.clientWidth;\r\n})\r\n\r\nexport var setWidth = curry((width: number, dom: HTMLCanvasElement) => {\r\n    return IO.of(() => {\r\n        dom.width = width;\r\n\r\n        return dom;\r\n    });\r\n})\r\n\r\nexport var getHeight = curry((dom: HTMLCanvasElement) => {\r\n    return dom.clientHeight;\r\n})\r\n\r\nexport var setHeight = curry((height: number, dom: HTMLCanvasElement) => {\r\n    return IO.of(() => {\r\n        dom.height = height;\r\n\r\n        return dom;\r\n    });\r\n})\r\n\r\nexport var getStyleWidth = curry((dom: HTMLCanvasElement) => {\r\n    return dom.style.width;\r\n})\r\n\r\nexport var setStyleWidth = curry((width: string, dom: HTMLCanvasElement) => {\r\n    return IO.of(() => {\r\n        dom.style.width = width;\r\n\r\n        return dom;\r\n    });\r\n})\r\n\r\nexport var getStyleHeight = curry((dom: HTMLCanvasElement) => {\r\n    return dom.style.height;\r\n})\r\n\r\nexport var setStyleHeight = curry((height: string, dom: HTMLCanvasElement) => {\r\n    return IO.of(() => {\r\n        dom.style.height = height;\r\n\r\n        return dom;\r\n    });\r\n})\r\n\r\nexport var initCanvas = (dom: HTMLCanvasElement) => {\r\n    return IO.of(() => {\r\n        dom.style.cssText = \"position:absolute;left:0;top:0;\";\r\n\r\n        return dom;\r\n    });\r\n}\r\n\r\nexport var getContext = (contextConfig: Map<string, any>, dom: HTMLCanvasElement): WebGLRenderingContext => {\r\n    var options: ContextConfigOptionsData = contextConfig.get(\"options\").toObject();\r\n\r\n    return (dom.getContext(\"webgl\", options) || dom.getContext(\"experimental-webgl\", options)) as WebGLRenderingContext;\r\n}\r\n","import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { Vector4 } from \"../math/Vector4\";\r\n\r\n@registerClass(\"RectRegion\")\r\nexport class RectRegion extends Vector4 {\r\n    get width() {\r\n        return this.z;\r\n    }\r\n    set width(width: number) {\r\n        this.z = width;\r\n    }\r\n\r\n    get height() {\r\n        return this.w;\r\n    }\r\n    set height(height: number) {\r\n        this.w = height;\r\n    }\r\n\r\n    public clone(): RectRegion {\r\n        return this.copyHelper(RectRegion.create());\r\n    }\r\n\r\n    public isNotEmpty() {\r\n        return this.x !== 0\r\n            || this.y !== 0\r\n            || this.width !== 0\r\n            || this.height !== 0;\r\n    }\r\n}","import { JudgeUtils } from \"../utils/JudgeUtils\";\r\nimport { Log } from \"../utils/Log\";\r\n\r\ndeclare var global: NodeJS.Global, window: Window;\r\nexport var root: any;\r\n\r\nif (JudgeUtils.isNodeJs() && typeof global != \"undefined\") {\r\n    root = global;\r\n}\r\nelse if (typeof window != \"undefined\") {\r\n    root = window;\r\n}\r\nelse if (typeof self != \"undefined\") {\r\n    /*!\r\n    in web worker\r\n     */\r\n    root = self;\r\n}\r\nelse {\r\n    Log.error(\"no avaliable root!\");\r\n}","import { root } from \"../definition/Variable\";\r\nimport { IO } from \"wonder-fantasy-land/dist/es2015/types/IO\";\r\n\r\nexport var getRootProperty = (propertyName: string) => {\r\n    return IO.of(() => {\r\n        return root[propertyName];\r\n    });\r\n}\r\n","import { ContextConfigData, getScreenSize } from \"../core/MainSystem\";\r\nimport { DomQuery } from \"wonder-commonlib/dist/es2015/utils/DomQuery\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../definition/typescript/decorator/contract\";\r\nimport {\r\n    getContext, initCanvas, setX, setY, setStyleWidth, setStyleHeight,\r\n    setWidth, setHeight, setCanvas, getCanvas\r\n} from \"../structure/ViewSystem\";\r\nimport { IO } from \"wonder-fantasy-land/dist/es2015/types/IO\";\r\nimport curry from \"wonder-lodash/curry\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { EScreenSize } from \"./EScreenSize\";\r\nimport { RectRegion } from \"../structure/RectRegion\";\r\nimport { chain, compose } from \"../utils/functionalUtils\";\r\nimport { DirectorData } from \"../core/DirectorData\";\r\nimport { getRootProperty } from \"../utils/rootUtils\";\r\nimport { Map } from \"immutable\";\r\nimport { trace } from \"../utils/debugUtils\";\r\nimport { isValueExist } from \"../utils/stateUtils\";\r\nimport { Color } from \"../structure/Color\";\r\n\r\nexport var getGL = (DeviceManagerData: any, state: Map<any, any>): WebGLRenderingContext => {\r\n    // return state.getIn([\"DeviceManager\", \"gl\"]);\r\n    return DeviceManagerData.gl;\r\n}\r\n\r\nexport var setGL = curry((gl: WebGLRenderingContext, DeviceManagerData: any, state: Map<any, any>) => {\r\n    // return state.setIn([\"DeviceManager\", \"gl\"], gl);\r\n    DeviceManagerData.gl = gl;\r\n\r\n    return state;\r\n})\r\n\r\nexport var setContextConfig = curry((contextConfig: Map<string, any>, state: Map<any, any>) => {\r\n    return state.setIn([\"DeviceManager\", \"contextConfig\"], contextConfig);\r\n})\r\n\r\nexport var setPixelRatio = (pixelRatio: number, state: Map<any, any>) => {\r\n    return state.setIn([\"DeviceManager\", \"pixelRatio\"], pixelRatio);\r\n}\r\n\r\nexport var getViewport = (state: Map<any, any>) => {\r\n    return state.getIn([\"DeviceManager\", \"viewport\"]);\r\n}\r\n\r\nexport var setViewport = (x: number, y: number, width: number, height: number, state: Map<any, any>) => {\r\n    return state.setIn([\"DeviceManager\", \"viewport\"], RectRegion.create(x, y, width, height));\r\n}\r\n\r\nvar _getCanvas = (DomQuery: any, domId: string) => {\r\n    if (domId !== \"\") {\r\n        return DomQuery.create(_getCanvasId(domId)).get(0);\r\n    }\r\n\r\n    return DomQuery.create(\"<canvas></canvas>\").prependTo(\"body\").get(0);\r\n}\r\n\r\nvar _getCanvasId = ensureFunc((id: string) => {\r\n    it(\"dom id should be #string\", () => {\r\n        expect(/#[^#]+/.test(id)).true;\r\n    });\r\n}, (domId: string) => {\r\n    if (domId.indexOf('#') > -1) {\r\n        return domId;\r\n    }\r\n\r\n    return `#${domId}`;\r\n});\r\n\r\nexport var setPixelRatioAndCanvas = curry((useDevicePixelRatio: boolean, state: Map<any, any>) => {\r\n    return IO.of(() => {\r\n        if (!useDevicePixelRatio) {\r\n            return state;\r\n        }\r\n\r\n        let pixelRatio: number = getRootProperty(\"devicePixelRatio\").run(),\r\n            dom = getCanvas(state);\r\n\r\n        dom.width = Math.round(dom.width * pixelRatio);\r\n        dom.height = Math.round(dom.height * pixelRatio);\r\n\r\n        return setPixelRatio(pixelRatio, state);\r\n    });\r\n})\r\n\r\nexport var createGL = curry((canvasId: string, contextConfig: Map<string, any>, DeviceManagerData: any, state: Map<any, any>) => {\r\n    return IO.of(() => {\r\n        var dom = _getCanvas(DomQuery, canvasId),\r\n            gl = getContext(contextConfig, dom);\r\n\r\n        if (!gl) {\r\n            DomQuery.create(\"<p class='not-support-webgl'></p>\").prependTo(\"body\").text(\"Your device doesn't support WebGL\");\r\n        }\r\n        return compose(setCanvas(dom), setContextConfig(contextConfig), setGL(gl, DeviceManagerData))(state);\r\n    });\r\n})\r\n\r\n/**\r\n * @function\r\n * @name setViewport\r\n * @description Set the active rectangle for rendering on the specified device.\r\n * @param {Number} x The pixel space x-coordinate of the bottom left corner of the viewport.\r\n * @param {Number} y The pixel space y-coordinate of the bottom left corner of the viewport.\r\n * @param {Number} w The width of the viewport in pixels.\r\n * @param {Number} h The height of the viewport in pixels.\r\n */\r\nexport var setViewportOfGL = curry((x: number, y: number, width: number, height: number, DeviceManagerData: any, state: Map<any, any>) => {\r\n    return IO.of(() => {\r\n        var gl = getGL(DeviceManagerData, state),\r\n            viewport = getViewport(state);\r\n\r\n        if (isValueExist(viewport) && viewport.x === x && viewport.y === y && viewport.width === width && viewport.height === height) {\r\n            return state;\r\n        }\r\n\r\n        gl.viewport(x, y, width, height);\r\n\r\n        return setViewport(x, y, width, height, state);\r\n    });\r\n})\r\n\r\nvar _setBodyByScreenSize = (screenSize: EScreenSize) => {\r\n    return IO.of(() => {\r\n        if (screenSize === EScreenSize.FULL) {\r\n            DomQuery.create(\"body\").css(\"margin\", \"0\");\r\n        }\r\n\r\n        return screenSize;\r\n    });\r\n}\r\n\r\nvar _getScreenData = (screenSize: EScreenSize | RectRegion) => {\r\n    return IO.of(() => {\r\n        var x = null,\r\n            y = null,\r\n            width = null,\r\n            height = null,\r\n            styleWidth = null,\r\n            styleHeight = null;\r\n\r\n        if (screenSize === EScreenSize.FULL) {\r\n            x = 0;\r\n            y = 0;\r\n            width = getRootProperty(\"innerWidth\").run();\r\n            height = getRootProperty(\"innerHeight\").run();\r\n            styleWidth = \"100%\";\r\n            styleHeight = \"100%\";\r\n        }\r\n        else {\r\n            x = (screenSize as RectRegion).x || 0;\r\n            y = (screenSize as RectRegion).y || 0;\r\n            width = (screenSize as RectRegion).width || getRootProperty(\"innerWidth\").run();\r\n            height = (screenSize as RectRegion).height || getRootProperty(\"innerHeight\").run();\r\n            styleWidth = `${width}px`;\r\n            styleHeight = `${height}px`;\r\n        }\r\n\r\n        return {\r\n            x: x,\r\n            y: y,\r\n            width: width,\r\n            height: height,\r\n            styleWidth: styleWidth,\r\n            styleHeight: styleHeight\r\n        };\r\n    });\r\n}\r\n\r\nvar _setScreenData = curry((DeviceManagerData: any, state: Map<any, any>, {\r\n    x,\r\n    y,\r\n    width,\r\n    height,\r\n    styleWidth,\r\n    styleHeight\r\n}) => {\r\n    return IO.of(() => {\r\n        compose(chain(setStyleWidth(styleWidth)), chain(setStyleHeight(styleHeight)), chain(setHeight(height)), chain(setWidth(width)), chain(setY(y)), setX(x))(getCanvas(state)).run();\r\n\r\n        return setViewportOfGL(0, 0, width, height, DeviceManagerData, state).run();\r\n    });\r\n})\r\n\r\nexport var setScreen = curry((DeviceManagerData: any, state: Map<any, any>) => {\r\n    return IO.of(requireCheckFunc((state: Map<any, any>) => {\r\n        it(\"should exist MainData.screenSize\", () => {\r\n            expect(getScreenSize(DirectorData.state)).exist;\r\n        });\r\n    }, () => {\r\n        var dom: HTMLCanvasElement = getCanvas(state);\r\n\r\n        initCanvas(dom).run();\r\n\r\n        return compose(chain(_setScreenData(DeviceManagerData, state)), chain(_getScreenData), _setBodyByScreenSize)(getScreenSize(state)).run()\r\n    }));\r\n});\r\n\r\n\r\nexport var clear = (gl: WebGLRenderingContext, color: Color, DeviceManagerData: any) => {\r\n    _setClearColor(gl, color, DeviceManagerData);\r\n\r\n    setColorWrite(gl, true, true, true, true, DeviceManagerData);\r\n\r\n    /*! optimize in ANGLE:\r\n     (need more verify:set color mask all false before clear?\r\n     so here not do the recommendation)\r\n\r\n\r\n     Recommendation: Do Not Perform Clears with Scissors or Masks Enabled\r\n     (<<WebGL Insights>> -> chapter 1)\r\n\r\n     One of the subtle differences between the Direct3D APIs and the GL APIs is that in the former, clear calls ignore scissors and masks, while the latter applies both to clears [Koch 12]. This means that if a clear is performed with the scissors test enabled, or with a color or stencil mask in use, ANGLE must draw a quad with the requested clear values, rather than using clear. This introduces some state management overhead, as ANGLE must switch out all the cached state such as shaders, sampler and texture bindings, and vertex data related to the draw call stream. It then must set up all the appropriate state for the clear, perform the clear itself, and then reset all of the affected state back to its prior settings once the clear is complete. If multiple draw buffers are currently in use, using WEBGL_draw_ buffers, then the performance implications of this emulated clear are com- pounded, as the draw must be performed once for each target. Clearing buffers without scissors or masks enabled avoids this overhead.\r\n     */\r\n\r\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);\r\n}\r\n\r\n\r\nvar _setClearColor = (gl: WebGLRenderingContext, color: Color, DeviceManagerData: any) => {\r\n    var clearColor = DeviceManagerData.clearColor;\r\n\r\n    if (clearColor && clearColor.isEqual(color)) {\r\n        return;\r\n    }\r\n\r\n    gl.clearColor(color.r, color.g, color.b, color.a);\r\n\r\n    DeviceManagerData.clearColor = color;\r\n}\r\n\r\n/**\r\n * @function\r\n * @name setColorWrite\r\n * @description Enables or disables writes to the color buffer. Once this state\r\n * is set, it persists until it is changed. By default, color writes are enabled\r\n * for all color channels.\r\n * @param {Boolean} writeRed true to enable writing  of the red channel and false otherwise.\r\n * @param {Boolean} writeGreen true to enable writing  of the green channel and false otherwise.\r\n * @param {Boolean} writeBlue true to enable writing  of the blue channel and false otherwise.\r\n * @param {Boolean} writeAlpha true to enable writing  of the alpha channel and false otherwise.\r\n */\r\nexport var setColorWrite = (gl: WebGLRenderingContext, writeRed: boolean, writeGreen: boolean, writeBlue: boolean, writeAlpha: boolean, DeviceManagerData: any) => {\r\n    if (DeviceManagerData.writeRed !== writeRed\r\n        || DeviceManagerData.writeGreen !== writeGreen\r\n        || DeviceManagerData.writeBlue !== writeBlue\r\n        || DeviceManagerData.writeAlpha !== writeAlpha) {\r\n        gl.colorMask(writeRed, writeGreen, writeBlue, writeAlpha);\r\n\r\n        DeviceManagerData.writeRed = writeRed;\r\n        DeviceManagerData.writeGreen = writeGreen;\r\n        DeviceManagerData.writeBlue = writeBlue;\r\n        DeviceManagerData.writeAlpha = writeAlpha;\r\n    }\r\n}\r\n\r\nexport var initData = (DeviceManagerData: any) => {\r\n    DeviceManagerData.gl = null;\r\n    DeviceManagerData.clearColor = null;\r\n\r\n    DeviceManagerData.writeRed = null;\r\n    DeviceManagerData.writeGreen = null;\r\n    DeviceManagerData.writeBlue = null;\r\n    DeviceManagerData.writeAlpha = null;\r\n}\r\n","import { Color } from \"../structure/Color\";\r\n\r\nexport class DeviceManagerData {\r\n    public static gl: WebGLRenderingContext = null;\r\n\r\n    public static clearColor: Color = null;\r\n\r\n    public static writeRed: boolean = null;\r\n    public static writeGreen: boolean = null;\r\n    public static writeBlue: boolean = null;\r\n    public static writeAlpha: boolean = null;\r\n}\r\n","import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { singleton } from \"../definition/typescript/decorator/singleton\";\r\n// import { DeviceManager } from \"./DeviceManager\";\r\nimport { Log } from \"../utils/Log\";\r\nimport { getGL } from \"./DeviceManagerSystem\";\r\nimport { Map } from \"immutable\";\r\nimport { DeviceManagerData } from \"./DeviceManagerData\";\r\n\r\n@singleton()\r\n@registerClass(\"GPUDetector\")\r\nexport class GPUDetector {\r\n    public static getInstance(): any { }\r\n\r\n    private constructor() { }\r\n\r\n    public maxTextureUnit: number = null;\r\n    public maxTextureSize: number = null;\r\n    public maxCubemapTextureSize: number = null;\r\n    public maxAnisotropy: number = null;\r\n    public maxBoneCount: number = null;\r\n    public extensionCompressedTextureS3TC: any = null;\r\n    public extensionTextureFilterAnisotropic: any = null;\r\n    public extensionInstancedArrays: any = null;\r\n    public extensionUintIndices: boolean = null;\r\n    public extensionDepthTexture: boolean = null;\r\n    public extensionVAO: any = null;\r\n    public extensionStandardDerivatives: boolean = null;\r\n    public precision: number = null;\r\n\r\n    private _isDetected: boolean = false;\r\n\r\n    //todo test\r\n    public detect(state: Map<any, any>) {\r\n        this._isDetected = true;\r\n\r\n        this._detectExtension(state);\r\n        this._detectCapabilty(state);\r\n\r\n        return state;\r\n    }\r\n\r\n    private _detectExtension(state: Map<any, any>) {\r\n        this.extensionCompressedTextureS3TC = this._getExtension(\"WEBGL_compressed_texture_s3tc\", state);\r\n        this.extensionTextureFilterAnisotropic = this._getExtension(\"EXT_texture_filter_anisotropic\", state);\r\n        this.extensionInstancedArrays = this._getExtension(\"ANGLE_instanced_arrays\", state);\r\n        this.extensionUintIndices = this._getExtension(\"element_index_uint\", state);\r\n        this.extensionDepthTexture = this._getExtension(\"depth_texture\", state);\r\n        this.extensionVAO = this._getExtension(\"vao\", state);\r\n        this.extensionStandardDerivatives = this._getExtension(\"standard_derivatives\", state);\r\n    }\r\n\r\n    private _detectCapabilty(state: Map<any, any>) {\r\n        var gl = getGL(DeviceManagerData, state);\r\n\r\n        this.maxTextureUnit = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\r\n        this.maxTextureSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);\r\n        this.maxCubemapTextureSize = gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);\r\n        this.maxAnisotropy = this._getMaxAnisotropy(state);\r\n\r\n        this.maxBoneCount = this._getMaxBoneCount(state);\r\n\r\n        //todo use map instead\r\n        // alert(\"maxBoneCount:\" + this.maxBoneCount);\r\n\r\n        this._detectPrecision(state);\r\n    }\r\n\r\n    private _getExtension(name: string, state: Map<any, any>) {\r\n        var extension,\r\n            gl = getGL(DeviceManagerData, state);\r\n\r\n        switch (name) {\r\n            case \"EXT_texture_filter_anisotropic\":\r\n                extension = gl.getExtension(\"EXT_texture_filter_anisotropic\") || gl.getExtension(\"MOZ_EXT_texture_filter_anisotropic\") || gl.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\");\r\n                break;\r\n            case \"WEBGL_compressed_texture_s3tc\":\r\n                extension = gl.getExtension(\"WEBGL_compressed_texture_s3tc\") || gl.getExtension(\"MOZ_WEBGL_compressed_texture_s3tc\") || gl.getExtension(\"WEBKIT_WEBGL_compressed_texture_s3tc\");\r\n                break;\r\n            case \"WEBGL_compressed_texture_pvrtc\":\r\n                extension = gl.getExtension(\"WEBGL_compressed_texture_pvrtc\") || gl.getExtension(\"WEBKIT_WEBGL_compressed_texture_pvrtc\");\r\n                break;\r\n            case \"ANGLE_instanced_arrays\":\r\n                extension = gl.getExtension(\"ANGLE_instanced_arrays\");\r\n                break;\r\n            case \"element_index_uint\":\r\n                extension = gl.getExtension(\"OES_element_index_uint\") !== null;\r\n                break;\r\n            case \"depth_texture\":\r\n                extension = gl.getExtension(\"WEBKIT_WEBGL_depth_texture\") !== null || gl.getExtension(\"WEBGL_depth_texture\") !== null;\r\n                break;\r\n            case \"vao\":\r\n                extension = gl.getExtension(\"OES_vertex_array_object\");\r\n                break;\r\n            case \"standard_derivatives\":\r\n                extension = gl.getExtension(\"OES_standard_derivatives\");\r\n                break;\r\n            default:\r\n                extension = gl.getExtension(name);\r\n                break;\r\n        }\r\n\r\n        return extension;\r\n    }\r\n\r\n    private _getMaxBoneCount(state: Map<any, any>) {\r\n        var gl = getGL(DeviceManagerData, state),\r\n            numUniforms: number = null,\r\n            maxBoneCount: number = null;\r\n\r\n        // Calculate a estimate of the maximum number of bones that can be uploaded to the GPU\r\n        // based on the number of available uniforms and the number of uniforms required for non-\r\n        // bone data.  This is based off of the Standard shader.  A user defined shader may have\r\n        // even less space available for bones so this calculated value can be overridden via\r\n        numUniforms = gl.getParameter(gl.MAX_VERTEX_UNIFORM_VECTORS);\r\n        numUniforms -= 4 * 4; // Model, view, projection and shadow matrices\r\n        // numUniforms -= 8;     // 8 lights max, each specifying a position vector\r\n        numUniforms -= 1;     // Eye position\r\n        numUniforms -= 4 * 4; // Up to 4 texture transforms\r\n\r\n        maxBoneCount = Math.floor(numUniforms / 4);\r\n\r\n        // Put a limit on the number of supported bones before skin partitioning must be performed\r\n        // Some GPUs have demonstrated performance issues if the number of vectors allocated to the\r\n        // skin matrix palette is left unbounded\r\n        return Math.min(maxBoneCount, 128);\r\n    }\r\n\r\n    private _getMaxAnisotropy(state: Map<any, any>) {\r\n        var extension = this.extensionTextureFilterAnisotropic,\r\n            gl = getGL(DeviceManagerData, state);\r\n\r\n        return extension !== null ? gl.getParameter(extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0;\r\n    }\r\n\r\n    private _detectPrecision(state: Map<any, any>) {\r\n        var gl = getGL(DeviceManagerData, state);\r\n\r\n        if (!gl.getShaderPrecisionFormat) {\r\n            this.precision = EGPUPrecision.HIGHP;\r\n\r\n            return;\r\n        }\r\n\r\n        let vertexShaderPrecisionHighpFloat = gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT),\r\n            vertexShaderPrecisionMediumpFloat = gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_FLOAT),\r\n            //vertexShaderPrecisionLowpFloat = gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.LOW_FLOAT),\r\n            fragmentShaderPrecisionHighpFloat = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT),\r\n            fragmentShaderPrecisionMediumpFloat = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT),\r\n            //fragmentShaderPrecisionLowpFloat = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_FLOAT),\r\n            highpAvailable = vertexShaderPrecisionHighpFloat.precision > 0 && fragmentShaderPrecisionHighpFloat.precision > 0,\r\n            mediumpAvailable = vertexShaderPrecisionMediumpFloat.precision > 0 && fragmentShaderPrecisionMediumpFloat.precision > 0;\r\n\r\n        if (!highpAvailable) {\r\n            if (mediumpAvailable) {\r\n                this.precision = EGPUPrecision.MEDIUMP;\r\n                Log.warn(Log.info.FUNC_NOT_SUPPORT(\"gpu\", \"highp, using mediump\"));\r\n            }\r\n            else {\r\n                this.precision = EGPUPrecision.LOWP;\r\n                Log.warn(Log.info.FUNC_NOT_SUPPORT(\"gpu\", \"highp and mediump, using lowp\"));\r\n            }\r\n        }\r\n        else {\r\n            this.precision = EGPUPrecision.HIGHP;\r\n        }\r\n    }\r\n}\r\n\r\nexport enum EGPUPrecision {\r\n    HIGHP,\r\n    MEDIUMP,\r\n    LOWP\r\n}","export enum EBufferType {\r\n    BYTE = <any>\"BYTE\",\r\n    UNSIGNED_BYTE = <any>\"UNSIGNED_BYTE\",\r\n    SHORT = <any>\"SHORT\",\r\n    UNSIGNED_SHORT = <any>\"UNSIGNED_SHORT\",\r\n    INT = <any>\"INT\",\r\n    UNSIGNED_INT = <any>\"UNSIGNED_INT\",\r\n    FLOAT = <any>\"FLOAT\"\r\n}\r\n\r\n","export enum EDrawMode {\r\n    POINTS = <any>\"POINTS\",\r\n    LINES = <any>\"LINES\",\r\n    LINE_LOOP = <any>\"LINE_LOOP\",\r\n    LINE_STRIP = <any>\"LINE_STRIP\",\r\n    TRIANGLES = <any>\"TRIANGLES\",\r\n    TRIANGLE_STRIP = <any>\"TRIANGLE_STRIP\",\r\n    TRANGLE_FAN = <any>\"TRIANGLE_FAN\"\r\n}\r\n\r\n","import { GPUDetector } from \"../../device/GPUDetector\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { Geometry } from \"./Geometry\";\r\nimport { Map } from \"immutable\";\r\nimport { EBufferType } from \"../../renderer/enum/EBufferType\";\r\nimport { createMap, deleteBySwap as deleteObjectBySwap, isNotValidMapValue } from \"../../utils/objectUtils\";\r\nimport {\r\n    addAddComponentHandle as addAddComponentHandleToMap, addComponentToGameObjectMap,\r\n    addDisposeHandle as addDisposeHandleToMap, addInitHandle as addInitHandleToMap, deleteComponentBySwap,\r\n    generateComponentIndex, getComponentGameObject\r\n} from \"../ComponentSystem\";\r\nimport { deleteBySwap } from \"../../utils/arrayUtils\";\r\nimport curry from \"wonder-lodash/curry\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { EDrawMode } from \"../../renderer/enum/EDrawMode\";\r\nimport { checkIndexShouldEqualCount } from \"../utils/contractUtils\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { GeometryData } from \"./GeometryData\";\r\n\r\nexport var addAddComponentHandle = (_class: any) => {\r\n    addAddComponentHandleToMap(_class, addComponent);\r\n}\r\n\r\nexport var addDisposeHandle = (_class: any) => {\r\n    addDisposeHandleToMap(_class, disposeComponent);\r\n}\r\n\r\nexport var addInitHandle = (_class: any) => {\r\n    addInitHandleToMap(_class, initGeometry);\r\n}\r\n\r\nexport var create = requireCheckFunc((geometry: Geometry, GeometryData: any) => {\r\n    checkIndexShouldEqualCount(GeometryData);\r\n}, (geometry: Geometry, GeometryData: any) => {\r\n    var index = generateComponentIndex(GeometryData);\r\n\r\n    geometry.index = index;\r\n\r\n    GeometryData.count += 1;\r\n\r\n    GeometryData.geometryMap[index] = geometry;\r\n\r\n    return geometry;\r\n})\r\n\r\nexport var init = (GeometryData: any, state: Map<any, any>) => {\r\n    for (let i = 0, count = GeometryData.count; i < count; i++) {\r\n        initGeometry(i, state);\r\n    }\r\n\r\n    return state;\r\n}\r\n\r\nexport var initGeometry = (index: number, state: Map<any, any>) => {\r\n    var computeDataFunc = GeometryData.computeDataFuncMap[index];\r\n\r\n    if (_isComputeDataFuncNotExist(computeDataFunc)) {\r\n        return;\r\n    }\r\n\r\n    let {\r\n        vertices,\r\n        indices\r\n    } = computeDataFunc(index, GeometryData);\r\n\r\n    setVertices(index, vertices, GeometryData);\r\n\r\n    setIndices(index, indices, GeometryData);\r\n}\r\n\r\nvar _isComputeDataFuncNotExist = (func: Function) => isNotValidMapValue(func);\r\n\r\nexport var getDrawMode = (index: number, GeometryData: any) => {\r\n    return EDrawMode.TRIANGLES;\r\n}\r\n\r\nexport var getVerticesCount = (index: number, GeometryData: any) => {\r\n    return getVertices(index, GeometryData).length;\r\n}\r\n\r\nexport var getIndicesCount = (index: number, GeometryData: any) => {\r\n    return getIndices(index, GeometryData).length;\r\n}\r\n\r\nexport var getIndexType = (GeometryData: any) => {\r\n    return GeometryData.indexType;\r\n}\r\n\r\nexport var getIndexTypeSize = (GeometryData: any) => {\r\n    return GeometryData.indexTypeSize;\r\n}\r\n\r\nexport var getVertices = (index: number, GeometryData: any) => {\r\n    return GeometryData.verticesMap[index];\r\n}\r\n\r\nexport var setVertices = requireCheckFunc((index: number, vertices: Float32Array, GeometryData: any) => {\r\n    it(\"vertices should not already exist\", () => {\r\n        expect(GeometryData.verticesMap[index]).not.exist;\r\n    });\r\n}, (index: number, vertices: Float32Array, GeometryData: any) => {\r\n    GeometryData.verticesMap[index] = vertices;\r\n})\r\n\r\nexport var getIndices = (index: number, GeometryData: any) => {\r\n    return GeometryData.indicesMap[index];\r\n}\r\n\r\nexport var setIndices = requireCheckFunc((index: number, indices: Uint16Array | Uint32Array, GeometryData: any) => {\r\n    it(\"indices should not already exist\", () => {\r\n        expect(GeometryData.indicesMap[index]).not.exist;\r\n    });\r\n}, (index: number, indices: Uint16Array | Uint32Array, GeometryData: any) => {\r\n    GeometryData.indicesMap[index] = indices;\r\n})\r\n\r\nexport var hasIndices = (index: number, GeometryData: any) => {\r\n    var indices = getIndices(index, GeometryData);\r\n\r\n    if (isNotValidMapValue(indices)) {\r\n        return false;\r\n    }\r\n\r\n    return indices.length > 0;\r\n}\r\n\r\nexport var addComponent = (component: Geometry, gameObject: GameObject) => {\r\n    addComponentToGameObjectMap(GeometryData.gameObjectMap, component.index, gameObject);\r\n}\r\n\r\nexport var disposeComponent = ensureFunc((returnVal, component: Geometry) => {\r\n    checkIndexShouldEqualCount(GeometryData);\r\n}, (component: Geometry) => {\r\n    var sourceIndex = component.index,\r\n        lastComponentIndex: number = null;\r\n\r\n    deleteBySwap(sourceIndex, GeometryData.verticesMap);\r\n\r\n    deleteBySwap(sourceIndex, GeometryData.indicesMap);\r\n\r\n    GeometryData.count -= 1;\r\n    GeometryData.index -= 1;\r\n\r\n    lastComponentIndex = GeometryData.count;\r\n\r\n    deleteObjectBySwap(sourceIndex, lastComponentIndex, GeometryData.configDataMap);\r\n    deleteObjectBySwap(sourceIndex, lastComponentIndex, GeometryData.computeDataFuncMap);\r\n    deleteObjectBySwap(sourceIndex, lastComponentIndex, GeometryData.gameObjectMap);\r\n\r\n    deleteComponentBySwap(sourceIndex, lastComponentIndex, GeometryData.geometryMap);\r\n})\r\n\r\nexport var getGameObject = (index: number, Data: any) => {\r\n    return getComponentGameObject(Data.gameObjectMap, index);\r\n}\r\n\r\nexport var getConfigData = (index: number, GeometryData: any) => {\r\n    return GeometryData.configDataMap[index];\r\n}\r\n\r\nexport var initData = (DataBufferConfig: any, GeometryData: any) => {\r\n    var isIndicesBufferNeed32Bits = _checkIsIndicesBufferNeed32BitsByConfig(DataBufferConfig),\r\n        indicesArrayBytes = null;\r\n\r\n    if (isIndicesBufferNeed32Bits) {\r\n        indicesArrayBytes = Uint32Array.BYTES_PER_ELEMENT;\r\n\r\n        GeometryData.indexType = EBufferType.UNSIGNED_INT;\r\n    }\r\n    else {\r\n        indicesArrayBytes = Uint16Array.BYTES_PER_ELEMENT;\r\n\r\n        GeometryData.indexType = EBufferType.UNSIGNED_SHORT;\r\n    }\r\n\r\n    GeometryData.indexTypeSize = indicesArrayBytes;\r\n\r\n    GeometryData.configDataMap = createMap();\r\n\r\n    GeometryData.verticesMap = [];\r\n    GeometryData.indicesMap = [];\r\n\r\n    GeometryData.computeDataFuncMap = createMap();\r\n\r\n    GeometryData.gameObjectMap = createMap();\r\n\r\n    GeometryData.geometryMap = createMap();\r\n\r\n    GeometryData.index = 0;\r\n    GeometryData.count = 0;\r\n}\r\n\r\nvar _checkIsIndicesBufferNeed32BitsByConfig = (DataBufferConfig: any) => {\r\n    if (DataBufferConfig.geometryIndicesBufferBits === 16) {\r\n        return false;\r\n    }\r\n\r\n    //todo refactor: use function\r\n    return GPUDetector.getInstance().extensionUintIndices === true;\r\n}\r\n\r\nexport var isIndicesBufferNeed32BitsByData = (GeometryData: any) => {\r\n    return GeometryData.indexType === EBufferType.UNSIGNED_INT;\r\n}\r\n\r\nexport var convertVerticesArrayToTypeArray = (vertices: Array<number>) => {\r\n    return new Float32Array(vertices);\r\n}\r\n\r\nexport var convertIndicesArrayToTypeArray = (indices: Array<number>, GeometryData: any) => {\r\n    return isIndicesBufferNeed32BitsByData(GeometryData) ? new Uint32Array(indices) : new Uint16Array(indices)\r\n}\r\n","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { GeometryData } from \"./GeometryData\";\r\nimport {\r\n    getDrawMode as getGeometryDrawMode, getVertices as getGeometryVertices,\r\n    getIndices as getGeometryIndices, getConfigData, initGeometry as initGeometrySystem,\r\n    isIndicesBufferNeed32BitsByData, getGameObject,\r\n} from \"./GeometrySystem\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { Component } from \"../Component\";\r\nimport { EDrawMode } from \"../../renderer/enum/EDrawMode\";\r\nimport { getState } from \"../../core/DirectorSystem\";\r\nimport { DirectorData } from \"../../core/DirectorData\";\r\n\r\n@registerClass(\"Geometry\")\r\nexport abstract class Geometry extends Component {\r\n}\r\n\r\nexport var getDrawMode = (geometry: Geometry) => {\r\n    return getGeometryDrawMode(geometry.index, GeometryData);\r\n}\r\n\r\nexport var getVertices = (geometry: Geometry) => {\r\n    return getGeometryVertices(geometry.index, GeometryData);\r\n}\r\n\r\nexport var getIndices = (geometry: Geometry) => {\r\n    return getGeometryIndices(geometry.index, GeometryData);\r\n}\r\n\r\nexport var getGeometryConfigData = (geometry: Geometry) => {\r\n    return getConfigData(geometry.index, GeometryData);\r\n}\r\n\r\nexport var initGeometry = (geometry: Geometry) => {\r\n    initGeometrySystem(geometry.index, getState(DirectorData));\r\n}\r\n\r\nexport var getGeometryGameObject = (geometry: Geometry) => {\r\n    return getGameObject(geometry.index, GeometryData);\r\n}\r\n","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"Shader\")\r\nexport class Shader {\r\n    public index: number = null;\r\n}\r\n","import { isValidMapValue } from \"../../utils/objectUtils\";\r\n\r\nexport var isBufferExist = (buffer: WebGLBuffer) => isValidMapValue(buffer);\r\n\r\n","import { getIndexType, getIndexTypeSize, getIndices } from \"../../component/geometry/GeometrySystem\";\r\nimport { isBufferExist } from \"./bufferUtils\";\r\n\r\nexport var getOrCreateBuffer = (gl: WebGLRenderingContext, geometryIndex: number, GeometryData: any, IndexBufferData: any) => {\r\n    var buffers = IndexBufferData.buffers,\r\n        buffer = buffers[geometryIndex];\r\n\r\n    if (isBufferExist(buffer)) {\r\n        return buffer;\r\n    }\r\n\r\n    buffer = gl.createBuffer();\r\n\r\n    buffers[geometryIndex] = buffer;\r\n\r\n    _initBuffer(gl, getIndices(geometryIndex, GeometryData), buffer, IndexBufferData);\r\n\r\n    return buffer;\r\n}\r\n\r\nvar _initBuffer = (gl: WebGLRenderingContext, data: Uint16Array | Uint32Array, buffer: WebGLBuffer, IndexBufferData: any) => {\r\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffer);\r\n\r\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, data, gl.STATIC_DRAW);\r\n\r\n    _resetBindedBuffer(gl, IndexBufferData);\r\n}\r\n\r\nvar _resetBindedBuffer = (gl: WebGLRenderingContext, IndexBufferData: any) => {\r\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\r\n}\r\n\r\nexport var getType = (GeometryData: any) => {\r\n    return getIndexType(GeometryData);\r\n}\r\n\r\nexport var getTypeSize = (GeometryData: any) => {\r\n    return getIndexTypeSize(GeometryData);\r\n}\r\n\r\nexport var initData = (IndexBufferData: any) => {\r\n    IndexBufferData.buffers = [];\r\n}\r\n","import { isValueExist } from \"../../utils/stateUtils\";\r\n\r\nexport var isConfigDataExist = (configData: any) => {\r\n    return isValueExist(configData);\r\n}\r\n\r\n","export const main_begin: string = \"void main(void){\\n\";\r\nexport const main_end: string = \"}\\n\";\r\n\r\nexport const setPos_mvp: string = \"gl_Position = u_pMatrix * u_vMatrix * u_mMatrix * vec4(a_position, 1.0);\\n\"\r\n","export const empty:GLSLChunk = {top:\"\", define:\"\", varDeclare:\"\", funcDeclare:\"\", funcDefine:\"\", body:\"\"};\nexport const NULL:number = -1.0;\nexport const basic_materialColor_fragment:GLSLChunk = {top: \"\",define: \"\",varDeclare: \"\",funcDeclare: \"\",funcDefine: \"\",body: \"vec4 totalColor = vec4(u_color, 1.0);\\n\"};\nexport const end_basic_fragment:GLSLChunk = {top: \"\",define: \"\",varDeclare: \"\",funcDeclare: \"\",funcDefine: \"\",body: \"gl_FragColor = vec4(totalColor.rgb, totalColor.a * u_opacity);\\n\"};\nexport const common_define:GLSLChunk = {top: \"\",define: \"\",varDeclare: \"\",funcDeclare: \"\",funcDefine: \"\",body: \"\"};\nexport const common_fragment:GLSLChunk = {top: \"\",define: \"\",varDeclare: \"\",funcDeclare: \"\",funcDefine: \"\",body: \"\"};\nexport const common_function:GLSLChunk = {top: \"\",define: \"\",varDeclare: \"\",funcDeclare: \"\",funcDefine: \"mat2 transpose(mat2 m) {\\n  return mat2(  m[0][0], m[1][0],   // new col 0\\n                m[0][1], m[1][1]    // new col 1\\n             );\\n  }\\nmat3 transpose(mat3 m) {\\n  return mat3(  m[0][0], m[1][0], m[2][0],  // new col 0\\n                m[0][1], m[1][1], m[2][1],  // new col 1\\n                m[0][2], m[1][2], m[2][2]   // new col 1\\n             );\\n  }\\n\\n//bool isRenderListEmpty(int isRenderListEmpty){\\n//  return isRenderListEmpty == 1;\\n//}\\n\",body: \"\"};\nexport const common_vertex:GLSLChunk = {top: \"\",define: \"\",varDeclare: \"\",funcDeclare: \"\",funcDefine: \"\",body: \"\"};\nexport const highp_fragment:GLSLChunk = {top: \"precision highp float;\\nprecision highp int;\\n\",define: \"\",varDeclare: \"\",funcDeclare: \"\",funcDefine: \"\",body: \"\"};\nexport const lowp_fragment:GLSLChunk = {top: \"precision lowp float;\\nprecision lowp int;\\n\",define: \"\",varDeclare: \"\",funcDeclare: \"\",funcDefine: \"\",body: \"\"};\nexport const mediump_fragment:GLSLChunk = {top: \"precision mediump float;\\nprecision mediump int;\\n\",define: \"\",varDeclare: \"\",funcDeclare: \"\",funcDefine: \"\",body: \"\"};\nexport type GLSLChunk = {top:string;define:string;varDeclare:string;funcDeclare:string;funcDefine:string;body:string;}\n","import { isConfigDataExist } from \"../utils/renderConfigUtils\";\r\nimport {\r\n    IGLSLConfig, IGLSLFuncConfig, ISendAttributeConfig,\r\n    IShaderLibContentGenerator\r\n} from \"../data/shaderLib_generator\";\r\nimport { main_begin, main_end } from \"./snippet/ShaderSnippet\";\r\nimport { GLSLChunk, highp_fragment, lowp_fragment, mediump_fragment } from \"./chunk/ShaderChunk\";\r\nimport { ExtendUtils } from \"wonder-commonlib/dist/es2015/utils/ExtendUtils\";\r\nimport { EGPUPrecision, GPUDetector } from \"../../device/GPUDetector\";\r\nimport { it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { MaterialShaderLibConfig } from \"../data/material_config\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { compose, filterArray, forEachArray } from \"../../utils/functionalUtils\";\r\nimport { forEach } from \"../../utils/arrayUtils\";\r\n\r\nexport var buildGLSLSource = requireCheckFunc((materialIndex: number, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator) => {\r\n    it(\"shaderLib should be defined\", () => {\r\n        forEach(materialShaderLibConfig, (shaderLibName: string) => {\r\n            expect(shaderLibData[shaderLibName]).exist;\r\n        })\r\n    });\r\n}, (materialIndex: number, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator) => {\r\n    var vsTop: string = \"\",\r\n        vsDefine: string = \"\",\r\n        vsVarDeclare: string = \"\",\r\n        vsFuncDeclare: string = \"\",\r\n        vsFuncDefine: string = \"\",\r\n        vsBody: string = \"\",\r\n        fsTop: string = \"\",\r\n        fsDefine: string = \"\",\r\n        fsVarDeclare: string = \"\",\r\n        fsFuncDeclare: string = \"\",\r\n        fsFuncDefine: string = \"\",\r\n        fsBody: string = \"\";\r\n\r\n    vsBody += main_begin;\r\n    fsBody += main_begin;\r\n\r\n    fsTop += _getPrecisionSource(lowp_fragment, mediump_fragment, highp_fragment);\r\n\r\n    forEach(materialShaderLibConfig, (shaderLibName: string) => {\r\n        var glslData = shaderLibData[shaderLibName].glsl,\r\n            vs = null,\r\n            fs = null,\r\n            func = null;\r\n\r\n        if (!isConfigDataExist(glslData)) {\r\n            return;\r\n        }\r\n\r\n        vs = glslData.vs;\r\n        fs = glslData.fs;\r\n        func = glslData.func;\r\n\r\n        if (isConfigDataExist(vs)) {\r\n            vsTop += _getGLSLPartData(vs, \"top\");\r\n            vsDefine += _getGLSLPartData(vs, \"define\");\r\n            vsVarDeclare += _getGLSLPartData(vs, \"varDeclare\");\r\n            vsFuncDeclare += _getGLSLPartData(vs, \"funcDeclare\");\r\n            vsFuncDefine += _getGLSLPartData(vs, \"funcDefine\");\r\n            vsBody += _getGLSLPartData(vs, \"body\");\r\n        }\r\n\r\n        if (isConfigDataExist(fs)) {\r\n            fsTop += _getGLSLPartData(fs, \"top\");\r\n            fsDefine += _getGLSLPartData(fs, \"define\");\r\n            fsVarDeclare += _getGLSLPartData(fs, \"varDeclare\");\r\n            fsFuncDeclare += _getGLSLPartData(fs, \"funcDeclare\");\r\n            fsFuncDefine += _getGLSLPartData(fs, \"funcDefine\");\r\n            fsBody += _getGLSLPartData(fs, \"body\");\r\n        }\r\n\r\n        if (isConfigDataExist(func)) {\r\n            let funcConfig: IGLSLFuncConfig = func(materialIndex);\r\n\r\n            if (isConfigDataExist(funcConfig)) {\r\n                let vs = funcConfig.vs,\r\n                    fs = funcConfig.fs;\r\n\r\n                if (isConfigDataExist(vs)) {\r\n                    vs = ExtendUtils.extend(_getEmptyFuncGLSLConfig(), vs);\r\n\r\n                    vsTop += _getFuncGLSLPartData(vs, \"top\");\r\n                    vsDefine += _getFuncGLSLPartData(vs, \"define\");\r\n                    vsVarDeclare += _getFuncGLSLPartData(vs, \"varDeclare\");\r\n                    vsFuncDeclare += _getFuncGLSLPartData(vs, \"funcDeclare\");\r\n                    vsFuncDefine += _getFuncGLSLPartData(vs, \"funcDefine\");\r\n                    vsBody += _getFuncGLSLPartData(vs, \"body\");\r\n                }\r\n\r\n                if (isConfigDataExist(fs)) {\r\n                    fs = ExtendUtils.extend(_getEmptyFuncGLSLConfig(), fs);\r\n\r\n                    fsTop += _getFuncGLSLPartData(fs, \"top\");\r\n                    fsDefine += _getFuncGLSLPartData(fs, \"define\");\r\n                    fsVarDeclare += _getFuncGLSLPartData(fs, \"varDeclare\");\r\n                    fsFuncDeclare += _getFuncGLSLPartData(fs, \"funcDeclare\");\r\n                    fsFuncDefine += _getFuncGLSLPartData(fs, \"funcDefine\");\r\n                    fsBody += _getFuncGLSLPartData(fs, \"body\");\r\n                }\r\n            }\r\n        }\r\n    })\r\n\r\n    vsBody += main_end;\r\n    fsBody += main_end;\r\n\r\n    vsTop += _generateAttributeSource(materialShaderLibConfig, shaderLibData);\r\n    vsTop += _generateUniformSource(materialShaderLibConfig, shaderLibData, vsVarDeclare, vsFuncDefine, vsBody);\r\n    fsTop += _generateUniformSource(materialShaderLibConfig, shaderLibData, fsVarDeclare, fsFuncDefine, fsBody);\r\n\r\n    return {\r\n        vsSource: vsTop + vsDefine + vsVarDeclare + vsFuncDeclare + vsFuncDefine + vsBody,\r\n        fsSource: fsTop + fsDefine + fsVarDeclare + fsFuncDeclare + fsFuncDefine + fsBody\r\n    }\r\n})\r\n\r\nvar _getEmptyFuncGLSLConfig = () => {\r\n    return {\r\n        \"top\": \"\",\r\n        \"varDeclare\": \"\",\r\n        \"funcDeclare\": \"\",\r\n        \"funcDefine\": \"\",\r\n        \"body\": \"\"\r\n    }\r\n}\r\n\r\nvar _getPrecisionSource = (lowp_fragment: GLSLChunk, mediump_fragment: GLSLChunk, highp_fragment: GLSLChunk) => {\r\n    var precision = GPUDetector.getInstance().precision,\r\n        result = null;\r\n\r\n    switch (precision) {\r\n        case EGPUPrecision.HIGHP:\r\n            result = highp_fragment.top;\r\n            break;\r\n        case EGPUPrecision.MEDIUMP:\r\n            result = mediump_fragment.top;\r\n            break;\r\n        case EGPUPrecision.LOWP:\r\n            result = lowp_fragment.top;\r\n            break;\r\n        default:\r\n            result = \"\";\r\n            break;\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nvar _getGLSLPartData = (glslConfig: IGLSLConfig, partName: string) => {\r\n    var partConfig = glslConfig[partName];\r\n\r\n    if (isConfigDataExist(partConfig)) {\r\n        return partConfig;\r\n    }\r\n    else if (isConfigDataExist(glslConfig.source)) {\r\n        return glslConfig.source[partName];\r\n    }\r\n\r\n    return \"\";\r\n}\r\n\r\nvar _getFuncGLSLPartData = (glslConfig: IGLSLConfig, partName: string) => {\r\n    return glslConfig[partName];\r\n}\r\n\r\nvar _isInSource = (key: string, source: string) => {\r\n    return source.indexOf(key) > -1;\r\n}\r\n\r\nvar _generateAttributeSource = (materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator) => {\r\n    var result = \"\";\r\n\r\n    forEach(materialShaderLibConfig, (shaderLibName: string) => {\r\n        var sendData = shaderLibData[shaderLibName].send,\r\n            attributeData = null;\r\n\r\n        if (!isConfigDataExist(sendData) || !isConfigDataExist(sendData.attribute)) {\r\n            return;\r\n        }\r\n\r\n        attributeData = sendData.attribute;\r\n\r\n        forEach(attributeData, (data: ISendAttributeConfig) => {\r\n            result += `attribute ${data.type} ${data.name};\\n`;\r\n        });\r\n    });\r\n\r\n    return result;\r\n}\r\n\r\nvar _generateUniformSource = (materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, sourceVarDeclare: string, sourceFuncDefine: string, sourceBody: string) => {\r\n    var result = \"\",\r\n        generateFunc = compose(\r\n            forEachArray((data: ISendAttributeConfig) => {\r\n                result += `uniform ${data.type} ${data.name};\\n`;\r\n            }),\r\n            filterArray((data: ISendAttributeConfig) => {\r\n                var name = data.name;\r\n\r\n                return _isInSource(name, sourceVarDeclare) || _isInSource(name, sourceFuncDefine) || _isInSource(name, sourceBody);\r\n            })\r\n        );\r\n\r\n    forEach(materialShaderLibConfig, (shaderLibName: string) => {\r\n        var sendData = shaderLibData[shaderLibName].send,\r\n            uniformData = null;\r\n\r\n        if (!isConfigDataExist(sendData) || !isConfigDataExist(sendData.uniform)) {\r\n            return;\r\n        }\r\n\r\n        uniformData = sendData.uniform;\r\n\r\n        generateFunc(uniformData);\r\n    });\r\n\r\n    return result;\r\n}\r\n\r\n","import { isConfigDataExist } from \"../utils/renderConfigUtils\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { MaterialShaderLibConfig } from \"../data/material_config\";\r\nimport {\r\n    ISendAttributeConfig, ISendUniformConfig, IShaderLibContentGenerator,\r\n    IShaderLibSendConfig\r\n} from \"../data/shaderLib_generator\";\r\nimport { isValidMapValue } from \"../../utils/objectUtils\";\r\nimport { AttributeLocationMap, UniformLocationMap } from \"./ShaderData\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { forEach } from \"../../utils/arrayUtils\";\r\n\r\nexport var setLocationMap = ensureFunc((returnVal, gl: WebGLRenderingContext, shaderIndex: number, program: WebGLProgram, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, ShaderData: any) => {\r\n    it(\"attribute should contain position at least\", () => {\r\n        expect(ShaderData.attributeLocationMap[shaderIndex][\"a_position\"]).be.a(\"number\");\r\n    });\r\n}, requireCheckFunc((gl: WebGLRenderingContext, shaderIndex: number, program: WebGLProgram, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, ShaderData: any) => {\r\n    it(\"not setted location before\", () => {\r\n        expect(isValidMapValue(ShaderData.attributeLocationMap[shaderIndex])).false;\r\n        expect(isValidMapValue(ShaderData.uniformLocationMap[shaderIndex])).false;\r\n    });\r\n}, (gl: WebGLRenderingContext, shaderIndex: number, program: WebGLProgram, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, ShaderData: any) => {\r\n    var attributeLocationMap = {},\r\n        uniformLocationMap = {},\r\n        sendData: IShaderLibSendConfig = null,\r\n        attributeName: string = null,\r\n        uniformName: string = null;\r\n\r\n    forEach(materialShaderLibConfig, (shaderLibName: string) => {\r\n        var attribute: Array<ISendAttributeConfig> = null,\r\n            uniform: Array<ISendUniformConfig> = null;\r\n\r\n        sendData = shaderLibData[shaderLibName].send;\r\n\r\n        if (!isConfigDataExist(sendData)) {\r\n            return;\r\n        }\r\n\r\n        attribute = sendData.attribute;\r\n        uniform = sendData.uniform;\r\n\r\n        if (isConfigDataExist(attribute)) {\r\n            forEach(attribute, (data: ISendAttributeConfig) => {\r\n                attributeName = data.name;\r\n\r\n                attributeLocationMap[attributeName] = gl.getAttribLocation(program, attributeName);\r\n            })\r\n        }\r\n\r\n        if (isConfigDataExist(uniform)) {\r\n            forEach(uniform, (data: ISendUniformConfig) => {\r\n                uniformName = data.name;\r\n\r\n                uniformLocationMap[uniformName] = gl.getUniformLocation(program, uniformName);\r\n            })\r\n        }\r\n    })\r\n\r\n    ShaderData.attributeLocationMap[shaderIndex] = attributeLocationMap;\r\n    ShaderData.uniformLocationMap[shaderIndex] = uniformLocationMap;\r\n}))\r\n\r\nexport var getAttribLocation = ensureFunc((pos: number, name: string, attributeLocationMap: AttributeLocationMap) => {\r\n    it(`${name}'s attrib location should be number`, () => {\r\n        expect(pos).be.a(\"number\");\r\n    });\r\n}, (name: string, attributeLocationMap: AttributeLocationMap) => {\r\n    return attributeLocationMap[name];\r\n})\r\n\r\nexport var getUniformLocation = ensureFunc((pos: number, name: string, uniformLocationMap: UniformLocationMap) => {\r\n    it(`${name}'s uniform location should exist in map`, () => {\r\n        expect(isValidMapValue(pos)).true;\r\n    });\r\n}, (name: string, uniformLocationMap: UniformLocationMap) => {\r\n    return uniformLocationMap[name];\r\n})\r\n\r\nexport var isUniformLocationNotExist = (pos: WebGLUniformLocation) => {\r\n    return pos === null;\r\n}\r\n\r\nexport var isAttributeLocationNotExist = (pos: number) => {\r\n    return pos === -1;\r\n}\r\n","export enum EVariableType {\r\n    FLOAT = <any>\"float\",\r\n    VEC3 = <any>\"vec3\",\r\n    MAT4 = <any>\"mat4\"\r\n}\r\n\r\n","import { getVertices } from \"../../component/geometry/GeometrySystem\";\r\nimport { EBufferType } from \"../enum/EBufferType\";\r\nimport { isBufferExist } from \"./bufferUtils\";\r\nimport { createMap } from \"../../utils/objectUtils\";\r\n\r\nexport var getOrCreateBuffer = (gl: WebGLRenderingContext, geometryIndex: number, bufferType: string, GeometryData: any, ArrayBufferData: any) => {\r\n    var buffers = ArrayBufferData.buffers,\r\n        buffer = buffers[geometryIndex];\r\n\r\n    if (isBufferExist(buffer)) {\r\n        return buffer;\r\n    }\r\n\r\n    buffer = gl.createBuffer();\r\n\r\n    buffers[geometryIndex] = buffer;\r\n\r\n    _initBuffer(gl, getVertices(geometryIndex, GeometryData), buffer, ArrayBufferData);\r\n\r\n    ArrayBufferData.bufferDataMap[geometryIndex] = {\r\n        size: 3,\r\n        type: EBufferType.FLOAT\r\n    };\r\n\r\n    return buffer;\r\n}\r\n\r\nvar _initBuffer = (gl: WebGLRenderingContext, data: Float32Array, buffer: WebGLBuffer, ArrayBufferData: any) => {\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\r\n\r\n    gl.bufferData(gl.ARRAY_BUFFER, data, gl.STATIC_DRAW);\r\n\r\n    _resetBindedBuffer(gl, ArrayBufferData);\r\n}\r\n\r\nvar _resetBindedBuffer = (gl: WebGLRenderingContext, ArrayBufferData: any) => {\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n}\r\n\r\nexport var initData = (ArrayBufferData: any) => {\r\n    ArrayBufferData.buffers = [];\r\n    ArrayBufferData.bufferDataMap = createMap();\r\n}\r\n","import {\r\n    SendAttributeConfigMap, SendUniformConfigMap, UniformCacheMap,\r\n    UniformShaderLocationMap\r\n} from \"./ShaderData\";\r\nimport { forEach, hasDuplicateItems } from \"../../utils/arrayUtils\";\r\nimport { getColor, getOpacity } from \"../../component/material/MaterialSystem\";\r\nimport { Vector3 } from \"../../math/Vector3\";\r\nimport { isConfigDataExist } from \"../utils/renderConfigUtils\";\r\nimport { error } from \"../../utils/Log\";\r\nimport { Matrix4 } from \"../../math/Matrix4\";\r\nimport {\r\n    getUniformLocation, isUniformLocationNotExist\r\n} from \"./locationSystem\";\r\nimport {\r\n    ISendAttributeConfig, ISendUniformConfig,\r\n    IShaderLibContentGenerator\r\n} from \"../data/shaderLib_generator\";\r\nimport { MaterialShaderLibConfig } from \"../data/material_config\";\r\nimport { RenderCommand } from \"../command/RenderCommand\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\n\r\nexport var getUniformData = (field: string, from: string, renderCommand: RenderCommand, MaterialData: any) => {\r\n    var data: any = null;\r\n\r\n    switch (from) {\r\n        case \"cmd\":\r\n            data = renderCommand[field];\r\n            break;\r\n        case \"material\":\r\n            data = _getUnifromDataFromMaterial(field, renderCommand.materialIndex, MaterialData);\r\n            break;\r\n        default:\r\n            error(true, `unknow from:${from}`);\r\n            break;\r\n    }\r\n\r\n    return data;\r\n}\r\n\r\nvar _getUnifromDataFromMaterial = (field: string, materialIndex: number, MaterialData: any) => {\r\n    var data: any = null;\r\n\r\n    switch (field) {\r\n        case \"color\":\r\n            data = getColor(materialIndex, MaterialData).toVector3();\r\n            break;\r\n        case \"opacity\":\r\n            data = getOpacity(materialIndex, MaterialData);\r\n            break;\r\n        default:\r\n            error(true, `unknow field:${field}`);\r\n            break;\r\n    }\r\n\r\n    return data;\r\n}\r\n\r\nexport var sendBuffer = (gl: WebGLRenderingContext, pos: number, buffer: WebGLBuffer, geometryIndex: number, ShaderData: any, ArrayBufferData: any) => {\r\n    var {\r\n            size,\r\n        type\r\n        } = ArrayBufferData.bufferDataMap[geometryIndex],\r\n        vertexAttribHistory = ShaderData.vertexAttribHistory;\r\n\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\r\n    gl.vertexAttribPointer(pos, size, gl[type], false, 0, 0);\r\n\r\n    if (vertexAttribHistory[pos] !== true) {\r\n        gl.enableVertexAttribArray(pos);\r\n\r\n        vertexAttribHistory[pos] = true;\r\n    }\r\n}\r\n\r\nexport var sendMatrix4 = (gl: WebGLRenderingContext, name: string, data: Float32Array, uniformLocationMap: UniformShaderLocationMap) => {\r\n    _sendUniformData<Float32Array>(gl, name, data, uniformLocationMap, (pos, data) => {\r\n        gl.uniformMatrix4fv(pos, false, data);\r\n    })\r\n}\r\n\r\nexport var sendVector3 = (gl: WebGLRenderingContext, shaderIndex: number, name: string, data: Vector3, uniformCacheMap: UniformCacheMap, uniformLocationMap: UniformShaderLocationMap) => {\r\n    var recordedData: any = getUniformCache(shaderIndex, name, uniformCacheMap);\r\n\r\n    if (recordedData && recordedData.x == data.x && recordedData.y == data.y && recordedData.z == data.z) {\r\n        return;\r\n    }\r\n\r\n    _setUniformCache(shaderIndex, name, data, uniformCacheMap);\r\n\r\n    _sendUniformData<Vector3>(gl, name, data, uniformLocationMap, (pos, data) => {\r\n        gl.uniform3f(pos, data.x, data.y, data.z);\r\n    })\r\n}\r\n\r\nexport var sendFloat1 = requireCheckFunc((gl: WebGLRenderingContext, shaderIndex: number, name: string, data: number, uniformCacheMap: UniformCacheMap, uniformLocationMap: UniformShaderLocationMap) => {\r\n    it(\"data should be number\", () => {\r\n        expect(data).be.a(\"number\");\r\n    });\r\n}, (gl: WebGLRenderingContext, shaderIndex: number, name: string, data: number, uniformCacheMap: UniformCacheMap, uniformLocationMap: UniformShaderLocationMap) => {\r\n    var recordedData: any = getUniformCache(shaderIndex, name, uniformCacheMap);\r\n\r\n    if (recordedData === data) {\r\n        return;\r\n    }\r\n\r\n    _setUniformCache(shaderIndex, name, data, uniformCacheMap);\r\n\r\n    _sendUniformData<number>(gl, name, data, uniformLocationMap, (pos, data) => {\r\n        gl.uniform1f(pos, data);\r\n    })\r\n})\r\n\r\nvar getUniformCache = (shaderIndex: number, name: string, uniformCacheMap: UniformCacheMap) => {\r\n    return uniformCacheMap[shaderIndex][name];\r\n}\r\n\r\nvar _setUniformCache = (shaderIndex: number, name: string, data: any, uniformCacheMap: UniformCacheMap) => {\r\n    uniformCacheMap[shaderIndex][name] = data;\r\n}\r\n\r\nvar _sendUniformData = <T>(gl: WebGLRenderingContext, name: string, data: T, uniformLocationMap: UniformShaderLocationMap, sendFunc: (pos: WebGLUniformLocation, data: T) => void) => {\r\n    var pos = getUniformLocation(name, uniformLocationMap);\r\n\r\n    if (isUniformLocationNotExist(pos)) {\r\n        return;\r\n    }\r\n\r\n    sendFunc(pos, data);\r\n}\r\n\r\nexport var addSendAttributeConfig = ensureFunc((returnVal, shaderIndex: number, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, sendAttributeConfigMap: SendAttributeConfigMap) => {\r\n    it(\"sendAttributeConfigMap should not has duplicate attribute name\", () => {\r\n        expect(hasDuplicateItems(sendAttributeConfigMap[shaderIndex])).false;\r\n    });\r\n}, requireCheckFunc((shaderIndex: number, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, sendAttributeConfigMap: SendAttributeConfigMap) => {\r\n    it(\"sendAttributeConfigMap[shaderIndex] should not be defined\", () => {\r\n        expect(sendAttributeConfigMap[shaderIndex]).not.exist;\r\n    });\r\n}, (shaderIndex: number, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, sendAttributeConfigMap: SendAttributeConfigMap) => {\r\n    var sendDataArr: Array<ISendAttributeConfig> = [];\r\n\r\n    forEach(materialShaderLibConfig, (shaderLibName: string) => {\r\n        var sendData = shaderLibData[shaderLibName].send;\r\n\r\n        if (isConfigDataExist(sendData) && isConfigDataExist(sendData.attribute)) {\r\n            sendDataArr = sendDataArr.concat(sendData.attribute);\r\n        }\r\n    })\r\n\r\n    sendAttributeConfigMap[shaderIndex] = sendDataArr;\r\n}))\r\n\r\nexport var addSendUniformConfig = ensureFunc((returnVal, shaderIndex: number, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, sendUniformConfigMap: SendUniformConfigMap) => {\r\n    it(\"sendUniformConfigMap should not has duplicate attribute name\", () => {\r\n        expect(hasDuplicateItems(sendUniformConfigMap[shaderIndex])).false;\r\n    });\r\n}, requireCheckFunc((shaderIndex: number, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, sendUniformConfigMap: SendUniformConfigMap) => {\r\n    it(\"sendUniformConfigMap[shaderIndex] should not be defined\", () => {\r\n        expect(sendUniformConfigMap[shaderIndex]).not.exist;\r\n    });\r\n}, (shaderIndex: number, materialShaderLibConfig: MaterialShaderLibConfig, shaderLibData: IShaderLibContentGenerator, sendUniformConfigMap: SendUniformConfigMap) => {\r\n    var sendDataArr: Array<ISendUniformConfig> = [];\r\n\r\n    forEach(materialShaderLibConfig, (shaderLibName: string) => {\r\n        var sendData = shaderLibData[shaderLibName].send;\r\n\r\n        if (isConfigDataExist(sendData) && isConfigDataExist(sendData.uniform)) {\r\n            sendDataArr = sendDataArr.concat(sendData.uniform);\r\n        }\r\n    })\r\n\r\n    sendUniformConfigMap[shaderIndex] = sendDataArr;\r\n}))\r\n","import { ensureFunc, it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { IMaterialConfig } from \"../data/material_config\";\r\nimport {\r\n    ISendAttributeConfig, ISendUniformConfig\r\n} from \"../data/shaderLib_generator\";\r\nimport {\r\n    getAttribLocation, isAttributeLocationNotExist\r\n} from \"./locationSystem\";\r\nimport { RenderCommand } from \"../command/RenderCommand\";\r\nimport { EVariableType } from \"../enum/EVariableType\";\r\nimport { Log } from \"../../utils/Log\";\r\nimport { getOrCreateBuffer as getOrCreateArrayBuffer } from \"../buffer/ArrayBufferSystem\";\r\nimport { isValidMapValue } from \"../../utils/objectUtils\";\r\nimport { getUniformData, sendBuffer, sendFloat1, sendMatrix4, sendVector3 } from \"./glslSenderSystem\";\r\nimport { forEach } from \"../../utils/arrayUtils\";\r\n\r\nexport var use = requireCheckFunc((gl: WebGLRenderingContext, shaderIndex: number, ShaderData: any) => {\r\n    it(\"program should exist\", () => {\r\n        expect(getProgram(shaderIndex, ShaderData)).exist;\r\n    });\r\n}, (gl: WebGLRenderingContext, shaderIndex: number, ShaderData: any) => {\r\n    var program = getProgram(shaderIndex, ShaderData);\r\n\r\n    if (ShaderData.lastUsedProgram === program) {\r\n        return;\r\n    }\r\n\r\n    ShaderData.lastUsedProgram = program;\r\n\r\n    gl.useProgram(program);\r\n\r\n    disableVertexAttribArray(gl, ShaderData);\r\n\r\n    ShaderData.lastBindedArrayBuffer = null;\r\n    ShaderData.lastBindedIndexBuffer = null;\r\n})\r\n\r\nexport var disableVertexAttribArray = requireCheckFunc((gl: WebGLRenderingContext, ShaderData: any) => {\r\n    it(\"vertexAttribHistory should has not hole\", () => {\r\n        forEach(ShaderData.vertexAttribHistory, (isEnable: boolean) => {\r\n            expect(isEnable).exist;\r\n            expect(isEnable).be.a(\"boolean\");\r\n        })\r\n    });\r\n}, (gl: WebGLRenderingContext, ShaderData: any) => {\r\n    var vertexAttribHistory = ShaderData.vertexAttribHistory;\r\n\r\n    for (let i = 0, len = vertexAttribHistory.length; i < len; i++) {\r\n        let isEnable = vertexAttribHistory[i];\r\n\r\n        if (isEnable === false || i > gl.VERTEX_ATTRIB_ARRAY_ENABLED) {\r\n            continue;\r\n        }\r\n\r\n        // vertexAttribHistory[i] = false;\r\n        gl.disableVertexAttribArray(i);\r\n    }\r\n\r\n    ShaderData.vertexAttribHistory = [];\r\n})\r\n\r\nexport var getMaterialShaderLibConfig = requireCheckFunc((materialClassName: string, material_config: IMaterialConfig) => {\r\n    var materialData = material_config[materialClassName];\r\n\r\n    it(\"materialClassName should be defined\", () => {\r\n        expect(materialData).exist;\r\n    })\r\n    it(\"shaderLib should be array\", () => {\r\n        expect(materialData.shader.shaderLib).be.a(\"array\");\r\n    });\r\n}, (materialClassName: string, material_config: IMaterialConfig) => {\r\n    return material_config[materialClassName].shader.shaderLib;\r\n})\r\n\r\nexport var registerProgram = (shaderIndex: number, ShaderData: any, program: WebGLProgram) => {\r\n    ShaderData.programMap[shaderIndex] = program;\r\n}\r\n\r\nexport var getProgram = ensureFunc((program: WebGLProgram) => {\r\n}, (shaderIndex: number, ShaderData: any) => {\r\n    return ShaderData.programMap[shaderIndex];\r\n})\r\n\r\nexport var isProgramExist = (program: WebGLProgram) => isValidMapValue(program);\r\n\r\nexport var initShader = (program: WebGLProgram, vsSource: string, fsSource: string, gl: WebGLRenderingContext) => {\r\n    var vs = _compileShader(gl, vsSource, gl.createShader(gl.VERTEX_SHADER)),\r\n        fs = _compileShader(gl, fsSource, gl.createShader(gl.FRAGMENT_SHADER));\r\n\r\n    //dispose?\r\n    // if (this.glProgram) {\r\n    //     this.dispose();\r\n    // }\r\n\r\n\r\n    gl.attachShader(program, vs);\r\n    gl.attachShader(program, fs);\r\n\r\n\r\n    /*!\r\n     if warn:\"Attribute 0 is disabled. This has significant performance penalty\" when run,\r\n     then do this before linkProgram:\r\n     gl.bindAttribLocation( this.glProgram, 0, \"a_position\");\r\n\r\n\r\n\r\n     can reference here:\r\n     http://stackoverflow.com/questions/20305231/webgl-warning-attribute-0-is-disabled-this-has-significant-performance-penalt?answertab=votes#tab-top\r\n\r\n\r\n     OpenGL requires attribute zero to be enabled otherwise it will not render anything.\r\n     On the other hand OpenGL ES 2.0 on which WebGL is based does not. So, to emulate OpenGL ES 2.0 on top of OpenGL if you don't enable attribute 0 the browser has to make a buffer for you large enough for the number of vertices you've requested to be drawn, fill it with the correct value (see gl.vertexAttrib),\r\n     attach it to attribute zero, and enable it.\r\n\r\n     It does all this behind the scenes but it's important for you to know that it takes time to create and fill that buffer. There are optimizations the browser can make but in the general case,\r\n     if you were to assume you were running on OpenGL ES 2.0 and used attribute zero as a constant like you are supposed to be able to do, without the warning you'd have no idea of the work the browser is doing on your behalf to emulate that feature of OpenGL ES 2.0 that is different from OpenGL.\r\n\r\n     require your particular case the warning doesn't have much meaning. It looks like you are only drawing a single point. But it would not be easy for the browser to figure that out so it just warns you anytime you draw and attribute 0 is not enabled.\r\n     */\r\n    /*!\r\n     Always have vertex attrib 0 array enabled. If you draw with vertex attrib 0 array disabled, you will force the browser to do complicated emulation when running on desktop OpenGL (e.g. on Mac OSX). This is because in desktop OpenGL, nothing gets drawn if vertex attrib 0 is not array-enabled. You can use bindAttribLocation() to force a vertex attribute to use location 0, and use enableVertexAttribArray() to make it array-enabled.\r\n     */\r\n    gl.bindAttribLocation(program, 0, \"a_position\");\r\n\r\n\r\n    _linkProgram(gl, program);\r\n\r\n    /*!\r\n     should detach and delete shaders after linking the program\r\n\r\n     explain:\r\n     The shader object, due to being attached to the program object, will continue to exist even if you delete the shader object. It will only be deleted by the system when it is no longer attached to any program object (and when the user has asked to delete it, of course).\r\n\r\n     \"Deleting\" the shader, as with all OpenGL objects, merely sets a flag that says you don't need it any more. OpenGL will keep it around for as long as it needs it itself, and will do the actual delete any time later (most likely, but not necessarily, after the program is deleted).\r\n     */\r\n    gl.deleteShader(vs);\r\n    gl.deleteShader(fs);\r\n}\r\n\r\nvar _linkProgram = ensureFunc((returnVal, gl: WebGLRenderingContext, program: WebGLProgram) => {\r\n    it(`link program error:${gl.getProgramInfoLog(program)}`, () => {\r\n        expect(gl.getProgramParameter(program, gl.LINK_STATUS)).true;\r\n    })\r\n}, (gl: WebGLRenderingContext, program: WebGLProgram) => {\r\n    gl.linkProgram(program);\r\n})\r\n\r\nvar _compileShader = (gl: WebGLRenderingContext, glslSource: string, shader: WebGLShader) => {\r\n    gl.shaderSource(shader, glslSource);\r\n    gl.compileShader(shader);\r\n\r\n    if (gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n        return shader;\r\n    }\r\n    else {\r\n        Log.log(gl.getShaderInfoLog(shader));\r\n        // Log.log(\"attributes:\\n\", this.attributes);\r\n        // Log.log(\"uniforms:\\n\", this.uniforms);\r\n        Log.log(\"source:\\n\", glslSource);\r\n    }\r\n}\r\n\r\nexport var sendAttributeData = (gl: WebGLRenderingContext, shaderIndex: number, geometryIndex: number, ShaderData: any, GeometryData: any, ArrayBufferData: any) => {\r\n    var sendDataArr = ShaderData.sendAttributeConfigMap[shaderIndex],\r\n        attributeLocationMap = ShaderData.attributeLocationMap[shaderIndex],\r\n        lastBindedArrayBuffer = ShaderData.lastBindedArrayBuffer;\r\n\r\n    for (let sendData of sendDataArr) {\r\n        let buffer = getOrCreateArrayBuffer(gl, geometryIndex, sendData.buffer, GeometryData, ArrayBufferData),\r\n            pos = getAttribLocation(sendData.name, attributeLocationMap);\r\n\r\n        if (isAttributeLocationNotExist(pos)) {\r\n            return;\r\n        }\r\n\r\n        if (lastBindedArrayBuffer === buffer) {\r\n            return;\r\n        }\r\n\r\n        lastBindedArrayBuffer = buffer;\r\n\r\n        sendBuffer(gl, pos, buffer, geometryIndex, ShaderData, ArrayBufferData);\r\n    }\r\n\r\n    ShaderData.lastBindedArrayBuffer = lastBindedArrayBuffer;\r\n}\r\n\r\nexport var sendUniformData = (gl: WebGLRenderingContext, shaderIndex: number, MaterialData: any, ShaderData: any, renderCommand: RenderCommand) => {\r\n    var sendDataArr = ShaderData.sendUniformConfigMap[shaderIndex],\r\n        uniformLocationMap = ShaderData.uniformLocationMap[shaderIndex],\r\n        uniformCacheMap = ShaderData.uniformCacheMap;\r\n\r\n    for (let sendData of sendDataArr) {\r\n        let name = sendData.name,\r\n            field = sendData.field,\r\n            type = sendData.type as any,\r\n            from = sendData.from || \"cmd\",\r\n            data = getUniformData(field, from, renderCommand, MaterialData);\r\n\r\n        switch (type) {\r\n            case EVariableType.MAT4:\r\n                sendMatrix4(gl, name, data, uniformLocationMap);\r\n                break;\r\n            case EVariableType.VEC3:\r\n                sendVector3(gl, shaderIndex, name, data, uniformCacheMap, uniformLocationMap);\r\n                break;\r\n            case EVariableType.FLOAT:\r\n                sendFloat1(gl, shaderIndex, name, data, uniformCacheMap, uniformLocationMap);\r\n                break;\r\n            default:\r\n                Log.error(true, Log.info.FUNC_INVALID(\"EVariableType:\", type));\r\n                break;\r\n        }\r\n    }\r\n}\r\n","import { Shader } from \"./Shader\";\r\nimport { IMaterialConfig } from \"../data/material_config\";\r\nimport {\r\n    IShaderLibGenerator\r\n} from \"../data/shaderLib_generator\";\r\nimport { getGL } from \"../../device/DeviceManagerSystem\";\r\nimport { Map } from \"immutable\";\r\nimport { getOrCreateBuffer as getOrCreateIndexBuffer } from \"../buffer/IndexBufferSystem\";\r\nimport { buildGLSLSource } from \"./shaderSourceBuildSystem\";\r\nimport { setLocationMap } from \"./locationSystem\";\r\nimport {\r\n    getMaterialShaderLibConfig, getProgram, initShader, isProgramExist,\r\n    registerProgram, sendUniformData as sendUniformDataProgram, sendAttributeData as sendAttributeDataProgram, use as useProgram\r\n} from \"./programSystem\";\r\nimport { RenderCommand } from \"../command/RenderCommand\";\r\nimport { addSendAttributeConfig, addSendUniformConfig } from \"./glslSenderSystem\";\r\nimport { generateComponentIndex } from \"../../component/ComponentSystem\";\r\nimport { createMap } from \"../../utils/objectUtils\";\r\n\r\nexport var create = (ShaderData: any) => {\r\n    var shader = new Shader(),\r\n        index = generateComponentIndex(ShaderData);\r\n\r\n    shader.index = index;\r\n\r\n    ShaderData.count += 1;\r\n\r\n    ShaderData.uniformCacheMap[index] = {};\r\n\r\n    return shader;\r\n}\r\n\r\nexport var init = (state: Map<any, any>, materialIndex: number, shaderIndex: number, materialClassName: string, material_config: IMaterialConfig, shaderLib_generator: IShaderLibGenerator, DeviceManagerData: any, ShaderData: any) => {\r\n    var materialShaderLibConfig = getMaterialShaderLibConfig(materialClassName, material_config),\r\n        shaderLibData = shaderLib_generator.shaderLibs,\r\n        {\r\n            vsSource,\r\n            fsSource\r\n        } = buildGLSLSource(materialIndex, materialShaderLibConfig, shaderLibData),\r\n        program = getProgram(shaderIndex, ShaderData),\r\n        gl = getGL(DeviceManagerData, state);\r\n\r\n    if (!isProgramExist(program)) {\r\n        program = gl.createProgram();\r\n\r\n        registerProgram(shaderIndex, ShaderData, program);\r\n    }\r\n\r\n    initShader(program, vsSource, fsSource, gl);\r\n\r\n    setLocationMap(gl, shaderIndex, program, materialShaderLibConfig, shaderLibData, ShaderData);\r\n\r\n    addSendAttributeConfig(shaderIndex, materialShaderLibConfig, shaderLibData, ShaderData.sendAttributeConfigMap);\r\n    addSendUniformConfig(shaderIndex, materialShaderLibConfig, shaderLibData, ShaderData.sendUniformConfigMap);\r\n}\r\n\r\nexport var sendAttributeData = (gl: WebGLRenderingContext, shaderIndex: number, geometryIndex: number, ShaderData: any, GeometryData: any, ArrayBufferData: any) => {\r\n    sendAttributeDataProgram(gl, shaderIndex, geometryIndex, ShaderData, GeometryData, ArrayBufferData);\r\n}\r\n\r\nexport var sendUniformData = (gl: WebGLRenderingContext, shaderIndex: number, MaterialData: any, ShaderData: any, renderCommand: RenderCommand) => {\r\n    sendUniformDataProgram(gl, shaderIndex, MaterialData, ShaderData, renderCommand);\r\n}\r\n\r\nexport var bindIndexBuffer = (gl: WebGLRenderingContext, geometryIndex: number, ShaderData: any, GeometryData: any, IndexBufferData: any) => {\r\n    var buffer = getOrCreateIndexBuffer(gl, geometryIndex, GeometryData, IndexBufferData);\r\n\r\n    if (ShaderData.lastBindedIndexBuffer === buffer) {\r\n        return;\r\n    }\r\n\r\n    ShaderData.lastBindedIndexBuffer = buffer;\r\n\r\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffer);\r\n}\r\n\r\nexport var use = (gl: WebGLRenderingContext, shaderIndex: number, ShaderData: any) => {\r\n    useProgram(gl, shaderIndex, ShaderData);\r\n}\r\n\r\nexport var dispose = (gl: WebGLRenderingContext, shaderIndex: number, ShaderData: any) => {\r\n    //todo finish\r\n\r\n    // _disposeProgram(gl, ShaderData.programMap[shaderIndex]);\r\n    // deleteVal(shaderIndex, ShaderData.programMap);\r\n\r\n\r\n    // deleteVal(shaderIndex, ShaderData.attributeLocationMap);\r\n    // deleteVal(shaderIndex, ShaderData.uniformLocationMap);\r\n    // deleteVal(shaderIndex, ShaderData.sendAttributeConfigMap);\r\n    // deleteVal(shaderIndex, ShaderData.sendUniformConfigMap);\r\n    // deleteVal(shaderIndex, ShaderData.vertexAttribHistory);\r\n    // deleteVal(shaderIndex, ShaderData.shaderMap);\r\n}\r\n\r\n// var _disposeProgram = (gl:WebGLRenderingContext, program:WebGLProgram) => {\r\n//     gl.deleteProgram(this.glProgram);\r\n// }\r\n\r\nexport var initData = (ShaderData: any) => {\r\n    ShaderData.index = 0;\r\n    ShaderData.count = 0;\r\n\r\n    ShaderData.programMap = createMap();\r\n    ShaderData.attributeLocationMap = createMap();\r\n    ShaderData.uniformLocationMap = createMap();\r\n    ShaderData.sendAttributeConfigMap = createMap();\r\n    ShaderData.sendUniformConfigMap = createMap();\r\n    ShaderData.vertexAttribHistory = [];\r\n    ShaderData.uniformCacheMap = createMap();\r\n    ShaderData.shaderMap = createMap();\r\n    ShaderData.isInitMap = createMap();\r\n}\r\n","export const material_config = {\r\n    \"BasicMaterial\": {\r\n        \"shader\": {\r\n            \"shaderLib\": [\r\n                \"CommonShaderLib\",\r\n                \"VerticeCommonShaderLib\",\r\n                \"BasicMaterialColorShaderLib\",\r\n                \"BasicShaderLib\",\r\n                \"EndBasicShaderLib\",\r\n                \"EndShaderLib\"\r\n            ]\r\n        }\r\n    }\r\n}\r\n\r\nexport interface IMaterialConfig {\r\n    [materialClassName: string]: IMaterialContentConfig\r\n}\r\n\r\nexport interface IMaterialContentConfig {\r\n    shader: IShaderConfig\r\n}\r\n\r\nexport interface IShaderConfig {\r\n    shaderLib: MaterialShaderLibConfig\r\n}\r\n\r\nexport type MaterialShaderLibConfig = Array<string>\r\n","import { Shader } from \"../../renderer/shader/Shader\";\r\nimport { Color } from \"../../structure/Color\";\r\nimport { ComponentGameObjectMap } from \"../ComponentData\";\r\nimport { ComponentMap } from \"../ComponentSystem\";\r\n\r\nexport class MaterialData {\r\n    public static index: number = null;\r\n    public static count: number = null;\r\n\r\n    public static shaderMap: ShaderMap = null;\r\n    public static materialClassNameMap: MaterialClassNameMap = null;\r\n    public static gameObjectMap: ComponentGameObjectMap = null;\r\n    public static colorMap: MaterialColorMap = null;\r\n    public static opacityMap: MaterialOpacityMap = null;\r\n    public static alphaTestMap: MaterialAlphaTestMap = null;\r\n\r\n    public static materialMap: ComponentMap = null;\r\n}\r\n\r\nexport type MaterialClassNameMap = {\r\n    [index: number]: string\r\n}\r\n\r\nexport type ShaderMap = {\r\n    [index: number]: Shader\r\n}\r\n\r\nexport type MaterialColorMap = {\r\n    [index: number]: Color\r\n}\r\n\r\nexport type MaterialOpacityMap = {\r\n    [index: number]: number\r\n}\r\n\r\nexport type MaterialAlphaTestMap = {\r\n    [index: number]: number\r\n}\r\n\r\n","import {\r\n    basic_materialColor_fragment, end_basic_fragment, common_define, common_fragment, common_function, common_vertex,\r\n    GLSLChunk\r\n} from \"../shader/chunk/ShaderChunk\";\r\nimport { getAlphaTest, isPropertyExist } from \"../../component/material/MaterialSystem\";\r\nimport { setPos_mvp } from \"../shader/snippet/ShaderSnippet\";\r\nimport { MaterialData } from \"../../component/material/MaterialData\";\r\n\r\nexport const shaderLib_generator = {\r\n    \"shaderLibs\": {\r\n        \"CommonShaderLib\": {\r\n            \"glsl\": {\r\n                \"vs\": {\r\n                    \"source\": common_vertex,\r\n                    \"define\": common_define.define + common_vertex.define,\r\n                    \"funcDefine\": common_function.funcDefine + common_vertex.funcDefine\r\n                },\r\n                \"fs\": {\r\n                    \"source\": common_fragment,\r\n                    \"define\": common_define.define + common_fragment.define,\r\n                    \"funcDefine\": common_function.funcDefine + common_fragment.funcDefine\r\n                }\r\n            },\r\n            \"send\": {\r\n                \"uniform\": [\r\n                    {\r\n                        \"name\": \"u_mMatrix\",\r\n                        \"field\": \"mMatrix\",\r\n                        \"type\": \"mat4\"\r\n                    },\r\n                    {\r\n                        \"name\": \"u_vMatrix\",\r\n                        \"field\": \"vMatrix\",\r\n                        \"type\": \"mat4\"\r\n                    },\r\n                    {\r\n                        \"name\": \"u_pMatrix\",\r\n                        \"field\": \"pMatrix\",\r\n                        \"type\": \"mat4\"\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        \"VerticeCommonShaderLib\": {\r\n            \"send\": {\r\n                \"attribute\": [\r\n                    {\r\n                        \"name\": \"a_position\",\r\n                        \"buffer\": \"vertice\",\r\n                        \"type\": \"vec3\"\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        \"BasicMaterialColorShaderLib\": {\r\n            \"glsl\": {\r\n                \"fs\": {\r\n                    \"source\": basic_materialColor_fragment\r\n                }\r\n            },\r\n            \"send\": {\r\n                \"uniform\": [\r\n                    {\r\n                        \"name\": \"u_color\",\r\n                        \"from\": \"material\",\r\n                        \"field\": \"color\",\r\n                        \"type\": \"vec3\"\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        \"BasicShaderLib\": {\r\n            \"glsl\": {\r\n                \"vs\": {\r\n                    \"body\": setPos_mvp\r\n                }\r\n            },\r\n            \"send\": {\r\n                \"uniform\": [\r\n                    {\r\n                        \"name\": \"u_opacity\",\r\n                        \"from\": \"material\",\r\n                        \"field\": \"opacity\",\r\n                        \"type\": \"float\"\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        \"EndBasicShaderLib\": {\r\n            \"glsl\": {\r\n                \"func\": (materialIndex: number) => {\r\n                    var alphaTest = getAlphaTest(materialIndex, MaterialData);\r\n\r\n                    if (isPropertyExist(alphaTest)) {\r\n                        return {\r\n                            \"fs\": {\r\n                                \"body\": `if (gl_FragColor.a < ${alphaTest}){\r\n    discard;\r\n}\\n`\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    return void 0;\r\n                }\r\n            }\r\n        },\r\n        \"EndShaderLib\": {\r\n            \"glsl\": {\r\n                \"fs\": {\r\n                    \"source\": end_basic_fragment\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport interface IShaderLibGenerator {\r\n    shaderLibs: IShaderLibContentGenerator\r\n}\r\n\r\nexport interface IShaderLibContentGenerator {\r\n    [shaderLibName: string]: IShaderLibConfig\r\n}\r\n\r\n\r\nexport interface IShaderLibConfig {\r\n    glsl?: {\r\n        vs?: IGLSLConfig,\r\n        fs?: IGLSLConfig,\r\n        func?: (materialIndex: number) => IGLSLFuncConfig | null\r\n    },\r\n    send?: IShaderLibSendConfig\r\n}\r\n\r\nexport interface IGLSLConfig {\r\n    source?: GLSLChunk;\r\n    top?: string;\r\n    varDeclare?: string;\r\n    funcDeclare?: string;\r\n    funcDefine?: string;\r\n    body?: string;\r\n    define?: string;\r\n\r\n    //todo support extension\r\n    // define?: {\r\n    //     name:string;\r\n    //     value:any;\r\n    // },\r\n    // extension?:string,\r\n}\r\n\r\nexport interface IGLSLFuncConfig {\r\n    vs?: IGLSLFuncGLSLConfig,\r\n    fs?: IGLSLFuncGLSLConfig\r\n}\r\n\r\nexport interface IGLSLFuncGLSLConfig {\r\n    top?: string;\r\n    varDeclare?: string;\r\n    funcDeclare?: string;\r\n    funcDefine?: string;\r\n    body?: string;\r\n    define?: string;\r\n}\r\n\r\nexport interface IShaderLibSendConfig {\r\n    attribute?: Array<ISendAttributeConfig>;\r\n    uniform?: Array<ISendUniformConfig>;\r\n}\r\n\r\nexport interface ISendAttributeConfig {\r\n    name: string;\r\n    buffer: string;\r\n    type: \"vec3\";\r\n}\r\n\r\nexport interface ISendUniformConfig {\r\n    name: string;\r\n    field: string;\r\n    type: \"float\" | \"vec3\" | \"mat4\";\r\n    from?: \"cmd\" | \"material\";\r\n}\r\n","export function cache(judgeFunc: any, returnCacheValueFunc: any, setCacheFunc: any) {\r\n    return function(target, name, descriptor) {\r\n        var value = descriptor.value;\r\n\r\n        descriptor.value = function(args) {\r\n            var result = null,\r\n                setArgs = null;\r\n\r\n            if (judgeFunc.apply(this, arguments)) {\r\n                return returnCacheValueFunc.apply(this, arguments);\r\n            }\r\n\r\n            result = value.apply(this, arguments);\r\n\r\n            setArgs = [result];\r\n\r\n            for (let i = 0, len = arguments.length; i < len; i++) {\r\n                setArgs[i + 1] = arguments[i];\r\n            }\r\n\r\n            setCacheFunc.apply(this, setArgs);\r\n\r\n            return result;\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n","import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { ensureGetter, assert, requireCheck, it } from \"../definition/typescript/decorator/contract\";\r\nimport { Log } from \"../utils/Log\";\r\nimport { Vector3 } from \"../math/Vector3\";\r\nimport { Vector4 } from \"../math/Vector4\";\r\nimport { cache } from \"../definition/typescript/decorator/cache\";\r\nimport { expect } from \"wonder-expect.js\";\r\n\r\ndeclare var Math: any;\r\n\r\nconst REGEX_RGBA = /^rgba\\((\\d+),\\s*(\\d+),\\s*(\\d+),\\s*([^\\)]+)\\)$/i,\r\n    REGEX_RGBA_2 = /^rgba\\((\\d+\\.\\d+),\\s*(\\d+\\.\\d+),\\s*(\\d+\\.\\d+),\\s*([^\\)]+)\\)$/i,\r\n    REGEX_RGB = /^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/i,\r\n    REGEX_RGB_2 = /^rgb\\((\\d+\\.\\d+),\\s*(\\d+\\.\\d+),\\s*(\\d+\\.\\d+)\\)$/i,\r\n    REGEX_NUM = /^\\#([0-9a-f]{6})$/i;\r\n\r\n@registerClass(\"Color\")\r\nexport class Color {\r\n    public static create(colorVal?: string) {\r\n        var obj = new this();\r\n\r\n        obj.initWhenCreate(colorVal);\r\n\r\n        return obj;\r\n    }\r\n\r\n    set dirty(dirty: boolean) {\r\n        if (dirty) {\r\n            this._clearCache();\r\n        }\r\n    }\r\n\r\n    private _r: number = null;\r\n    @ensureGetter(function(r: number) {\r\n        assert(r >= 0, Log.info.FUNC_SHOULD(\"r\", `>= 0, but actual is ${r}`));\r\n    })\r\n    get r() {\r\n        return this._r;\r\n    }\r\n    set r(r: number) {\r\n        if (this._r !== r) {\r\n            this.dirty = true;\r\n\r\n            this._r = r;\r\n        }\r\n    }\r\n\r\n    private _g: number = null;\r\n    @ensureGetter(function(g: number) {\r\n        assert(g >= 0, Log.info.FUNC_SHOULD(\"g\", `>= 0, but actual is ${g}`));\r\n    })\r\n    get g() {\r\n        return this._g;\r\n    }\r\n    set g(g: number) {\r\n        if (this._g !== g) {\r\n            this.dirty = true;\r\n\r\n            this._g = g;\r\n        }\r\n    }\r\n\r\n    private _b: number = null;\r\n    @ensureGetter(function(b: number) {\r\n        assert(b >= 0, Log.info.FUNC_SHOULD(\"b\", `>= 0, but actual is ${b}`));\r\n    })\r\n    get b() {\r\n        return this._b;\r\n    }\r\n    set b(b: number) {\r\n        if (this._b !== b) {\r\n            this.dirty = true;\r\n\r\n            this._b = b;\r\n        }\r\n    }\r\n\r\n    private _a: number = null;\r\n    @ensureGetter(function(a: number) {\r\n        assert(a >= 0, Log.info.FUNC_SHOULD(\"a\", `>= 0, but actual is ${a}`));\r\n    })\r\n    get a() {\r\n        return this._a;\r\n    }\r\n    set a(a: number) {\r\n        if (this._a !== a) {\r\n            this.dirty = true;\r\n\r\n            this._a = a;\r\n        }\r\n    }\r\n\r\n    private _colorString: string = null;\r\n    private _colorVec3Cache: Vector3 = null;\r\n    private _colorVec4Cache: Vector4 = null;\r\n\r\n    public initWhenCreate(colorVal?: string) {\r\n        if (!colorVal) {\r\n            return;\r\n        }\r\n\r\n        this._colorString = colorVal;\r\n        this._setColor(colorVal);\r\n    }\r\n\r\n    @cache(function() {\r\n        return this._colorVec3Cache !== null;\r\n    }, function() {\r\n        return this._colorVec3Cache;\r\n    }, function(result) {\r\n        this._colorVec3Cache = result;\r\n    })\r\n    public toVector3() {\r\n        return Vector3.create(this.r, this.g, this.b);\r\n    }\r\n\r\n    @cache(function() {\r\n        return this._colorVec4Cache !== null;\r\n    }, function() {\r\n        return this._colorVec4Cache;\r\n    }, function(result) {\r\n        this._colorVec4Cache = result;\r\n    })\r\n    public toVector4() {\r\n        return Vector4.create(this.r, this.g, this.b, this.a);\r\n    }\r\n\r\n    public toString() {\r\n        return this._colorString;\r\n    }\r\n\r\n    public clone() {\r\n        return Color.create(this._colorString);\r\n    }\r\n\r\n    public isEqual(color: Color) {\r\n        return this.r === color.r && this.g === color.g && this.b === color.b && this.a === color.a;\r\n    }\r\n\r\n    @requireCheck((colorVal: string) => {\r\n        it(\"color should be #xxxxxx\", () => {\r\n            expect(REGEX_NUM.test(colorVal)).true;\r\n        })\r\n    })\r\n    public setColorByNum(colorVal: string) {\r\n        var color = null;\r\n\r\n        this._colorString = colorVal;\r\n\r\n        color = REGEX_NUM.exec(colorVal);\r\n\r\n        this._setHex(parseInt(color[1], 16));\r\n\r\n        return this;\r\n    }\r\n\r\n    private _setColor(colorVal: string) {\r\n        var color = null;\r\n\r\n        // rgba(255,0,0,0)\r\n\r\n        if (REGEX_RGBA.test(colorVal)) {\r\n            color = REGEX_RGBA.exec(colorVal);\r\n\r\n            this.r = this._getColorValue(color, 1);\r\n            this.g = this._getColorValue(color, 2);\r\n            this.b = this._getColorValue(color, 3);\r\n            this.a = Number(color[4]);\r\n\r\n            return this;\r\n\r\n        }\r\n\r\n        // rgba(0.1,0.0,0.3,0.2)\r\n\r\n        if (REGEX_RGBA_2.test(colorVal)) {\r\n            color = REGEX_RGBA_2.exec(colorVal);\r\n\r\n            this.r = parseFloat(color[1]);\r\n            this.g = parseFloat(color[2]);\r\n            this.b = parseFloat(color[3]);\r\n            this.a = Number(color[4]);\r\n\r\n            return this;\r\n\r\n        }\r\n\r\n        // rgb(255,0,0)\r\n\r\n        if (REGEX_RGB.test(colorVal)) {\r\n            color = REGEX_RGB.exec(colorVal);\r\n\r\n            this.r = this._getColorValue(color, 1);\r\n            this.g = this._getColorValue(color, 2);\r\n            this.b = this._getColorValue(color, 3);\r\n            this.a = 1;\r\n\r\n            return this;\r\n\r\n        }\r\n\r\n        /*!\r\n         it will cause ambiguity: rgb(x,x,x)\r\n         so the format should be:\r\n         rgb(x.x,x.x,x.x)\r\n         */\r\n        if (REGEX_RGB_2.test(colorVal)) {\r\n            color = REGEX_RGB_2.exec(colorVal);\r\n\r\n            this.r = parseFloat(color[1]);\r\n            this.g = parseFloat(color[2]);\r\n            this.b = parseFloat(color[3]);\r\n            this.a = 1;\r\n\r\n            return this;\r\n\r\n        }\r\n\r\n        // #ffffff\r\n\r\n        if (REGEX_NUM.test(colorVal)) {\r\n            return this.setColorByNum(colorVal);\r\n        }\r\n    }\r\n\r\n    private _getColorValue(color, index, num = 255) {\r\n        return Math.min(num, parseInt(color[index], 10)) / num;\r\n    }\r\n\r\n    private _setHex(hex) {\r\n        hex = Math.floor(hex);\r\n\r\n        this.r = (hex >> 16 & 255) / 255;\r\n        this.g = (hex >> 8 & 255) / 255;\r\n        this.b = (hex & 255) / 255;\r\n        this.a = 1;\r\n\r\n        return this;\r\n    }\r\n\r\n    private _clearCache() {\r\n        this._colorVec3Cache = null;\r\n        this._colorVec4Cache = null;\r\n    }\r\n}","import { ISendAttributeConfig, ISendUniformConfig } from \"../data/shaderLib_generator\";\r\nimport { Shader } from \"./Shader\";\r\n\r\nexport class ShaderData {\r\n    public static index: number = null;\r\n    public static count: number = null;\r\n\r\n    // public static vsSourceMap = null;\r\n    // public static fsSourceMap = null;\r\n    public static programMap: ProgramMap = null;\r\n    public static attributeLocationMap: AttributeLocationMap = null;\r\n    public static uniformLocationMap: UniformLocationMap = null;\r\n\r\n    public static uniformCacheMap: UniformCacheMap = null;\r\n\r\n\r\n    public static sendAttributeConfigMap: SendAttributeConfigMap = null;\r\n    public static sendUniformConfigMap: SendUniformConfigMap = null;\r\n\r\n    public static shaderMap: ShaderShaderMap = null;\r\n    public static isInitMap: ShaderIsInitMap = null;\r\n\r\n    public static lastUsedProgram: WebGLProgram = null;\r\n\r\n    public static vertexAttribHistory: Array<boolean> = null;\r\n\r\n    public static lastBindedArrayBuffer: WebGLBuffer = null;\r\n    public static lastBindedIndexBuffer: WebGLBuffer = null;\r\n}\r\n\r\nexport type SendAttributeConfigMap = {\r\n    [index: number]: Array<ISendAttributeConfig>\r\n}\r\n\r\nexport type SendUniformConfigMap = {\r\n    [index: number]: Array<ISendUniformConfig>\r\n}\r\n\r\nexport type ProgramMap = {\r\n    [index: number]: WebGLProgram\r\n}\r\n\r\nexport type AttributeLocationMap = {\r\n    [index: number]: AttributeShaderLocationMap\r\n}\r\n\r\nexport type UniformLocationMap = {\r\n    [index: number]: UniformShaderLocationMap\r\n}\r\n\r\nexport type AttributeShaderLocationMap = {\r\n    [name: string]: number;\r\n}\r\n\r\nexport type UniformShaderLocationMap = {\r\n    [name: string]: WebGLUniformLocation;\r\n}\r\n\r\nexport type UniformCacheMap = {\r\n    [index: number]: {\r\n        [name: string]: any;\r\n    }\r\n}\r\n\r\nexport type ShaderShaderMap = {\r\n    [materialClassName: string]: Shader\r\n}\r\n\r\nexport type ShaderIsInitMap = {\r\n    [index: number]: boolean\r\n}\r\n","import { init as initShader } from \"../../renderer/shader/ShaderSystem\";\r\nimport { IMaterialConfig, material_config } from \"../../renderer/data/material_config\";\r\nimport { IShaderLibGenerator, shaderLib_generator } from \"../../renderer/data/shaderLib_generator\";\r\nimport { Map as MapImmutable } from \"immutable\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { Color } from \"../../structure/Color\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { Material } from \"./Material\";\r\nimport {\r\n    addAddComponentHandle as addAddComponentHandleToMap, addComponentToGameObjectMap,\r\n    addDisposeHandle as addDisposeHandleToMap, addInitHandle as addInitHandleToMap, deleteComponentBySwap,\r\n    generateComponentIndex,\r\n    getComponentGameObject\r\n} from \"../ComponentSystem\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { createMap, deleteBySwap, isValidMapValue } from \"../../utils/objectUtils\";\r\nimport { checkIndexShouldEqualCount } from \"../utils/contractUtils\";\r\nimport { deleteBySwap as deleteMapBySwap } from \"../../utils/mapUtils\";\r\nimport { Shader } from \"../../renderer/shader/Shader\";\r\nimport { MaterialData } from \"./MaterialData\";\r\nimport { ShaderData } from \"../../renderer/shader/ShaderData\";\r\nimport { DeviceManagerData } from \"../../device/DeviceManagerData\";\r\n\r\nexport var addAddComponentHandle = (_class: any) => {\r\n    addAddComponentHandleToMap(_class, addComponent);\r\n}\r\n\r\nexport var addDisposeHandle = (_class: any) => {\r\n    addDisposeHandleToMap(_class, disposeComponent);\r\n}\r\n\r\nexport var addInitHandle = (_class: any) => {\r\n    addInitHandleToMap(_class, initMaterial);\r\n}\r\n\r\nexport var create = requireCheckFunc((material: Material, className: string, MaterialData: any) => {\r\n    it(\"MaterialData.index should >= 0\", () => {\r\n        expect(MaterialData.index).gte(0);\r\n    });\r\n    it(\"MaterialData.count should >= 0\", () => {\r\n        expect(MaterialData.count).gte(0);\r\n    });\r\n}, (material: Material, className: string, MaterialData: any) => {\r\n    var index = generateComponentIndex(MaterialData);\r\n\r\n    material.index = index;\r\n\r\n    MaterialData.count += 1;\r\n\r\n    _setMaterialClassName(index, className, MaterialData);\r\n\r\n    setColor(index, _createDefaultColor(), MaterialData);\r\n    setOpacity(index, 1, MaterialData);\r\n\r\n    MaterialData.materialMap[index] = material;\r\n\r\n    return material;\r\n})\r\n\r\nvar _createDefaultColor = () => {\r\n    var color = Color.create();\r\n\r\n    return color.setColorByNum(\"#ffffff\");\r\n}\r\n\r\nexport var init = requireCheckFunc((state: MapImmutable<any, any>, material_config: IMaterialConfig, shaderLib_generator: IShaderLibGenerator, DeviceManagerData: any, ShaderData: any, MaterialData: any) => {\r\n    // checkIndexShouldEqualCount(MaterialData);\r\n}, (state: MapImmutable<any, any>, material_config: IMaterialConfig, shaderLib_generator: IShaderLibGenerator, DeviceManagerData: any, ShaderData: any, MaterialData: any) => {\r\n    for (let i = 0, count = MaterialData.count; i < count; i++) {\r\n        initMaterial(i, state);\r\n    }\r\n})\r\n\r\nexport var initMaterial = (index: number, state: MapImmutable<any, any>) => {\r\n    var shader = getShader(index, MaterialData),\r\n        isInitMap = ShaderData.isInitMap,\r\n        shaderIndex = shader.index;\r\n\r\n    if (isInitMap[shaderIndex] === true) {\r\n        return;\r\n    }\r\n\r\n    isInitMap[shaderIndex] = true;\r\n\r\n    initShader(state, index, shaderIndex, _getMaterialClassName(index, MaterialData), material_config, shaderLib_generator as any, DeviceManagerData, ShaderData);\r\n}\r\n\r\nvar _getMaterialClassName = (materialIndex: number, MaterialData: any) => {\r\n    return MaterialData.materialClassNameMap[materialIndex];\r\n}\r\n\r\nvar _setMaterialClassName = (materialIndex: number, className: string, MaterialData: any) => {\r\n    MaterialData.materialClassNameMap[materialIndex] = className;\r\n}\r\n\r\nexport var getShader = (materialIndex: number, MaterialData: any) => {\r\n    return MaterialData.shaderMap[materialIndex];\r\n}\r\n\r\nexport var setShader = (materialIndex: number, shader: Shader, MaterialData: any) => {\r\n    MaterialData.shaderMap[materialIndex] = shader;\r\n}\r\n\r\nexport var getColor = (materialIndex: number, MaterialData: any) => {\r\n    return MaterialData.colorMap[materialIndex];\r\n}\r\n\r\nexport var setColor = (materialIndex: number, color: Color, MaterialData: any) => {\r\n    MaterialData.colorMap[materialIndex] = color;\r\n}\r\n\r\nexport var getOpacity = (materialIndex: number, MaterialData: any) => {\r\n    return MaterialData.opacityMap[materialIndex];\r\n}\r\n\r\nexport var setOpacity = (materialIndex: number, opacity: number, MaterialData: any) => {\r\n    MaterialData.opacityMap[materialIndex] = opacity;\r\n}\r\n\r\nexport var getAlphaTest = (materialIndex: number, MaterialData: any) => {\r\n    return MaterialData.alphaTestMap[materialIndex];\r\n}\r\n\r\nexport var setAlphaTest = (materialIndex: number, alphaTest: number, MaterialData: any) => {\r\n    MaterialData.alphaTestMap[materialIndex] = alphaTest;\r\n}\r\n\r\nexport var isPropertyExist = (propertyVal: any) => {\r\n    return isValidMapValue(propertyVal);\r\n}\r\n\r\nexport var addComponent = (component: Material, gameObject: GameObject) => {\r\n    addComponentToGameObjectMap(MaterialData.gameObjectMap, component.index, gameObject);\r\n}\r\n\r\nexport var disposeComponent = ensureFunc((returnVal, component: Material) => {\r\n    checkIndexShouldEqualCount(MaterialData);\r\n}, (component: Material) => {\r\n    var sourceIndex = component.index,\r\n        lastComponentIndex: number = null;\r\n\r\n    MaterialData.count -= 1;\r\n    MaterialData.index -= 1;\r\n\r\n    lastComponentIndex = MaterialData.count;\r\n\r\n    deleteBySwap(sourceIndex, lastComponentIndex, MaterialData.shaderMap);\r\n    deleteBySwap(sourceIndex, lastComponentIndex, MaterialData.materialClassNameMap);\r\n    deleteBySwap(sourceIndex, lastComponentIndex, MaterialData.colorMap);\r\n    deleteBySwap(sourceIndex, lastComponentIndex, MaterialData.opacityMap);\r\n    deleteBySwap(sourceIndex, lastComponentIndex, MaterialData.alphaTestMap);\r\n\r\n    deleteBySwap(sourceIndex, lastComponentIndex, MaterialData.gameObjectMap);\r\n\r\n    deleteComponentBySwap(sourceIndex, lastComponentIndex, MaterialData.materialMap);\r\n\r\n    //not dispose shader(for reuse shader)\r\n})\r\n\r\nexport var getGameObject = (index: number, Data: any) => {\r\n    return getComponentGameObject(Data.gameObjectMap, index);\r\n}\r\n\r\nexport var initData = (MaterialData: any) => {\r\n    MaterialData.shaderMap = createMap();\r\n    MaterialData.materialClassNameMap = createMap();\r\n    MaterialData.colorMap = createMap();\r\n    MaterialData.opacityMap = createMap();\r\n    MaterialData.alphaTestMap = createMap();\r\n\r\n    MaterialData.materialMap = createMap();\r\n\r\n    MaterialData.gameObjectMap = createMap();\r\n\r\n    MaterialData.index = 0;\r\n    MaterialData.count = 0;\r\n}\r\n\r\n","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport {\r\n    getAlphaTest, getColor, getGameObject, getOpacity, getShader, initMaterial as initMaterialSystem, setAlphaTest, setColor,\r\n    setOpacity\r\n} from \"./MaterialSystem\";\r\nimport { Color } from \"../../structure/Color\";\r\nimport { MaterialData } from \"./MaterialData\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { Component } from \"../Component\";\r\nimport { getState } from \"../../core/DirectorSystem\";\r\nimport { DirectorData } from \"../../core/DirectorData\";\r\nimport { material_config } from \"../../renderer/data/material_config\";\r\nimport { shaderLib_generator } from \"../../renderer/data/shaderLib_generator\";\r\nimport { ShaderData } from \"../../renderer/shader/ShaderData\";\r\n\r\n@registerClass(\"Material\")\r\nexport class Material extends Component {\r\n}\r\n\r\nexport var getMaterialColor = (material: Material) => {\r\n    return getColor(material.index, MaterialData);\r\n}\r\n\r\nexport var setMaterialColor = (material: Material, color: Color) => {\r\n    setColor(material.index, color, MaterialData);\r\n}\r\n\r\nexport var getMaterialOpacity = (material: Material) => {\r\n    return getOpacity(material.index, MaterialData);\r\n}\r\n\r\nexport var setMaterialOpacity = (material: Material, opacity: number) => {\r\n    setOpacity(material.index, opacity, MaterialData);\r\n}\r\n\r\nexport var getMaterialAlphaTest = (material: Material) => {\r\n    return getAlphaTest(material.index, MaterialData);\r\n}\r\n\r\nexport var setMaterialAlphaTest = (material: Material, alphaTest: number) => {\r\n    setAlphaTest(material.index, alphaTest, MaterialData);\r\n}\r\n\r\nexport var getMaterialGameObject = (component: Material) => {\r\n    return getGameObject(component.index, MaterialData);\r\n}\r\n\r\nexport var getMaterialShader = (material: Material) => {\r\n    return getShader(material.index, MaterialData);\r\n}\r\n\r\nexport var initMaterial = (material: Material) => {\r\n    initMaterialSystem(material.index, getState(DirectorData));\r\n}\r\n","import { GameObject, IUIDEntity } from \"./GameObject\";\r\nimport { Component } from \"../../../component/Component\";\r\nimport { getTypeIDFromClass, getTypeIDFromComponent } from \"../../../component/ComponentTypeIDManager\";\r\nimport { createMap, deleteVal, isValidMapValue } from \"../../../utils/objectUtils\";\r\nimport { setParent } from \"../../../component/transform/ThreeDTransformSystem\";\r\nimport { GameObjectComponentData } from \"./GameObjectData\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { ThreeDTransform } from \"../../../component/transform/ThreeDTransform\";\r\nimport { isNotUndefined } from \"../../../utils/JudgeUtils\";\r\nimport { execHandle, execInitHandle } from \"../../../component/ComponentSystem\";\r\nimport { Geometry } from \"../../../component/geometry/Geometry\";\r\nimport { Material } from \"../../../component/material/Material\";\r\nimport { filter, forEach } from \"../../../utils/arrayUtils\";\r\nimport { Map as MapImmutable } from \"immutable\";\r\nimport { removeChildEntity } from \"../../../utils/entityUtils\";\r\nimport { chrome, firefox } from \"bowser\";\r\nimport { error, Log } from \"../../../utils/Log\";\r\nimport { isDisposeTooManyComponents, reAllocateGameObjectMap } from \"../../../utils/memoryUtils\";\r\n\r\nexport var create = ensureFunc((gameObject: GameObject, transform: ThreeDTransform, GameObjectData: any) => {\r\n    it(\"componentMap should has data\", () => {\r\n        expect(_getComponentData(gameObject.uid, GameObjectData)).exist;\r\n    });\r\n}, (transform: ThreeDTransform, GameObjectData: any) => {\r\n    var gameObject: GameObject = new GameObject(),\r\n        uid = _buildUID(GameObjectData);\r\n\r\n    gameObject.uid = uid;\r\n\r\n    GameObjectData.aliveUIDArray.push(uid);\r\n\r\n    if (!transform) {\r\n        _setComponentData(uid, {}, GameObjectData);\r\n    }\r\n    else {\r\n        addComponent(gameObject, transform, GameObjectData);\r\n    }\r\n\r\n    return gameObject;\r\n})\r\n\r\nvar _buildUID = (GameObjectData: any) => {\r\n    return GameObjectData.uid++;\r\n}\r\n\r\nexport var isAlive = (entity: IUIDEntity, GameObjectData: any) => {\r\n    return isValidMapValue(_getComponentData(entity.uid, GameObjectData));\r\n}\r\n\r\nexport var initGameObject = (gameObject: GameObject, state: MapImmutable<any, any>, GameObjectData: any) => {\r\n    var uid = gameObject.uid,\r\n        componentData: GameObjectComponentData = _getComponentData(uid, GameObjectData);\r\n\r\n    for (let typeID in componentData) {\r\n        if (componentData.hasOwnProperty(typeID)) {\r\n            execInitHandle(typeID, componentData[typeID].index, state);\r\n        }\r\n    }\r\n}\r\n\r\nexport var dispose = (entity: IUIDEntity, ThreeDTransformData: any, GameObjectData: any) => {\r\n    var uid = entity.uid;\r\n\r\n    let parent = _getParent(uid, GameObjectData);\r\n\r\n    if (_isParentExist(parent)) {\r\n        _removeFromChildrenMap(parent.uid, uid, GameObjectData);\r\n    }\r\n\r\n    _diposeAllDatas(entity, GameObjectData);\r\n\r\n    GameObjectData.disposeCount += 1;\r\n\r\n    if (isDisposeTooManyComponents(GameObjectData.disposeCount)) {\r\n        reAllocateGameObjectMap(GameObjectData);\r\n\r\n        GameObjectData.disposeCount = 0;\r\n    }\r\n}\r\n\r\nvar _removeFromChildrenMap = null;\r\n\r\nif (chrome) {\r\n    _removeFromChildrenMap = (parentUID: number, childUID: number, GameObjectData: any) => {\r\n        _setChildren(parentUID, filter(_getChildren(parentUID, GameObjectData), (gameObject: GameObject) => {\r\n            return gameObject.uid !== childUID;\r\n        }), GameObjectData);\r\n    }\r\n}\r\nelse if (firefox) {\r\n    _removeFromChildrenMap = (parentUID: number, childUID: number, GameObjectData: any) => {\r\n        removeChildEntity(_getChildren(parentUID, GameObjectData), childUID);\r\n    }\r\n}\r\nelse {\r\n    error(true, Log.info.FUNC_NOT_SUPPORT(\"browser\"));\r\n}\r\n\r\nvar _diposeAllDatas = (gameObject: GameObject, GameObjectData: any) => {\r\n    let uid = gameObject.uid,\r\n        children = _getChildren(uid, GameObjectData);\r\n\r\n    _disposeAllComponents(gameObject, GameObjectData);\r\n    _disposeMapDatas(uid, GameObjectData);\r\n\r\n    if (_isChildrenExist(children)) {\r\n        forEach(children, (child: GameObject) => {\r\n            _diposeAllDatas(child, GameObjectData);\r\n        })\r\n    }\r\n}\r\n\r\nvar _disposeMapDatas = (uid: number, GameObjectData: any) => {\r\n    deleteVal(uid, GameObjectData.childrenMap);\r\n    deleteVal(uid, GameObjectData.parentMap);\r\n    deleteVal(uid, GameObjectData.componentMap);\r\n}\r\n\r\nvar _disposeAllComponents = (gameObject: GameObject, GameObjectData: any) => {\r\n    var components = _getComponentData(gameObject.uid, GameObjectData);\r\n\r\n    //todo optimize?\r\n    for (let typeID in components) {\r\n        if (components.hasOwnProperty(typeID)) {\r\n            let component = components[typeID];\r\n\r\n            execHandle(component, \"disposeHandleMap\");\r\n        }\r\n    }\r\n}\r\n\r\nexport var addComponent = requireCheckFunc((gameObject: GameObject, component: Component, GameObjectData: any) => {\r\n    it(\"component should exist\", () => {\r\n        expect(component).exist;\r\n    });\r\n    it(\"should not has this type of component, please dispose it\", () => {\r\n        expect(hasComponent(gameObject, getTypeIDFromComponent(component), GameObjectData)).false;\r\n    });\r\n}, (gameObject: GameObject, component: Component, GameObjectData: any) => {\r\n    var uid = gameObject.uid,\r\n        typeID = getTypeIDFromComponent(component),\r\n        data = _getComponentData(uid, GameObjectData);\r\n\r\n    execHandle(component, \"addComponentHandleMap\", [component, gameObject]);\r\n\r\n    if (!data) {\r\n        let d = {};\r\n\r\n        d[typeID] = component;\r\n        _setComponentData(uid, d, GameObjectData);\r\n\r\n        return;\r\n    }\r\n\r\n    data[typeID] = component;\r\n})\r\n\r\nvar _removeComponent = (typeID: string, gameObject: GameObject, component: Component, GameObjectData: any) => {\r\n    var uid = gameObject.uid,\r\n        data = _getComponentData(uid, GameObjectData);\r\n\r\n    if (isValidMapValue(data)) {\r\n        deleteVal(typeID, data);\r\n    }\r\n}\r\n\r\n// export var removeComponent = (gameObject:GameObject, component: Component, GameObjectData:any) => {\r\n//     _removeComponent(getTypeIDFromComponent(component), gameObject, component, GameObjectData);\r\n// }\r\n\r\nexport var disposeComponent = (gameObject: GameObject, component: Component, GameObjectData: any) => {\r\n    var typeID = getTypeIDFromComponent(component);\r\n\r\n    _removeComponent(typeID, gameObject, component, GameObjectData);\r\n\r\n    execHandle(component, \"disposeHandleMap\");\r\n}\r\n\r\nexport var getComponent = (gameObject: GameObject, componentTypeID: string, GameObjectData: any) => {\r\n    var uid = gameObject.uid,\r\n        data = _getComponentData(uid, GameObjectData);\r\n\r\n    if (isValidMapValue(data)) {\r\n        let component = data[componentTypeID];\r\n\r\n        return isValidMapValue(component) ? component : null;\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nvar _getComponentData = (uid: number, GameObjectData: any) => GameObjectData.componentMap[uid];\r\n\r\nvar _setComponentData = (uid: number, data: GameObjectComponentData, GameObjectData: any) => GameObjectData.componentMap[uid] = data;\r\n\r\nexport var hasComponent = (gameObject: GameObject, componentTypeID: string, GameObjectData: any) => {\r\n    return getComponent(gameObject, componentTypeID, GameObjectData) !== null;\r\n}\r\n\r\nexport var getTransform = (gameObject: GameObject, GameObjectData: any) => {\r\n    return getComponent(gameObject, getTypeIDFromClass(ThreeDTransform), GameObjectData);\r\n}\r\n\r\nexport var getGeometry = (gameObject: GameObject, GameObjectData: any) => {\r\n    return getComponent(gameObject, getTypeIDFromClass(Geometry), GameObjectData);\r\n}\r\n\r\nexport var getMaterial = (gameObject: GameObject, GameObjectData: any) => {\r\n    return getComponent(gameObject, getTypeIDFromClass(Material), GameObjectData);\r\n}\r\n\r\nvar _isParentExist = (parent: GameObject) => isNotUndefined(parent);\r\n\r\nvar _isChildrenExist = (children: Array<GameObject>) => isNotUndefined(children);\r\n\r\nvar _isComponentExist = (component: Component) => component !== null;\r\n\r\nvar _isGameObjectEqual = (gameObject1: GameObject, gameObject2: GameObject) => gameObject1.uid === gameObject2.uid;\r\n\r\nvar _getParent = (uid: number, GameObjectData: any) => GameObjectData.parentMap[uid];\r\n\r\nvar _setParent = (uid: number, parent: GameObject, GameObjectData: any) => {\r\n    GameObjectData.parentMap[uid] = parent;\r\n}\r\n\r\nvar _getChildren = (uid: number, GameObjectData: any) => {\r\n    return GameObjectData.childrenMap[uid];\r\n}\r\n\r\nvar _addChild = (uid: number, child: GameObject, GameObjectData: any) => {\r\n    var children = _getChildren(uid, GameObjectData);\r\n\r\n    if (isValidMapValue(children)) {\r\n        children.push(child);\r\n    }\r\n    else {\r\n        _setChildren(uid, [child], GameObjectData);\r\n    }\r\n}\r\n\r\nvar _setChildren = (uid: number, children: Array<GameObject>, GameObjectData: any) => {\r\n    GameObjectData.childrenMap[uid] = children;\r\n}\r\n\r\nexport var addChild = requireCheckFunc((gameObject: GameObject, child: GameObject, ThreeDTransformData: any, GameObjectData: any) => {\r\n}, (gameObject: GameObject, child: GameObject, ThreeDTransformData: any, GameObjectData: any) => {\r\n    var transform = getTransform(gameObject, GameObjectData),\r\n        uid = gameObject.uid,\r\n        childUID = child.uid,\r\n        parent = _getParent(childUID, GameObjectData);\r\n\r\n    if (_isParentExist(parent)) {\r\n        removeChild(parent, child, ThreeDTransformData, GameObjectData);\r\n    }\r\n\r\n    _setParent(childUID, gameObject, GameObjectData);\r\n\r\n    if (_isComponentExist(transform)) {\r\n        setParent(getTransform(child, GameObjectData), transform, ThreeDTransformData);\r\n    }\r\n\r\n    _addChild(uid, child, GameObjectData);\r\n})\r\n\r\nexport var removeChild = requireCheckFunc((gameObject: GameObject, child: GameObject, ThreeDTransformData: any, GameObjectData: any) => {\r\n    it(\"child should has transform component\", () => {\r\n        expect(getTransform(child, GameObjectData)).exist;\r\n    });\r\n}, (gameObject: GameObject, child: GameObject, ThreeDTransformData: any, GameObjectData: any) => {\r\n    var uid = gameObject.uid,\r\n        childUID = child.uid;\r\n\r\n    deleteVal(childUID, GameObjectData.parentMap);\r\n\r\n    setParent(getTransform(child, GameObjectData), null, ThreeDTransformData);\r\n\r\n    _removeFromChildrenMap(uid, childUID, GameObjectData);\r\n})\r\n\r\nexport var hasChild = (gameObject: GameObject, child: GameObject, GameObjectData: any) => {\r\n    var parent = _getParent(child.uid, GameObjectData);\r\n\r\n    if (!_isParentExist(parent)) {\r\n        return false;\r\n    }\r\n\r\n    return _isGameObjectEqual(parent, gameObject);\r\n}\r\n\r\nexport var initData = (GameObjectData: any) => {\r\n    GameObjectData.uid = 0;\r\n\r\n    GameObjectData.componentMap = createMap();\r\n    GameObjectData.parentMap = createMap();\r\n    GameObjectData.childrenMap = createMap();\r\n\r\n    GameObjectData.aliveUIDArray = [];\r\n}\r\n","import {\r\n    dispose as disposePerspectiveCamera, initData as initDataPerspectiveCamera,\r\n    updateProjectionMatrix as updateProjectionMatrixPerspectiveCamera\r\n} from \"./PerspectiveCameraSystem\";\r\nimport { Map } from \"immutable\";\r\nimport { addToDirtyList, getGameObject } from \"./CameraControllerSystem\";\r\nimport { Matrix4 } from \"../../math/Matrix4\";\r\nimport { createMap, deleteVal } from \"../../utils/objectUtils\";\r\nimport { getTransform } from \"../../core/entityObject/gameObject/GameObjectSystem\";\r\nimport { getLocalToWorldMatrix, getTempLocalToWorldMatrix } from \"../transform/ThreeDTransformSystem\";\r\n\r\nexport var init = (state: Map<any, any>, index: number, PerspectiveCameraData: any, CameraData: any) => {\r\n    updateProjectionMatrix(index, PerspectiveCameraData, CameraData);\r\n}\r\n\r\nexport var updateProjectionMatrix = (index: number, PerspectiveCameraData: any, CameraData: any) => {\r\n    updateProjectionMatrixPerspectiveCamera(index, PerspectiveCameraData, CameraData);\r\n}\r\n\r\nexport var getWorldToCameraMatrix = (index: number, ThreeDTransformData: any, GameObjectData: any, CameraControllerData: any, CameraData: any) => {\r\n    return _getCameraToWorldMatrix(index, ThreeDTransformData, GameObjectData, CameraControllerData, CameraData).clone().invert();\r\n}\r\n\r\nvar _getCameraToWorldMatrix = (index: number, ThreeDTransformData: any, GameObjectData: any, CameraControllerData: any, CameraData: any) => {\r\n    var transform = getTransform(getGameObject(index, CameraControllerData), GameObjectData);\r\n\r\n    return getLocalToWorldMatrix(transform, getTempLocalToWorldMatrix(transform, ThreeDTransformData), ThreeDTransformData);\r\n}\r\n\r\nexport var getPMatrix = (index: number, CameraData: any) => {\r\n    return CameraData.pMatrixMap[index];\r\n}\r\n\r\nexport var setPMatrix = (index: number, pMatrix: Matrix4, CameraData: any) => {\r\n    CameraData.pMatrixMap[index] = pMatrix;\r\n}\r\n\r\n// export var setPMatrix = (index:number, pMatrix:Matrix4, CameraControllerData:any, CameraData:any) => {\r\n//     CameraData.pMatrixMap[index] = pMatrix;\r\n//\r\n//     addToDirtyList(index, CameraControllerData);\r\n// }\r\n\r\nexport var getNear = (index: number, CameraData: any) => {\r\n    return CameraData.nearMap[index];\r\n}\r\n\r\nexport var setNear = (index: number, near: number, CameraControllerData: any, CameraData: any) => {\r\n    CameraData.nearMap[index] = near;\r\n\r\n    addToDirtyList(index, CameraControllerData);\r\n}\r\n\r\nexport var getFar = (index: number, CameraData: any) => {\r\n    return CameraData.farMap[index];\r\n}\r\n\r\nexport var setFar = (index: number, far: number, CameraControllerData: any, CameraData: any) => {\r\n    CameraData.farMap[index] = far;\r\n\r\n    addToDirtyList(index, CameraControllerData);\r\n}\r\n\r\nexport var dispose = (index: number, PerspectiveCameraData: any, CameraData: any) => {\r\n    deleteVal(index, CameraData.nearMap);\r\n    deleteVal(index, CameraData.farMap);\r\n    deleteVal(index, CameraData.worldToCameraMatrixMap);\r\n    deleteVal(index, CameraData.pMatrixMap);\r\n\r\n    disposePerspectiveCamera(index, PerspectiveCameraData);\r\n}\r\n\r\nexport var initData = (PerspectiveCameraData: any, CameraData: any) => {\r\n    CameraData.nearMap = createMap();\r\n    CameraData.farMap = createMap();\r\n    CameraData.worldToCameraMatrixMap = createMap();\r\n    CameraData.pMatrixMap = createMap();\r\n\r\n    initDataPerspectiveCamera(PerspectiveCameraData);\r\n}\r\n\r\n","import { getFar, getNear, getPMatrix, setFar, setNear } from \"./CameraSystem\";\r\nimport { CameraController } from \"./CameraController\";\r\nimport { CameraControllerData } from \"./CameraControllerData\";\r\nimport { CameraData } from \"./CameraData\";\r\n\r\nexport var getCameraPMatrix = (cameraController: CameraController) => {\r\n    return getPMatrix(cameraController.index, CameraData);\r\n}\r\n\r\nexport var getCameraNear = (cameraController: CameraController) => {\r\n    return getNear(cameraController.index, CameraData);\r\n}\r\n\r\nexport var setCameraNear = (cameraController: CameraController, near: number) => {\r\n    setNear(cameraController.index, near, CameraControllerData, CameraData);\r\n}\r\n\r\nexport var getCameraFar = (cameraController: CameraController) => {\r\n    return getFar(cameraController.index, CameraData);\r\n}\r\n\r\nexport var setCameraFar = (cameraController: CameraController, far: number) => {\r\n    setFar(cameraController.index, far, CameraControllerData, CameraData);\r\n}\r\n","import { getFar, getNear, getPMatrix, setFar, setNear } from \"./CameraSystem\";\r\nimport { CameraController } from \"./CameraController\";\r\nimport { getAspect, getFovy, setAspect, setFovy } from \"./PerspectiveCameraSystem\";\r\nimport { PerspectiveCameraData } from \"./PerspectiveCameraData\";\r\nimport { CameraControllerData } from \"./CameraControllerData\";\r\n\r\nexport var getPerspectiveCameraFovy = (cameraController: CameraController) => {\r\n    return getFovy(cameraController.index, PerspectiveCameraData);\r\n}\r\n\r\nexport var setPerspectiveCameraFovy = (cameraController: CameraController, fovy: number) => {\r\n    setFovy(cameraController.index, fovy, PerspectiveCameraData, CameraControllerData);\r\n}\r\n\r\nexport var getPerspectiveCameraAspect = (cameraController: CameraController) => {\r\n    return getAspect(cameraController.index, PerspectiveCameraData);\r\n}\r\n\r\nexport var setPerspectiveCameraAspect = (cameraController: CameraController, aspect: number) => {\r\n    setAspect(cameraController.index, aspect, PerspectiveCameraData, CameraControllerData);\r\n}\r\n","import { ClassUtils } from \"../utils/ClassUtils\";\r\nimport { Component } from \"./Component\";\r\n\r\nvar _generateTypeID = () => {\r\n    var result = _typeID;\r\n\r\n    _typeID += 1;\r\n\r\n    return String(result);\r\n}\r\n\r\nexport var getTypeIDFromClass = (_class: any) => {\r\n    return _table[ClassUtils.getClassNameByClass(_class)];\r\n}\r\n\r\nexport var getTypeIDFromComponent = (component: Component) => {\r\n    return _table[ClassUtils.getClassNameByInstance(component)];\r\n}\r\n\r\nvar _addTypeID = (componentClassNameArr: Array<string>, table: object) => {\r\n    var id = _generateTypeID();\r\n\r\n    for (let className of componentClassNameArr) {\r\n        table[className] = id;\r\n    }\r\n}\r\n\r\nvar _typeID = 1;\r\nconst _table = {};\r\n\r\n_addTypeID([\"ThreeDTransform\"], _table);\r\n_addTypeID([\"Geometry\", \"BoxGeometry\", \"CustomGeometry\"], _table);\r\n_addTypeID([\"Material\", \"BasicMaterial\"], _table);\r\n_addTypeID([\"MeshRenderer\"], _table);\r\n_addTypeID([\"Tag\"], _table);\r\n_addTypeID([\"CameraController\"], _table);\r\n","import { BoxGeometry, BoxGeometryConfigData } from \"./BoxGeometry\";\r\nimport { ensureFunc, it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { Vector3 } from \"../../math/Vector3\";\r\nimport {\r\n    convertIndicesArrayToTypeArray,\r\n    convertVerticesArrayToTypeArray, create as createGeometry,\r\n    isIndicesBufferNeed32BitsByData\r\n} from \"./GeometrySystem\";\r\nimport { ExtendUtils } from \"wonder-commonlib/dist/es2015/utils/ExtendUtils\";\r\nimport { GlobalTempData } from \"../../definition/GlobalTempData\";\r\n\r\nexport var create = (GeometryData: any) => {\r\n    var geometry = new BoxGeometry(),\r\n        index: number = null;\r\n\r\n    geometry = createGeometry(geometry, GeometryData);\r\n\r\n    index = geometry.index;\r\n\r\n    setConfigData(index, {}, GeometryData);\r\n\r\n    GeometryData.computeDataFuncMap[index] = _computeData;\r\n\r\n    return geometry;\r\n}\r\n\r\nvar _computeData = (index: number, GeometryData: any) => {\r\n    var {\r\n            width,\r\n        height,\r\n        depth,\r\n        widthSegments,\r\n        heightSegments,\r\n        depthSegments\r\n        } = _getConfigData(index, GeometryData),\r\n        sides = {\r\n            FRONT: 0,\r\n            BACK: 1,\r\n            TOP: 2,\r\n            BOTTOM: 3,\r\n            RIGHT: 4,\r\n            LEFT: 5\r\n        },\r\n        vertices = [],\r\n        // var normals = [];\r\n        // var texCoords = [];\r\n        indices = [];\r\n\r\n    var faceAxes = [\r\n        [0, 1, 3], // FRONT\r\n        [4, 5, 7], // BACK\r\n        [3, 2, 6], // TOP\r\n        [1, 0, 4], // BOTTOM\r\n        [1, 4, 2], // RIGHT\r\n        [5, 0, 6]  // LEFT\r\n    ];\r\n\r\n    // var faceNormals = [\r\n    //     [  0,  0,  1 ], // FRONT\r\n    //     [  0,  0, -1 ], // BACK\r\n    //     [  0,  1,  0 ], // TOP\r\n    //     [  0, -1,  0 ], // BOTTOM\r\n    //     [  1,  0,  0 ], // RIGHT\r\n    //     [ -1,  0,  0 ]  // LEFT\r\n    // ];\r\n    var corners = [\r\n        Vector3.create(-width, -height, depth),\r\n        Vector3.create(width, -height, depth),\r\n        Vector3.create(width, height, depth),\r\n        Vector3.create(-width, height, depth),\r\n        Vector3.create(width, -height, -depth),\r\n        Vector3.create(-width, -height, -depth),\r\n        Vector3.create(-width, height, -depth),\r\n        Vector3.create(width, height, -depth)\r\n    ];\r\n\r\n    function generateFace(side, uSegments, vSegments) {\r\n        var x, y, z, u, v;\r\n        var i, j;\r\n        var offset = vertices.length / 3;\r\n\r\n        for (i = 0; i <= uSegments; i++) {\r\n            for (j = 0; j <= vSegments; j++) {\r\n                let temp1 = GlobalTempData.vector3_1,\r\n                    temp2 = GlobalTempData.vector3_2,\r\n                    temp3 = GlobalTempData.vector3_3,\r\n                    r = GlobalTempData.vector3_4;\r\n\r\n                temp1.lerp(corners[faceAxes[side][0]], corners[faceAxes[side][1]], i / uSegments);\r\n                temp2.lerp(corners[faceAxes[side][0]], corners[faceAxes[side][2]], j / vSegments);\r\n                temp3.sub2(temp2, corners[faceAxes[side][0]]);\r\n                r.add2(temp1, temp3);\r\n                u = i / uSegments;\r\n                v = j / vSegments;\r\n\r\n                vertices.push(r.x, r.y, r.z);\r\n                // normals.push(faceNormals[side][0], faceNormals[side][1], faceNormals[side][2]);\r\n                // texCoords.push(u, v);\r\n\r\n                if ((i < uSegments) && (j < vSegments)) {\r\n                    indices.push(offset + j + i * (uSegments + 1), offset + j + (i + 1) * (uSegments + 1), offset + j + i * (uSegments + 1) + 1);\r\n                    indices.push(offset + j + (i + 1) * (uSegments + 1), offset + j + (i + 1) * (uSegments + 1) + 1, offset + j + i * (uSegments + 1) + 1);\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    generateFace(sides.FRONT, widthSegments, heightSegments);\r\n    generateFace(sides.BACK, widthSegments, heightSegments);\r\n    generateFace(sides.TOP, widthSegments, depthSegments);\r\n    generateFace(sides.BOTTOM, widthSegments, depthSegments);\r\n    generateFace(sides.RIGHT, depthSegments, heightSegments);\r\n    generateFace(sides.LEFT, depthSegments, heightSegments);\r\n\r\n    return {\r\n        vertices: convertVerticesArrayToTypeArray(vertices),\r\n        indices: convertIndicesArrayToTypeArray(indices, GeometryData)\r\n    };\r\n}\r\n\r\nvar _getConfigData = ensureFunc((data: BoxGeometryConfigData) => {\r\n    it(\"config data should be defined\", () => {\r\n        expect(data).exist;\r\n        expect(data.width).exist;\r\n        expect(data.height).exist;\r\n        expect(data.depth).exist;\r\n        expect(data.widthSegments).exist;\r\n        expect(data.heightSegments).exist;\r\n        expect(data.depthSegments).exist;\r\n    })\r\n}, (index: number, GeometryData: any) => {\r\n    return GeometryData.configDataMap[index];\r\n})\r\n\r\nexport var setConfigData = (index: number, data: BoxGeometryConfigData, GeometryData: any) => {\r\n    GeometryData.configDataMap[index] = ExtendUtils.extend({\r\n        width: 10,\r\n        height: 10,\r\n        depth: 10,\r\n        widthSegments: 1,\r\n        heightSegments: 1,\r\n        depthSegments: 1\r\n    },\r\n        data\r\n    );\r\n}\r\n\r\n","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { Geometry } from \"./Geometry\";\r\nimport { create, setConfigData } from \"./BoxGeometrySystem\";\r\nimport { GeometryData } from \"./GeometryData\";\r\n\r\n@registerClass(\"BoxGeometry\")\r\nexport class BoxGeometry extends Geometry {\r\n}\r\n\r\nexport var createBoxGeometry = () => {\r\n    return create(GeometryData);\r\n}\r\n\r\nexport var setBoxGeometryConfigData = (geometry: BoxGeometry, data: BoxGeometryConfigData) => {\r\n    setConfigData(geometry.index, data, GeometryData);\r\n}\r\n\r\nexport type BoxGeometryConfigDataMap = {\r\n    [index: number]: BoxGeometryConfigData\r\n}\r\n\r\nexport type BoxGeometryConfigData = {\r\n    width?: number;\r\n    height?: number;\r\n    depth?: number;\r\n    widthSegments?: number;\r\n    heightSegments?: number;\r\n    depthSegments?: number;\r\n}\r\n","import { CustomGeometry } from \"./CustomGeometry\";\r\nimport { create as createGeometry, getIndices, getVertices } from \"./GeometrySystem\";\r\n\r\nexport var create = (GeometryData: any) => {\r\n    return createGeometry(new CustomGeometry(), GeometryData);\r\n}\r\n","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { Geometry } from \"./Geometry\";\r\nimport { create } from \"./CustomGeometrySystem\";\r\nimport { GeometryData } from \"./GeometryData\";\r\nimport { setIndices, setVertices } from \"./GeometrySystem\";\r\n\r\n@registerClass(\"CustomGeometry\")\r\nexport class CustomGeometry extends Geometry {\r\n}\r\n\r\nexport var createCustomGeometry = () => {\r\n    return create(GeometryData);\r\n}\r\n\r\nexport var setCustomGeometryVertices = (geometry: Geometry, vertices: Float32Array) => {\r\n    return setVertices(geometry.index, vertices, GeometryData);\r\n}\r\n\r\nexport var setCustomGeometryIndices = (geometry: Geometry, indices: Uint16Array | Uint32Array) => {\r\n    return setIndices(geometry.index, indices, GeometryData);\r\n}\r\n","import { BasicMaterial } from \"./BasicMaterial\";\r\nimport { create as createMaterial, setShader } from \"./MaterialSystem\";\r\nimport { create as createShader } from \"../../renderer/shader/ShaderSystem\";\r\nimport { isValidMapValue } from \"../../utils/objectUtils\";\r\n\r\nexport var create = (ShaderData: any, MaterialData: any) => {\r\n    var material = new BasicMaterial(),\r\n        materialClassName = \"BasicMaterial\";\r\n\r\n    material = createMaterial(material, materialClassName, MaterialData);\r\n\r\n    setShader(material.index, _createShader(materialClassName, ShaderData), MaterialData);\r\n\r\n    return material;\r\n}\r\n\r\nvar _createShader = (materialClassName: string, ShaderData: any) => {\r\n    var shaderMap = ShaderData.shaderMap,\r\n        shader = shaderMap[materialClassName];\r\n\r\n    if (isValidMapValue(shader)) {\r\n        return shader;\r\n    }\r\n\r\n    shader = createShader(ShaderData);\r\n\r\n    shaderMap[materialClassName] = shader;\r\n\r\n    return shader;\r\n}\r\n","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { Material } from \"./Material\";\r\nimport { create } from \"./BasicMaterialSystem\";\r\nimport { ShaderData } from \"../../renderer/shader/ShaderData\";\r\nimport { MaterialData } from \"./MaterialData\";\r\n\r\n@registerClass(\"BasicMaterial\")\r\nexport class BasicMaterial extends Material {\r\n}\r\n\r\nexport var createBasicMaterial = () => {\r\n    return create(ShaderData, MaterialData);\r\n}\r\n","import { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { ComponentGameObjectMap } from \"../ComponentData\";\r\nimport { MeshRenderer } from \"./MeshRenderer\";\r\nimport { ComponentMap } from \"../ComponentSystem\";\r\n\r\nexport class MeshRendererData {\r\n    public static renderGameObjectArray: Array<GameObject> = null;\r\n    public static gameObjectMap: ComponentGameObjectMap = null;\r\n    public static meshRendererMap: ComponentMap = null;\r\n\r\n    public static index: number = null;\r\n    public static count: number = null;\r\n}\r\n\r\n","import { MeshRenderer } from \"./MeshRenderer\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport curry from \"wonder-lodash/curry\";\r\nimport { it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { deleteBySwap } from \"../../utils/arrayUtils\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { Map } from \"immutable\";\r\nimport {\r\n    addAddComponentHandle as addAddComponentHandleToMap, addComponentToGameObjectMap,\r\n    addDisposeHandle as addDisposeHandleToMap, deleteComponentBySwap, generateComponentIndex, getComponentGameObject\r\n} from \"../ComponentSystem\";\r\nimport { createMap, deleteBySwap as deleteObjectBySwap, deleteVal } from \"../../utils/objectUtils\";\r\nimport { checkIndexShouldEqualCount } from \"../utils/contractUtils\";\r\nimport { MeshRendererData } from \"./MeshRendererData\";\r\n\r\nexport var addAddComponentHandle = (_class: any) => {\r\n    addAddComponentHandleToMap(_class, addComponent);\r\n}\r\n\r\nexport var addDisposeHandle = (_class: any) => {\r\n    addDisposeHandleToMap(_class, disposeComponent);\r\n}\r\n\r\nexport var create = requireCheckFunc((MeshRendererData: any) => {\r\n    checkIndexShouldEqualCount(MeshRendererData);\r\n}, (MeshRendererData: any) => {\r\n    var renderer = new MeshRenderer(),\r\n        index = generateComponentIndex(MeshRendererData);\r\n\r\n    renderer.index = index;\r\n\r\n    MeshRendererData.count += 1;\r\n\r\n    MeshRendererData.meshRendererMap[index] = renderer;\r\n\r\n    return renderer;\r\n})\r\n\r\nvar _setRenderGameObjectArray = requireCheckFunc((index: number, gameObject: GameObject, renderGameObjectArray: Array<GameObject>) => {\r\n    it(\"should not exist gameObject\", function() {\r\n        expect(renderGameObjectArray[index]).not.exist;\r\n    })\r\n}, (index: number, gameObject: GameObject, renderGameObjectArray: Array<GameObject>) => {\r\n    renderGameObjectArray[index] = gameObject;\r\n})\r\n\r\nexport var addComponent = (component: MeshRenderer, gameObject: GameObject) => {\r\n    _setRenderGameObjectArray(component.index, gameObject, MeshRendererData.renderGameObjectArray);\r\n\r\n    addComponentToGameObjectMap(MeshRendererData.gameObjectMap, component.index, gameObject);\r\n}\r\n\r\nexport var disposeComponent = (component: MeshRenderer) => {\r\n    var sourceIndex = component.index,\r\n        lastComponentIndex = null;\r\n\r\n    deleteBySwap(sourceIndex, MeshRendererData.renderGameObjectArray);\r\n\r\n    MeshRendererData.count -= 1;\r\n    MeshRendererData.index -= 1;\r\n\r\n    lastComponentIndex = MeshRendererData.count;\r\n\r\n    deleteObjectBySwap(sourceIndex, lastComponentIndex, MeshRendererData.gameObjectMap);\r\n\r\n    deleteComponentBySwap(sourceIndex, lastComponentIndex, MeshRendererData.meshRendererMap);\r\n}\r\n\r\nexport var getGameObject = (index: number, Data: any) => {\r\n    return getComponentGameObject(Data.gameObjectMap, index);\r\n}\r\n\r\nexport var getRenderList = curry((state: Map<any, any>, MeshRendererData: any) => {\r\n    return MeshRendererData.renderGameObjectArray;\r\n})\r\n\r\nexport var initData = (MeshRendererData: any) => {\r\n    MeshRendererData.renderGameObjectArray = [];\r\n    MeshRendererData.gameObjectMap = createMap();\r\n    MeshRendererData.meshRendererMap = createMap();\r\n    MeshRendererData.index = 0;\r\n    MeshRendererData.count = 0;\r\n}\r\n","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { create, getGameObject, getRenderList } from \"./MeshRendererSystem\";\r\nimport { MeshRendererData } from \"./MeshRendererData\";\r\nimport { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport { Component } from \"../Component\";\r\n\r\n@registerClass(\"MeshRenderer\")\r\nexport class MeshRenderer extends Component {\r\n}\r\n\r\nexport var createMeshRenderer = () => {\r\n    return create(MeshRendererData);\r\n}\r\n\r\nexport var getMeshRendererGameObject = (component: MeshRenderer) => {\r\n    return getGameObject(component.index, MeshRendererData);\r\n}\r\n\r\nexport var getMeshRendererRenderList = () => {\r\n    return getRenderList(null, MeshRendererData);\r\n}\r\n","declare var global: any, module: any;\r\n\r\nexport class JudgeUtils {\r\n    public static isArray(arr: any) {\r\n        const MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\r\n        var length = arr && arr.length;\r\n\r\n        return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\r\n    }\r\n\r\n    public static isArrayExactly(arr: any) {\r\n        return Object.prototype.toString.call(arr) === \"[object Array]\";\r\n    }\r\n\r\n    public static isNumber(num: any) {\r\n        return typeof num == \"number\";\r\n    }\r\n\r\n    public static isNumberExactly(num: any) {\r\n        return Object.prototype.toString.call(num) === \"[object Number]\";\r\n    }\r\n\r\n    public static isString(str: any) {\r\n        return typeof str == \"string\";\r\n    }\r\n\r\n    public static isStringExactly(str: any) {\r\n        return Object.prototype.toString.call(str) === \"[object String]\";\r\n    }\r\n\r\n    public static isBoolean(bool: any) {\r\n        return bool === true || bool === false || toString.call(bool) === '[boolect Boolean]';\r\n    }\r\n\r\n    public static isDom(obj: any) {\r\n        return !!(obj && obj.nodeType === 1);\r\n    }\r\n\r\n\r\n    public static isObject(obj: any) {\r\n        var type = typeof obj;\r\n\r\n        return type === 'function' || type === 'object' && !!obj;\r\n    }\r\n\r\n    /**\r\n     * 判断是否为对象字面量（{}）\r\n     */\r\n    public static isDirectObject(obj: any) {\r\n        return Object.prototype.toString.call(obj) === \"[object Object]\";\r\n    }\r\n\r\n    /**\r\n     * 检查宿主对象是否可调用\r\n     *\r\n     * 任何对象，如果其语义在ECMAScript规范中被定义过，那么它被称为原生对象；\r\n     环境所提供的，而在ECMAScript规范中没有被描述的对象，我们称之为宿主对象。\r\n\r\n     该方法用于特性检测，判断对象是否可用。用法如下：\r\n\r\n     MyEngine addEvent():\r\n     if (Tool.judge.isHostMethod(dom, \"addEventListener\")) {    //判断dom是否具有addEventListener方法\r\n        dom.addEventListener(sEventType, fnHandler, false);\r\n        }\r\n     */\r\n    public static isHostMethod(object: any, property: any) {\r\n        var type = typeof object[property];\r\n\r\n        return type === \"function\" ||\r\n            (type === \"object\" && !!object[property]);\r\n        // || type == \"unknown\";\r\n    }\r\n\r\n    public static isNodeJs() {\r\n        return ((typeof global != \"undefined\" && global.module) || (typeof module != \"undefined\")) && typeof module.exports != \"undefined\";\r\n    }\r\n\r\n    //overwrite it in the end of this file\r\n    public static isFunction(func: any): boolean {\r\n        return true;\r\n    }\r\n}\r\n\r\n// Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\r\n// IE 11 (#1621), and in Safari 8 (#1929).\r\nif (typeof /./ != 'function' && typeof Int8Array != 'object') {\r\n    JudgeUtils.isFunction = (func: any) => {\r\n        return typeof func == 'function';\r\n    };\r\n}\r\nelse {\r\n    JudgeUtils.isFunction = (func: any) => {\r\n        return Object.prototype.toString.call(func) === \"[object Function]\";\r\n    };\r\n}","import { JudgeUtils } from \"../utils/JudgeUtils\";\r\nimport {Log} from \"../Log\";\r\n\r\ndeclare var global: NodeJS.Global, window: Window;\r\nexport var root: any;\r\n\r\nif (JudgeUtils.isNodeJs() && typeof global != \"undefined\") {\r\n    root = global;\r\n}\r\nelse if(typeof window != \"undefined\"){\r\n    root = window;\r\n}\r\nelse if(typeof self != \"undefined\"){\r\n    /*!\r\n     in web worker\r\n     */\r\n    root = self;\r\n}\r\nelse{\r\n    Log.error(\"no avaliable root!\");\r\n}","import { root } from \"./global/Variable\";\r\n\r\nexport class Log {\r\n    public static info = {\r\n        INVALID_PARAM: \"invalid parameter\",\r\n\r\n        helperFunc: function(...args) {\r\n            var result = \"\";\r\n\r\n            args.forEach(function(val) {\r\n                result += String(val) + \" \";\r\n            });\r\n\r\n            return result.slice(0, -1);\r\n        },\r\n        assertion: function(...args) {\r\n            if (args.length === 2) {\r\n                return this.helperFunc(args[0], args[1]);\r\n            }\r\n            else if (args.length === 3) {\r\n                return this.helperFunc(args[1], args[0], args[2]);\r\n            }\r\n            else {\r\n                throw new Error(\"args.length must <= 3\");\r\n            }\r\n        },\r\n\r\n        FUNC_INVALID: function(...args) {\r\n            args.unshift(\"invalid\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST: function(...args) {\r\n            args.unshift(\"must\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_BE: function(...args) {\r\n            args.unshift(\"must be\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_NOT_BE: function(...args) {\r\n            args.unshift(\"must not be\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_SHOULD: function(...args) {\r\n            args.unshift(\"should\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_SHOULD_NOT: function(...args) {\r\n            args.unshift(\"should not\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_SUPPORT: function(...args) {\r\n            args.unshift(\"support\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_NOT_SUPPORT: function(...args) {\r\n            args.unshift(\"not support\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_DEFINE: function(...args) {\r\n            args.unshift(\"must define\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_MUST_NOT_DEFINE: function(...args) {\r\n            args.unshift(\"must not define\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_UNKNOW: function(...args) {\r\n            args.unshift(\"unknow\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_EXPECT: function(...args) {\r\n            args.unshift(\"expect\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_UNEXPECT: function(...args) {\r\n            args.unshift(\"unexpect\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_EXIST: function(...args) {\r\n            args.unshift(\"exist\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_NOT_EXIST: function(...args) {\r\n            args.unshift(\"not exist\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_ONLY: function(...args) {\r\n            args.unshift(\"only\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        },\r\n        FUNC_CAN_NOT: function(...args) {\r\n            args.unshift(\"can't\");\r\n\r\n            return this.assertion.apply(this, args);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Output Debug message.\r\n     * @function\r\n     * @param {String} message\r\n     */\r\n    public static log(...messages) {\r\n        if (!this._exec(\"log\", messages)) {\r\n            root.alert(messages.join(\",\"));\r\n        }\r\n\r\n        this._exec(\"trace\", messages);\r\n    }\r\n\r\n    /**\r\n     * 断言失败时，会提示错误信息，但程序会继续执行下去\r\n     * 使用断言捕捉不应该发生的非法情况。不要混淆非法情况与错误情况之间的区别，后者是必然存在的并且是一定要作出处理的。\r\n     *\r\n     * 1）对非预期错误使用断言\r\n     断言中的布尔表达式的反面一定要描述一个非预期错误，下面所述的在一定情况下为非预期错误的一些例子：\r\n     （1）空指针。\r\n     （2）输入或者输出参数的值不在预期范围内。\r\n     （3）数组的越界。\r\n     非预期错误对应的就是预期错误，我们通常使用错误处理代码来处理预期错误，而使用断言处理非预期错误。在代码执行过程中，有些错误永远不应该发生，这样的错误是非预期错误。断言可以被看成是一种可执行的注释，你不能依赖它来让代码正常工作（《Code Complete 2》）。例如：\r\n     int nRes = f(); // nRes 由 f 函数控制， f 函数保证返回值一定在 -100 ~ 100\r\n     Assert(-100 <= nRes && nRes <= 100); // 断言，一个可执行的注释\r\n     由于 f 函数保证了返回值处于 -100 ~ 100，那么如果出现了 nRes 不在这个范围的值时，就表明一个非预期错误的出现。后面会讲到“隔栏”，那时会对断言有更加深刻的理解。\r\n     2）不要把需要执行的代码放入断言中\r\n     断言用于软件的开发和维护，而通常不在发行版本中包含断言。\r\n     需要执行的代码放入断言中是不正确的，因为在发行版本中，这些代码通常不会被执行，例如：\r\n     Assert(f()); // f 函数通常在发行版本中不会被执行\r\n     而使用如下方法则比较安全：\r\n     res = f();\r\n     Assert(res); // 安全\r\n     3）对来源于内部系统的可靠的数据使用断言，而不要对外部不可靠的数据使用断言，对于外部不可靠数据，应该使用错误处理代码。\r\n     再次强调，把断言看成可执行的注释。\r\n     * @param cond 如果cond返回false，则断言失败，显示message\r\n     * @param message\r\n     */\r\n    public static assert(cond, ...messages) {\r\n        if (cond) {\r\n            if (!this._exec(\"assert\", arguments, 1)) {\r\n                this.log.apply(this, Array.prototype.slice.call(arguments, 1));\r\n            }\r\n        }\r\n    }\r\n\r\n    public static error(cond, ...message): any {\r\n        if (cond) {\r\n            /*!\r\n            console.error will not interrupt, it will throw error and continue exec the left statements\r\n\r\n            but here need interrupt! so not use it here.\r\n             */\r\n            //if (!this._exec(\"error\", arguments, 1)) {\r\n            throw new Error(Array.prototype.slice.call(arguments, 1).join(\"\\n\"));\r\n            //}\r\n        }\r\n    }\r\n\r\n    public static warn(...message) {\r\n        var result = this._exec(\"warn\", arguments);\r\n\r\n        if (!result) {\r\n            this.log.apply(this, arguments);\r\n        }\r\n        else {\r\n            this._exec(\"trace\", [\"warn trace\"]);\r\n        }\r\n    }\r\n\r\n    private static _exec(consoleMethod, args, sliceBegin = 0) {\r\n        if (root.console && root.console[consoleMethod]) {\r\n            root.console[consoleMethod].apply(root.console, Array.prototype.slice.call(args, sliceBegin));\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n}","export abstract class Entity {\r\n    public static UID: number = 1;\r\n\r\n    private _uid: string = null;\r\n    get uid() {\r\n        return this._uid;\r\n    }\r\n    set uid(uid: string) {\r\n        this._uid = uid;\r\n    }\r\n\r\n    constructor(uidPre: string) {\r\n        this._uid = uidPre + String(Entity.UID++);\r\n    }\r\n}","export const $BREAK = {\r\n    break: true\r\n};\r\nexport const $REMOVE = void 0;","import { JudgeUtils } from \"./utils/JudgeUtils\";\r\nimport { $BREAK } from \"./global/Const\";\r\n\r\nexport class List<T> {\r\n    protected children: Array<T> = null;\r\n\r\n    public getCount(): number {\r\n        return this.children.length;\r\n    }\r\n\r\n    public hasChild(child: any): boolean {\r\n        var c: any = null,\r\n            children = this.children;\r\n\r\n        for (let i = 0, len = children.length; i < len; i++) {\r\n            c = children[i];\r\n\r\n            if (child.uid && c.uid && child.uid == c.uid) {\r\n                return true;\r\n            }\r\n            else if (child === c) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    public hasChildWithFunc(func: Function): boolean {\r\n        for (let i = 0, len = this.children.length; i < len; i++) {\r\n            if (func(this.children[i], i)) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\n    public getChildren() {\r\n        return this.children;\r\n    }\r\n\r\n    public getChild(index: number) {\r\n        return this.children[index];\r\n    }\r\n\r\n    public addChild(child: T) {\r\n        this.children.push(child);\r\n\r\n        return this;\r\n    }\r\n\r\n    public addChildren(arg: Array<T> | List<T> | any) {\r\n        if (JudgeUtils.isArray(arg)) {\r\n            let children: Array<T> = arg;\r\n\r\n            this.children = this.children.concat(children);\r\n        }\r\n        else if (arg instanceof List) {\r\n            let children: List<T> = arg;\r\n\r\n            this.children = this.children.concat(children.getChildren());\r\n        }\r\n        else {\r\n            let child: any = arg;\r\n\r\n            this.addChild(child);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    //todo test\r\n    public setChildren(children: Array<T>) {\r\n        this.children = children;\r\n\r\n        return this;\r\n    }\r\n\r\n    public unShiftChild(child: T) {\r\n        this.children.unshift(child);\r\n    }\r\n\r\n    public removeAllChildren() {\r\n        this.children = [];\r\n\r\n        return this;\r\n    }\r\n\r\n    public forEach(func: Function, context?: any) {\r\n        this._forEach(this.children, func, context);\r\n\r\n        return this;\r\n    }\r\n\r\n    //public removeChildAt (index) {\r\n    //    Log.error(index < 0, \"序号必须大于等于0\");\r\n    //\r\n    //    this.children.splice(index, 1);\r\n    //}\r\n    //\r\n\r\n    public toArray() {\r\n        return this.children;\r\n    }\r\n\r\n    protected copyChildren() {\r\n        return this.children.slice(0);\r\n    }\r\n\r\n    protected removeChildHelper(arg: any): Array<T> {\r\n        var result = null;\r\n\r\n        if (JudgeUtils.isFunction(arg)) {\r\n            let func = <Function>arg;\r\n\r\n            result = this._removeChild(this.children, func);\r\n        }\r\n        else if (arg.uid) {\r\n            result = this._removeChild(this.children, (e) => {\r\n                if (!e.uid) {\r\n                    return false;\r\n                }\r\n                return e.uid === arg.uid;\r\n            });\r\n        }\r\n        else {\r\n            result = this._removeChild(this.children, (e) => {\r\n                return e === arg;\r\n            });\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    private _forEach(arr: T[], func: Function, context?: any) {\r\n        var scope = context,\r\n            i = 0,\r\n            len = arr.length;\r\n\r\n\r\n        for (i = 0; i < len; i++) {\r\n            if (func.call(scope, arr[i], i) === $BREAK) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private _removeChild(arr: T[], func: Function) {\r\n        var self = this,\r\n            removedElementArr = [],\r\n            remainElementArr = [];\r\n\r\n        this._forEach(arr, (e, index) => {\r\n            if (!!func.call(self, e)) {\r\n                removedElementArr.push(e);\r\n            }\r\n            else {\r\n                remainElementArr.push(e);\r\n            }\r\n        });\r\n\r\n        this.children = remainElementArr;\r\n\r\n        return removedElementArr;\r\n    }\r\n}","import { JudgeUtils } from \"./JudgeUtils\";\r\n\r\nexport class ExtendUtils {\r\n    /**\r\n     * 深拷贝\r\n     *\r\n     * 示例：\r\n     * 如果拷贝对象为数组，能够成功拷贝（不拷贝Array原型链上的成员）\r\n     * expect(extend.extendDeep([1, { x: 1, y: 1 }, \"a\", { x: 2 }, [2]])).toEqual([1, { x: 1, y: 1 }, \"a\", { x: 2 }, [2]]);\r\n     *\r\n     * 如果拷贝对象为对象，能够成功拷贝（能拷贝原型链上的成员）\r\n     * var result = null;\r\n     function A() {\r\n            };\r\n     A.prototype.a = 1;\r\n\r\n     function B() {\r\n            };\r\n     B.prototype = new A();\r\n     B.prototype.b = { x: 1, y: 1 };\r\n     B.prototype.c = [{ x: 1 }, [2]];\r\n\r\n     var t = new B();\r\n\r\n     result = extend.extendDeep(t);\r\n\r\n     expect(result).toEqual(\r\n     {\r\n         a: 1,\r\n         b: { x: 1, y: 1 },\r\n         c: [{ x: 1 }, [2]]\r\n     });\r\n     * @param parent\r\n     * @param child\r\n     * @returns\r\n     */\r\n    public static extendDeep(parent, child?, filter = function(val, i) { return true; }) {\r\n        var i = null,\r\n            len = 0,\r\n            toStr = Object.prototype.toString,\r\n            sArr = \"[object Array]\",\r\n            sOb = \"[object Object]\",\r\n            type = \"\",\r\n            _child = null;\r\n\r\n        //数组的话，不获得Array原型上的成员。\r\n        if (toStr.call(parent) === sArr) {\r\n            _child = child || [];\r\n\r\n            for (i = 0, len = parent.length; i < len; i++) {\r\n                let member = parent[i];\r\n\r\n                if (!filter(member, i)) {\r\n                    continue;\r\n                }\r\n\r\n                if (member.clone) {\r\n                    _child[i] = member.clone();\r\n                    continue;\r\n                }\r\n\r\n                type = toStr.call(member);\r\n                if (type === sArr || type === sOb) {    //如果为数组或object对象\r\n                    _child[i] = type === sArr ? [] : {};\r\n                    ExtendUtils.extendDeep(member, _child[i]);\r\n                } else {\r\n                    _child[i] = member;\r\n                }\r\n            }\r\n        }\r\n        //对象的话，要获得原型链上的成员。因为考虑以下情景：\r\n        //类A继承于类B，现在想要拷贝类A的实例a的成员（包括从类B继承来的成员），那么就需要获得原型链上的成员。\r\n        else if (toStr.call(parent) === sOb) {\r\n            _child = child || {};\r\n\r\n            for (i in parent) {\r\n                let member = parent[i];\r\n\r\n                if (!filter(member, i)) {\r\n                    continue;\r\n                }\r\n\r\n                if (member.clone) {\r\n                    _child[i] = member.clone();\r\n                    continue;\r\n                }\r\n\r\n                type = toStr.call(member);\r\n                if (type === sArr || type === sOb) {    //如果为数组或object对象\r\n                    _child[i] = type === sArr ? [] : {};\r\n                    ExtendUtils.extendDeep(member, _child[i]);\r\n                } else {\r\n                    _child[i] = member;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            _child = parent;\r\n        }\r\n\r\n        return _child;\r\n    }\r\n\r\n    /**\r\n     * 浅拷贝\r\n     */\r\n    public static extend(destination: any, source: any) {\r\n        var property = \"\";\r\n\r\n        for (property in source) {\r\n            destination[property] = source[property];\r\n        }\r\n        return destination;\r\n    }\r\n\r\n    public static copyPublicAttri(source: any) {\r\n        var property = null,\r\n            destination = {};\r\n\r\n        this.extendDeep(source, destination, function(item, property) {\r\n            return property.slice(0, 1) !== \"_\"\r\n                && !JudgeUtils.isFunction(item);\r\n        });\r\n\r\n        return destination;\r\n    }\r\n}","import { List } from \"./List\";\r\nimport { JudgeUtils } from \"./utils/JudgeUtils\";\r\nimport { ExtendUtils } from \"./utils/ExtendUtils\";\r\nimport { $BREAK, $REMOVE } from \"./global/Const\";\r\n\r\nexport class Collection<T> extends List<T>{\r\n    public static create<T>(children = []) {\r\n        var obj = new this(<Array<T>>children);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(children: Array<T> = []) {\r\n        super();\r\n\r\n        this.children = children;\r\n    }\r\n\r\n    public clone();\r\n    public clone(isDeep: boolean);\r\n    public clone(target: Collection<T>);\r\n    public clone(target: Collection<T>, isDeep: boolean);\r\n\r\n    public clone(...args) {\r\n        var target: Collection<T> = null,\r\n            isDeep: boolean = null;\r\n\r\n        if (args.length === 0) {\r\n            isDeep = false;\r\n            target = Collection.create<T>();\r\n        }\r\n        else if (args.length === 1) {\r\n            if (JudgeUtils.isBoolean(args[0])) {\r\n                target = Collection.create<T>();\r\n                isDeep = args[0];\r\n            }\r\n            else {\r\n                target = args[0];\r\n                isDeep = false;\r\n            }\r\n        }\r\n        else {\r\n            target = args[0];\r\n            isDeep = args[1];\r\n        }\r\n\r\n        if (isDeep === true) {\r\n            target.setChildren(ExtendUtils.extendDeep(this.children));\r\n        }\r\n        else {\r\n            target.setChildren(ExtendUtils.extend([], this.children));\r\n        }\r\n\r\n        return target;\r\n    }\r\n\r\n    public filter(func: (value: T, index: number) => boolean): Collection<T> {\r\n        var children = this.children,\r\n            result = [],\r\n            value = null;\r\n\r\n        for (let i = 0, len = children.length; i < len; i++) {\r\n            value = children[i];\r\n\r\n            if (func.call(children, value, i)) {\r\n                result.push(value);\r\n            }\r\n        }\r\n\r\n        return Collection.create<T>(result);\r\n    }\r\n\r\n    public findOne(func: (value: T, index: number) => boolean) {\r\n        var scope = this.children,\r\n            result: T = null;\r\n\r\n        this.forEach((value: T, index) => {\r\n            if (!func.call(scope, value, index)) {\r\n                return;\r\n            }\r\n\r\n            result = value;\r\n            return $BREAK;\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    public reverse() {\r\n        return Collection.create<T>(this.copyChildren().reverse());\r\n    }\r\n\r\n    public removeChild(arg: any) {\r\n        return Collection.create<T>(this.removeChildHelper(arg));\r\n    }\r\n\r\n    public sort(func: (a: T, b: T) => any, isSortSelf = false): Collection<T> {\r\n        if (isSortSelf) {\r\n            this.children.sort(func);\r\n\r\n            return this;\r\n        }\r\n\r\n        return Collection.create<T>(this.copyChildren().sort(func));\r\n    }\r\n\r\n    public map(func: (value: T, index: number) => any) {\r\n        var resultArr = [];\r\n\r\n        this.forEach((e, index) => {\r\n            var result = func(e, index);\r\n\r\n            if (result !== $REMOVE) {\r\n                resultArr.push(result);\r\n            }\r\n            //e && e[handlerName] && e[handlerName].apply(context || e, valueArr);\r\n        });\r\n\r\n        return Collection.create<any>(resultArr);\r\n    }\r\n\r\n    public removeRepeatItems() {\r\n        var noRepeatList = Collection.create<T>();\r\n\r\n        this.forEach((item: T) => {\r\n            if (noRepeatList.hasChild(item)) {\r\n                return;\r\n            }\r\n\r\n            noRepeatList.addChild(item);\r\n        });\r\n\r\n        return noRepeatList;\r\n    }\r\n\r\n    public hasRepeatItems() {\r\n        var noRepeatList = Collection.create<T>(),\r\n            hasRepeat: boolean = false;\r\n\r\n        this.forEach((item: T) => {\r\n            if (noRepeatList.hasChild(item)) {\r\n                hasRepeat = true;\r\n\r\n                return $BREAK;\r\n            }\r\n\r\n            noRepeatList.addChild(item);\r\n        });\r\n\r\n        return hasRepeat;\r\n    }\r\n}\r\n","import { JudgeUtils as JudgeUtils$ } from \"wonder-commonlib/dist/es2015/utils/JudgeUtils\";\r\nimport { Entity } from \"./core/Entity\";\r\nimport { IObserver } from \"./observer/IObserver\";\r\n\r\nexport class JudgeUtils extends JudgeUtils$ {\r\n    public static isPromise(obj) {\r\n        return !!obj\r\n            && !super.isFunction(obj.subscribe)\r\n            && super.isFunction(obj.then);\r\n    }\r\n\r\n    public static isEqual(ob1: Entity, ob2: Entity) {\r\n        return ob1.uid === ob2.uid;\r\n    }\r\n\r\n    public static isIObserver(i: IObserver) {\r\n        return i.next && i.error && i.completed;\r\n    }\r\n}","import { IObserver } from \"./IObserver\";\r\nimport { Collection } from \"wonder-commonlib/dist/es2015/Collection\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { Observer } from \"../core/Observer\";\r\nimport { JudgeUtils } from \"../JudgeUtils\";\r\n\r\nexport class SubjectObserver implements IObserver {\r\n    public observers: Collection<IObserver> = Collection.create<IObserver>();\r\n\r\n    private _disposable: IDisposable = null;\r\n\r\n    public isEmpty() {\r\n        return this.observers.getCount() === 0;\r\n    }\r\n\r\n    public next(value: any) {\r\n        this.observers.forEach((ob: Observer) => {\r\n            ob.next(value);\r\n        });\r\n    }\r\n\r\n    public error(error: any) {\r\n        this.observers.forEach((ob: Observer) => {\r\n            ob.error(error);\r\n        });\r\n    }\r\n\r\n    public completed() {\r\n        this.observers.forEach((ob: Observer) => {\r\n            ob.completed();\r\n        });\r\n    }\r\n\r\n    public addChild(observer: Observer) {\r\n        this.observers.addChild(observer);\r\n\r\n        observer.setDisposable(this._disposable);\r\n    }\r\n\r\n    public removeChild(observer: Observer) {\r\n        this.observers.removeChild((ob: Observer) => {\r\n            return JudgeUtils.isEqual(ob, observer);\r\n        });\r\n    }\r\n\r\n    public dispose() {\r\n        this.observers.forEach((ob: Observer) => {\r\n            ob.dispose();\r\n        });\r\n\r\n        this.observers.removeAllChildren();\r\n    }\r\n\r\n    public setDisposable(disposable: IDisposable) {\r\n        this.observers.forEach((observer: Observer) => {\r\n            observer.setDisposable(disposable);\r\n        });\r\n\r\n        this._disposable = disposable;\r\n    }\r\n}\r\n","import { Entity } from \"./Entity\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\n\r\nexport abstract class Observer extends Entity implements IObserver {\r\n    private _isDisposed: boolean = null;\r\n    get isDisposed() {\r\n        return this._isDisposed;\r\n    }\r\n    set isDisposed(isDisposed: boolean) {\r\n        this._isDisposed = isDisposed;\r\n    }\r\n\r\n    protected onUserNext: Function = null;\r\n    protected onUserError: Function = null;\r\n    protected onUserCompleted: Function = null;\r\n\r\n    private _isStop: boolean = false;\r\n    //private _disposeHandler:wdCb.Collection<Function> = wdCb.Collection.create<Function>();\r\n    private _disposable: IDisposable = null;\r\n\r\n\r\n    constructor(observer: IObserver);\r\n    constructor(onNext: Function, onError: Function, onCompleted: Function);\r\n\r\n    constructor(...args) {\r\n        super(\"Observer\");\r\n\r\n        if (args.length === 1) {\r\n            let observer: IObserver = args[0];\r\n\r\n            this.onUserNext = function(v) {\r\n                observer.next(v);\r\n            };\r\n            this.onUserError = function(e) {\r\n                observer.error(e);\r\n            };\r\n            this.onUserCompleted = function() {\r\n                observer.completed();\r\n            };\r\n        }\r\n        else {\r\n            let onNext = args[0],\r\n                onError = args[1],\r\n                onCompleted = args[2];\r\n\r\n            this.onUserNext = onNext || function(v) { };\r\n            this.onUserError = onError || function(e) {\r\n                throw e;\r\n            };\r\n            this.onUserCompleted = onCompleted || function() { };\r\n        }\r\n    }\r\n\r\n    public next(value: any) {\r\n        if (!this._isStop) {\r\n            return this.onNext(value);\r\n        }\r\n    }\r\n\r\n    public error(error: any) {\r\n        if (!this._isStop) {\r\n            this._isStop = true;\r\n            this.onError(error);\r\n        }\r\n    }\r\n\r\n    public completed() {\r\n        if (!this._isStop) {\r\n            this._isStop = true;\r\n            this.onCompleted();\r\n        }\r\n    }\r\n\r\n    public dispose() {\r\n        this._isStop = true;\r\n        this._isDisposed = true;\r\n\r\n        if (this._disposable) {\r\n            this._disposable.dispose();\r\n        }\r\n\r\n        //this._disposeHandler.forEach((handler) => {\r\n        //    handler();\r\n        //});\r\n    }\r\n\r\n    //public fail(e) {\r\n    //    if (!this._isStop) {\r\n    //        this._isStop = true;\r\n    //        this.error(e);\r\n    //        return true;\r\n    //    }\r\n    //\r\n    //    return false;\r\n    //}\r\n\r\n    public setDisposable(disposable: IDisposable) {\r\n        this._disposable = disposable;\r\n    }\r\n\r\n    protected abstract onNext(value: any);\r\n\r\n    protected abstract onError(error: any);\r\n\r\n    protected abstract onCompleted();\r\n}","import { Log } from \"wonder-commonlib/dist/es2015/Log\";\r\nimport { Main } from \"../../../core/Main\";\r\n\r\nexport function assert(cond: boolean, message: string = \"contract error\") {\r\n    Log.error(!cond, message);\r\n}\r\n\r\nexport function requireCheck(InFunc) {\r\n    return function(target, name, descriptor) {\r\n        var value = descriptor.value;\r\n\r\n        descriptor.value = function(...args) {\r\n            if (Main.isTest) {\r\n                InFunc.apply(this, args);\r\n            }\r\n\r\n            return value.apply(this, args);\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function ensure(OutFunc) {\r\n    return function(target, name, descriptor) {\r\n        var value = descriptor.value;\r\n\r\n        descriptor.value = function(...args) {\r\n            var result = value.apply(this, args),\r\n                params = [result].concat(args);\r\n\r\n            if (Main.isTest) {\r\n                OutFunc.apply(this, params);\r\n            }\r\n\r\n            return result;\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function requireGetter(InFunc) {\r\n    return function(target, name, descriptor) {\r\n        var getter = descriptor.get;\r\n\r\n        descriptor.get = function() {\r\n            if (Main.isTest) {\r\n                InFunc.call(this);\r\n            }\r\n\r\n            return getter.call(this);\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function requireSetter(InFunc) {\r\n    return function(target, name, descriptor) {\r\n        var setter = descriptor.set;\r\n\r\n        descriptor.set = function(val) {\r\n            if (Main.isTest) {\r\n                InFunc.call(this, val);\r\n            }\r\n\r\n            setter.call(this, val);\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function ensureGetter(OutFunc) {\r\n    return function(target, name, descriptor) {\r\n        var getter = descriptor.get;\r\n\r\n        descriptor.get = function() {\r\n            var result = getter.call(this);\r\n\r\n            if (Main.isTest) {\r\n                OutFunc.call(this, result);\r\n            }\r\n\r\n            return result;\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function ensureSetter(OutFunc) {\r\n    return function(target, name, descriptor) {\r\n        var setter = descriptor.set;\r\n\r\n        descriptor.set = function(val) {\r\n            var result = setter.call(this, val),\r\n                params = [result, val];\r\n\r\n            if (Main.isTest) {\r\n                OutFunc.apply(this, params);\r\n            }\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}\r\n\r\nexport function invariant(func) {\r\n    return function(target) {\r\n        if (Main.isTest) {\r\n            func(target);\r\n        }\r\n    }\r\n}","import { Observer } from \"../core/Observer\";\r\nimport { IObserver } from \"./IObserver\";\r\nimport { requireCheck } from \"../definition/typescript/decorator/contract\";\r\nimport { Log } from \"wonder-commonlib/dist/es2015/Log\";\r\n\r\nexport class AutoDetachObserver extends Observer {\r\n    public static create(observer: IObserver);\r\n    public static create(onNext: Function, onError: Function, onCompleted: Function);\r\n\r\n    public static create(...args) {\r\n        if (args.length === 1) {\r\n            return new this(args[0]);\r\n        }\r\n        else {\r\n            return new this(args[0], args[1], args[2]);\r\n        }\r\n    }\r\n\r\n    @requireCheck(function() {\r\n        if (this.isDisposed) {\r\n            Log.warn(\"only can dispose once\");\r\n        }\r\n    })\r\n    public dispose() {\r\n        if (this.isDisposed) {\r\n            return;\r\n        }\r\n\r\n        super.dispose();\r\n    }\r\n\r\n    protected onNext(value: any) {\r\n        try {\r\n            this.onUserNext(value);\r\n        }\r\n        catch (e) {\r\n            this.onError(e);\r\n        }\r\n    }\r\n\r\n    protected onError(error: any) {\r\n        try {\r\n            this.onUserError(error);\r\n        }\r\n        catch (e) {\r\n            throw e;\r\n        }\r\n        finally {\r\n            this.dispose();\r\n        }\r\n    }\r\n\r\n    protected onCompleted() {\r\n        try {\r\n            this.onUserCompleted();\r\n            this.dispose();\r\n        }\r\n        catch (e) {\r\n            throw e;\r\n        }\r\n    }\r\n}","import { IDisposable } from \"./IDisposable\";\r\nimport { Subject } from \"../subject/Subject\";\r\nimport { GeneratorSubject } from \"../subject/GeneratorSubject\";\r\nimport { Observer } from \"../core/Observer\";\r\n\r\nexport class InnerSubscription implements IDisposable {\r\n    public static create(subject: Subject | GeneratorSubject, observer: Observer) {\r\n        var obj = new this(subject, observer);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _subject: Subject | GeneratorSubject = null;\r\n    private _observer: Observer = null;\r\n\r\n    constructor(subject: Subject | GeneratorSubject, observer: Observer) {\r\n        this._subject = subject;\r\n        this._observer = observer;\r\n    }\r\n\r\n    public dispose() {\r\n        this._subject.remove(this._observer);\r\n\r\n        this._observer.dispose();\r\n    }\r\n}","import { IObserver } from \"../observer/IObserver\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { SubjectObserver } from \"../observer/SubjectObserver\";\r\nimport { Observer } from \"../core/Observer\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { AutoDetachObserver } from \"../observer/AutoDetachObserver\";\r\nimport { InnerSubscription } from \"../Disposable/InnerSubscription\";\r\n\r\nexport class Subject implements IObserver {\r\n    public static create() {\r\n        var obj = new this();\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _source: Stream = null;\r\n    get source() {\r\n        return this._source;\r\n    }\r\n    set source(source: Stream) {\r\n        this._source = source;\r\n    }\r\n\r\n    private _observer: any = new SubjectObserver();\r\n\r\n    public subscribe(arg1?: Function | Observer, onError?: Function, onCompleted?: Function): IDisposable {\r\n        var observer: Observer = arg1 instanceof Observer\r\n            ? <AutoDetachObserver>arg1\r\n            : AutoDetachObserver.create(<Function>arg1, onError, onCompleted);\r\n\r\n        //this._source && observer.setDisposeHandler(this._source.disposeHandler);\r\n\r\n        this._observer.addChild(observer);\r\n\r\n        return InnerSubscription.create(this, observer);\r\n    }\r\n\r\n    public next(value: any) {\r\n        this._observer.next(value);\r\n    }\r\n\r\n    public error(error: any) {\r\n        this._observer.error(error);\r\n    }\r\n\r\n    public completed() {\r\n        this._observer.completed();\r\n    }\r\n\r\n    public start() {\r\n        if (!this._source) {\r\n            return;\r\n        }\r\n\r\n        this._observer.setDisposable(this._source.buildStream(this));\r\n    }\r\n\r\n    public remove(observer: Observer) {\r\n        this._observer.removeChild(observer);\r\n    }\r\n\r\n    public dispose() {\r\n        this._observer.dispose();\r\n    }\r\n}","import { Entity } from \"../core/Entity\";\r\nimport { IDisposable } from \"./IDisposable\";\r\n\r\nexport class SingleDisposable extends Entity implements IDisposable {\r\n    public static create(disposeHandler: Function = function() { }) {\r\n        var obj = new this(disposeHandler);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _disposeHandler: Function = null;\r\n    private _isDisposed: boolean = false;\r\n\r\n    constructor(disposeHandler: Function) {\r\n        super(\"SingleDisposable\");\r\n\r\n        this._disposeHandler = disposeHandler;\r\n    }\r\n\r\n    public setDisposeHandler(handler: Function) {\r\n        this._disposeHandler = handler;\r\n    }\r\n\r\n    public dispose() {\r\n        if (this._isDisposed) {\r\n            return;\r\n        }\r\n\r\n        this._isDisposed = true;\r\n\r\n        this._disposeHandler();\r\n    }\r\n}","export class ClassMapUtils {\r\n    private static _classMap: ClassMapData = {};\r\n\r\n    public static addClassMap(className: string, _class: any) {\r\n        this._classMap[className] = _class;\r\n    }\r\n\r\n    public static getClass(className: string) {\r\n        return this._classMap[className];\r\n    }\r\n}\r\n\r\ntype ClassMapData = {\r\n    [className: string]: any;\r\n}\r\n","export class FunctionUtils {\r\n    public static bind(object: any, func: Function) {\r\n        return function() {\r\n            return func.apply(object, arguments);\r\n        };\r\n    }\r\n}","import { Log } from \"wonder-commonlib/dist/es2015/Log\";\r\nimport { Entity } from \"./Entity\";\r\nimport { Scheduler } from \"./Scheduler\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { Observer } from \"./Observer\";\r\nimport { Subject } from \"../subject/Subject\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\nimport { ClassMapUtils } from \"../utils/ClassMapUtils\";\r\nimport { requireCheck, assert } from \"../definition/typescript/decorator/contract\";\r\nimport { FunctionUtils } from \"wonder-commonlib/dist/es2015/utils/FunctionUtils\";\r\nimport { JudgeUtils } from \"../JudgeUtils\";\r\n\r\nexport abstract class Stream extends Entity {\r\n    public scheduler: Scheduler = null;\r\n    public subscribeFunc: (observer: IObserver) => Function | void = null;\r\n\r\n    constructor(subscribeFunc) {\r\n        super(\"Stream\");\r\n\r\n        this.subscribeFunc = subscribeFunc || function() { };\r\n    }\r\n\r\n    public abstract subscribe(arg1: Function | Observer | Subject, onError?: Function, onCompleted?: Function): IDisposable;\r\n\r\n    public buildStream(observer: IObserver): IDisposable {\r\n        return SingleDisposable.create(<Function>(this.subscribeFunc(observer) || function() { }));\r\n    }\r\n\r\n    public do(onNext?: Function, onError?: Function, onCompleted?: Function) {\r\n        return ClassMapUtils.getClass(\"DoStream\").create(this, onNext, onError, onCompleted);\r\n    }\r\n\r\n    public map(selector: Function) {\r\n        return ClassMapUtils.getClass(\"MapStream\").create(this, selector);\r\n    }\r\n\r\n    public flatMap(selector: Function) {\r\n        return this.map(selector).mergeAll();\r\n    }\r\n\r\n    public concatMap(selector: Function) {\r\n        return this.map(selector).concatAll();\r\n    }\r\n\r\n    public mergeAll() {\r\n        return ClassMapUtils.getClass(\"MergeAllStream\").create(this);\r\n    }\r\n\r\n    public concatAll() {\r\n        return this.merge(1);\r\n    }\r\n\r\n    public skipUntil(otherStream: Stream) {\r\n        return ClassMapUtils.getClass(\"SkipUntilStream\").create(this, otherStream);\r\n    }\r\n\r\n    public takeUntil(otherStream: Stream) {\r\n        return ClassMapUtils.getClass(\"TakeUntilStream\").create(this, otherStream);\r\n    }\r\n\r\n    @requireCheck(function(count: number = 1) {\r\n        assert(count >= 0, Log.info.FUNC_SHOULD(\"count\", \">= 0\"));\r\n    })\r\n    public take(count: number = 1) {\r\n        var self = this;\r\n\r\n        if (count === 0) {\r\n            return ClassMapUtils.getClass(\"Operator\").empty();\r\n        }\r\n\r\n        return ClassMapUtils.getClass(\"Operator\").createStream((observer: IObserver) => {\r\n            self.subscribe((value: any) => {\r\n                if (count > 0) {\r\n                    observer.next(value);\r\n                }\r\n\r\n                count--;\r\n\r\n                if (count <= 0) {\r\n                    observer.completed();\r\n                }\r\n            }, (e: any) => {\r\n                observer.error(e);\r\n            }, () => {\r\n                observer.completed();\r\n            });\r\n        });\r\n    }\r\n\r\n    @requireCheck(function(count: number = 1) {\r\n        assert(count >= 0, Log.info.FUNC_SHOULD(\"count\", \">= 0\"));\r\n    })\r\n    public takeLast(count: number = 1) {\r\n        var self = this;\r\n\r\n        if (count === 0) {\r\n            return ClassMapUtils.getClass(\"Operator\").empty();\r\n        }\r\n\r\n        return ClassMapUtils.getClass(\"Operator\").createStream((observer: IObserver) => {\r\n            var queue = [];\r\n\r\n            self.subscribe((value: any) => {\r\n                queue.push(value);\r\n\r\n                if (queue.length > count) {\r\n                    queue.shift();\r\n                }\r\n            }, (e: any) => {\r\n                observer.error(e);\r\n            }, () => {\r\n                while (queue.length > 0) {\r\n                    observer.next(queue.shift());\r\n                }\r\n\r\n                observer.completed();\r\n            });\r\n        });\r\n    }\r\n\r\n    public takeWhile(predicate: (value: any, index: number, source: Stream) => boolean, thisArg = this) {\r\n        var self = this,\r\n            bindPredicate = null;\r\n\r\n        bindPredicate = FunctionUtils.bind(thisArg, predicate);\r\n\r\n        return ClassMapUtils.getClass(\"Operator\").createStream((observer: IObserver) => {\r\n            var i = 0,\r\n                isStart = false;\r\n\r\n            self.subscribe((value: any) => {\r\n                if (bindPredicate(value, i++, self)) {\r\n                    try {\r\n                        observer.next(value);\r\n                        isStart = true;\r\n                    }\r\n                    catch (e) {\r\n                        observer.error(e);\r\n                        return;\r\n                    }\r\n                }\r\n                else {\r\n                    if (isStart) {\r\n                        observer.completed();\r\n                    }\r\n                }\r\n            }, (e: any) => {\r\n                observer.error(e);\r\n            }, () => {\r\n                observer.completed();\r\n            });\r\n        });\r\n    }\r\n\r\n    public lastOrDefault(defaultValue: any = null) {\r\n        var self = this;\r\n\r\n        return ClassMapUtils.getClass(\"Operator\").createStream((observer: IObserver) => {\r\n            var queue = [];\r\n\r\n            self.subscribe((value: any) => {\r\n                queue.push(value);\r\n\r\n                if (queue.length > 1) {\r\n                    queue.shift();\r\n                }\r\n            }, (e: any) => {\r\n                observer.error(e);\r\n            }, () => {\r\n                if (queue.length === 0) {\r\n                    observer.next(defaultValue);\r\n                }\r\n                else {\r\n                    while (queue.length > 0) {\r\n                        observer.next(queue.shift());\r\n                    }\r\n                }\r\n\r\n                observer.completed();\r\n            });\r\n        });\r\n    }\r\n\r\n    public filter(predicate: (value: any) => boolean, thisArg = this) {\r\n        if (this instanceof ClassMapUtils.getClass(\"FilterStream\")) {\r\n            let self: any = this;\r\n\r\n            return self.internalFilter(predicate, thisArg);\r\n        }\r\n\r\n        return ClassMapUtils.getClass(\"FilterStream\").create(this, predicate, thisArg);\r\n    }\r\n\r\n    public filterWithState(predicate: (value: any) => boolean, thisArg = this) {\r\n        if (this instanceof ClassMapUtils.getClass(\"FilterStream\")) {\r\n            let self: any = this;\r\n\r\n            return self.internalFilter(predicate, thisArg);\r\n        }\r\n\r\n        return ClassMapUtils.getClass(\"FilterWithStateStream\").create(this, predicate, thisArg);\r\n    }\r\n\r\n    public concat(streamArr: Array<Stream>);\r\n    public concat(...otherStream);\r\n\r\n    public concat() {\r\n        var args: Array<Stream> = null;\r\n\r\n        if (JudgeUtils.isArray(arguments[0])) {\r\n            args = arguments[0];\r\n        }\r\n        else {\r\n            args = Array.prototype.slice.call(arguments, 0);\r\n        }\r\n\r\n        args.unshift(this);\r\n\r\n        return ClassMapUtils.getClass(\"ConcatStream\").create(args);\r\n    }\r\n\r\n    public merge(maxConcurrent: number);\r\n    public merge(streamArr: Array<Stream>);\r\n    public merge(...otherStreams);\r\n\r\n    public merge(...args) {\r\n        if (JudgeUtils.isNumber(args[0])) {\r\n            var maxConcurrent: number = args[0];\r\n\r\n            return ClassMapUtils.getClass(\"MergeStream\").create(this, maxConcurrent);\r\n        }\r\n\r\n        if (JudgeUtils.isArray(args[0])) {\r\n            args = arguments[0];\r\n        }\r\n        else {\r\n        }\r\n\r\n        let stream: Stream = null;\r\n\r\n        args.unshift(this);\r\n\r\n        stream = ClassMapUtils.getClass(\"Operator\").fromArray(args).mergeAll();\r\n\r\n        return stream;\r\n    }\r\n\r\n    public repeat(count: number = -1) {\r\n        return ClassMapUtils.getClass(\"RepeatStream\").create(this, count);\r\n    }\r\n\r\n    public ignoreElements() {\r\n        return ClassMapUtils.getClass(\"IgnoreElementsStream\").create(this);\r\n    }\r\n\r\n    protected handleSubject(subject: any) {\r\n        if (this._isSubject(subject)) {\r\n            this._setSubject(subject);\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    private _isSubject(subject: Subject) {\r\n        return subject instanceof Subject;\r\n    }\r\n\r\n    private _setSubject(subject: Subject) {\r\n        subject.source = this;\r\n    }\r\n}","import { Stream } from \"../core/Stream\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { Observer } from \"../core/Observer\";\r\nimport { Subject } from \"../subject/Subject\";\r\nimport { AutoDetachObserver } from \"../observer/AutoDetachObserver\";\r\n\r\nexport abstract class BaseStream extends Stream {\r\n    public abstract subscribeCore(observer: IObserver): IDisposable;\r\n\r\n    public subscribe(arg1: Function | Observer | Subject, onError?, onCompleted?): IDisposable {\r\n        var observer: Observer = null;\r\n\r\n        if (this.handleSubject(arg1)) {\r\n            return;\r\n        }\r\n\r\n        observer = arg1 instanceof Observer\r\n            ? AutoDetachObserver.create(<IObserver>arg1)\r\n            : AutoDetachObserver.create(<Function>arg1, onError, onCompleted);\r\n\r\n        //observer.setDisposeHandler(this.disposeHandler);\r\n\r\n\r\n        observer.setDisposable(this.buildStream(observer));\r\n\r\n        return observer;\r\n    }\r\n\r\n    public buildStream(observer: IObserver): IDisposable {\r\n        super.buildStream(observer);\r\n\r\n        return this.subscribeCore(observer);\r\n    }\r\n\r\n    //private _hasMultiObservers(){\r\n    //    return this.scheduler.getObservers() > 1;\r\n    //}\r\n}","import { JudgeUtils } from \"../JudgeUtils\";\r\nimport { Log } from \"wonder-commonlib/dist/es2015/Log\";\r\n\r\ndeclare var global: NodeJS.Global, window: Window;\r\n\r\nexport var root: any;\r\n\r\nif (JudgeUtils.isNodeJs() && typeof global != \"undefined\") {\r\n    root = global;\r\n}\r\nelse if(typeof window != \"undefined\"){\r\n    root = window;\r\n}\r\nelse if(typeof self != \"undefined\"){\r\n    /*!\r\n     in web worker\r\n     */\r\n    root = self;\r\n}\r\nelse{\r\n    Log.error(\"no avaliable root!\");\r\n}\r\n","import { IObserver } from \"../observer/IObserver\";\r\nimport { root } from \"../global/Variable\";\r\n\r\nexport class Scheduler {\r\n    //todo remove \"...args\"\r\n    public static create(...args) {\r\n        var obj = new this();\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _requestLoopId: any = null;\r\n    get requestLoopId() {\r\n        return this._requestLoopId;\r\n    }\r\n    set requestLoopId(requestLoopId: any) {\r\n        this._requestLoopId = requestLoopId;\r\n    }\r\n\r\n    //param observer is used by TestScheduler to rewrite\r\n\r\n    public publishRecursive(observer: IObserver, initial: any, action: Function) {\r\n        action(initial);\r\n    }\r\n\r\n    public publishInterval(observer: IObserver, initial: any, interval: number, action: Function): number {\r\n        return root.setInterval(() => {\r\n            initial = action(initial);\r\n        }, interval);\r\n    }\r\n\r\n    public publishIntervalRequest(observer: IObserver, action: Function) {\r\n        var self = this,\r\n            loop = (time) => {\r\n                var isEnd = action(time);\r\n\r\n                if (isEnd) {\r\n                    return;\r\n                }\r\n\r\n                self._requestLoopId = root.requestNextAnimationFrame(loop);\r\n            };\r\n\r\n        this._requestLoopId = root.requestNextAnimationFrame(loop);\r\n    }\r\n\r\n    public publishTimeout(observer: IObserver, time: number, action: Function): number {\r\n        return root.setTimeout(() => {\r\n            action(time);\r\n            observer.completed();\r\n        }, time);\r\n    }\r\n}","import { Stream } from \"../core/Stream\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { Subject } from \"../subject/Subject\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { AutoDetachObserver } from \"../observer/AutoDetachObserver\";\r\nimport { JudgeUtils } from \"../JudgeUtils\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\n\r\nexport class AnonymousStream extends Stream {\r\n    public static create(subscribeFunc: Function) {\r\n        var obj = new this(subscribeFunc);\r\n\r\n        return obj;\r\n    }\r\n\r\n    constructor(subscribeFunc: Function) {\r\n        super(subscribeFunc);\r\n\r\n        this.scheduler = Scheduler.create();\r\n    }\r\n\r\n    public buildStream(observer: IObserver): IDisposable {\r\n        return SingleDisposable.create(<Function>(this.subscribeFunc(observer) || function() { }));\r\n    }\r\n\r\n    public subscribe(subject: Subject): IDisposable;\r\n    public subscribe(observer: IObserver): IDisposable;\r\n\r\n    public subscribe(onNext: (value: any) => void): IDisposable;\r\n    public subscribe(onNext: (value: any) => void, onError: (e: any) => void): IDisposable;\r\n    public subscribe(onNext: (value: any) => void, onError: (e: any) => void, onComplete: () => void): IDisposable;\r\n\r\n    public subscribe(...args): IDisposable {\r\n        var observer: AutoDetachObserver = null;\r\n\r\n        if (args[0] instanceof Subject) {\r\n            let subject: Subject = <Subject>args[0];\r\n\r\n            this.handleSubject(subject);\r\n\r\n            return;\r\n        }\r\n        else if (JudgeUtils.isIObserver(<IObserver>args[0])) {\r\n            observer = AutoDetachObserver.create(<IObserver>args[0]);\r\n        }\r\n        else {\r\n            let onNext: Function = <Function>args[0],\r\n                onError: Function = <Function>args[1] || null,\r\n                onCompleted: Function = <Function>args[2] || null;\r\n\r\n            observer = AutoDetachObserver.create(onNext, onError, onCompleted);\r\n        }\r\n\r\n        observer.setDisposable(this.buildStream(observer));\r\n\r\n        return observer;\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\n\r\nexport class FromArrayStream extends BaseStream {\r\n    public static create(array: Array<any>, scheduler: Scheduler) {\r\n        var obj = new this(array, scheduler);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _array: Array<any> = null;\r\n\r\n    constructor(array: Array<any>, scheduler: Scheduler) {\r\n        super(null);\r\n\r\n        this._array = array;\r\n        this.scheduler = scheduler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var array = this._array,\r\n            len = array.length;\r\n\r\n        function loopRecursive(i) {\r\n            if (i < len) {\r\n                observer.next(array[i]);\r\n\r\n                loopRecursive(i + 1);\r\n            } else {\r\n                observer.completed();\r\n            }\r\n        }\r\n\r\n        this.scheduler.publishRecursive(observer, 0, loopRecursive);\r\n\r\n        return SingleDisposable.create();\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\n\r\nexport class FromPromiseStream extends BaseStream {\r\n    public static create(promise: any, scheduler: Scheduler) {\r\n        var obj = new this(promise, scheduler);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _promise: any = null;\r\n\r\n    constructor(promise: any, scheduler: Scheduler) {\r\n        super(null);\r\n\r\n        this._promise = promise;\r\n        this.scheduler = scheduler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        this._promise.then((data) => {\r\n            observer.next(data);\r\n            observer.completed();\r\n        }, (err) => {\r\n            observer.error(err);\r\n        }, observer);\r\n\r\n        return SingleDisposable.create();\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\n\r\nexport class FromEventPatternStream extends BaseStream {\r\n    public static create(addHandler: Function, removeHandler: Function) {\r\n        var obj = new this(addHandler, removeHandler);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _addHandler: Function = null;\r\n    private _removeHandler: Function = null;\r\n\r\n    constructor(addHandler: Function, removeHandler: Function) {\r\n        super(null);\r\n\r\n        this._addHandler = addHandler;\r\n        this._removeHandler = removeHandler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var self = this;\r\n\r\n        function innerHandler(event) {\r\n            observer.next(event);\r\n        }\r\n\r\n        this._addHandler(innerHandler);\r\n\r\n        return SingleDisposable.create(() => {\r\n            self._removeHandler(innerHandler);\r\n        });\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\nimport { root } from \"../global/Variable\";\r\n\r\nexport class IntervalStream extends BaseStream {\r\n    public static create(interval: number, scheduler: Scheduler) {\r\n        var obj = new this(interval, scheduler);\r\n\r\n        obj.initWhenCreate();\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _interval: number = null;\r\n\r\n    constructor(interval: number, scheduler: Scheduler) {\r\n        super(null);\r\n\r\n        this._interval = interval;\r\n        this.scheduler = scheduler;\r\n    }\r\n\r\n    public initWhenCreate() {\r\n        this._interval = this._interval <= 0 ? 1 : this._interval;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var self = this,\r\n            id = null;\r\n\r\n        id = this.scheduler.publishInterval(observer, 0, this._interval, (count) => {\r\n            //self.scheduler.next(count);\r\n            observer.next(count);\r\n\r\n            return count + 1;\r\n        });\r\n\r\n        //Disposer.addDisposeHandler(() => {\r\n        //});\r\n\r\n        return SingleDisposable.create(() => {\r\n            root.clearInterval(id);\r\n        });\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\nimport { root } from \"../global/Variable\";\r\n\r\nexport class IntervalRequestStream extends BaseStream {\r\n    public static create(scheduler: Scheduler) {\r\n        var obj = new this(scheduler);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _isEnd: boolean = false;\r\n\r\n    constructor(scheduler: Scheduler) {\r\n        super(null);\r\n\r\n        this.scheduler = scheduler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var self = this;\r\n\r\n        this.scheduler.publishIntervalRequest(observer, (time) => {\r\n            observer.next(time);\r\n\r\n            return self._isEnd;\r\n        });\r\n\r\n        return SingleDisposable.create(() => {\r\n            root.cancelNextRequestAnimationFrame(self.scheduler.requestLoopId);\r\n            self._isEnd = true;\r\n        });\r\n    }\r\n}","import { Log } from \"wonder-commonlib/dist/es2015/Log\";\r\nimport { BaseStream } from \"./BaseStream\";\r\nimport { requireCheck, assert } from \"../definition/typescript/decorator/contract\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { SingleDisposable } from \"../Disposable/SingleDisposable\";\r\nimport { root } from \"../global/Variable\";\r\n\r\nexport class TimeoutStream extends BaseStream {\r\n    @requireCheck(function(time: number, scheduler: Scheduler) {\r\n        assert(time > 0, Log.info.FUNC_SHOULD(\"time\", \"> 0\"));\r\n    })\r\n    public static create(time: number, scheduler: Scheduler) {\r\n        var obj = new this(time, scheduler);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _time: number = null;\r\n\r\n    constructor(time: number, scheduler: Scheduler) {\r\n        super(null);\r\n\r\n        this._time = time;\r\n        this.scheduler = scheduler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var id = null;\r\n\r\n        id = this.scheduler.publishTimeout(observer, this._time, (time) => {\r\n            observer.next(time);\r\n        });\r\n\r\n        return SingleDisposable.create(() => {\r\n            root.clearTimeout(id);\r\n        });\r\n    }\r\n}","import { Entity } from \"../core/Entity\";\r\nimport { IDisposable } from \"./IDisposable\";\r\nimport { Collection } from \"wonder-commonlib/dist/es2015/Collection\";\r\n\r\nexport class GroupDisposable extends Entity implements IDisposable {\r\n    public static create(disposable?: IDisposable) {\r\n        var obj = new this(disposable);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _group: Collection<IDisposable> = Collection.create<IDisposable>();\r\n    private _isDisposed: boolean = false;\r\n\r\n    constructor(disposable?: IDisposable) {\r\n        super(\"GroupDisposable\");\r\n\r\n        if (disposable) {\r\n            this._group.addChild(disposable);\r\n        }\r\n    }\r\n\r\n    public add(disposable: IDisposable) {\r\n        this._group.addChild(disposable);\r\n\r\n        return this;\r\n    }\r\n\r\n    public remove(disposable: IDisposable) {\r\n        this._group.removeChild(disposable);\r\n\r\n        return this;\r\n    }\r\n\r\n    public dispose() {\r\n        if (this._isDisposed) {\r\n            return;\r\n        }\r\n\r\n        this._isDisposed = true;\r\n\r\n        this._group.forEach((disposable: IDisposable) => {\r\n            disposable.dispose();\r\n        });\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { GroupDisposable } from \"../Disposable/GroupDisposable\";\r\n\r\nexport class DeferStream extends BaseStream {\r\n    public static create(buildStreamFunc: Function) {\r\n        var obj = new this(buildStreamFunc);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _buildStreamFunc: Function = null;\r\n\r\n    constructor(buildStreamFunc: Function) {\r\n        super(null);\r\n\r\n        this._buildStreamFunc = buildStreamFunc;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var group = GroupDisposable.create();\r\n\r\n        group.add(this._buildStreamFunc().buildStream(observer));\r\n\r\n        return group;\r\n    }\r\n}","import { ClassMapUtils } from \"../../../utils/ClassMapUtils\";\r\n\r\nexport function registerClass(className: string) {\r\n    return function(target) {\r\n        ClassMapUtils.addClassMap(className, target);\r\n    }\r\n}\r\n\r\n","import { AnonymousStream } from \"../stream/AnonymousStream\";\r\nimport { Scheduler } from \"../core/Scheduler\";\r\nimport { FromArrayStream } from \"../stream/FromArrayStream\";\r\nimport { FromPromiseStream } from \"../stream/FromPromiseStream\";\r\nimport { FromEventPatternStream } from \"../stream/FromEventPatternStream\";\r\nimport { IntervalStream } from \"../stream/IntervalStream\";\r\nimport { IntervalRequestStream } from \"../stream/IntervalRequestStream\";\r\nimport { TimeoutStream } from \"../stream/TimeoutStream\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { root } from \"./Variable\";\r\nimport { DeferStream } from \"../stream/DeferStream\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"Operator\")\r\nexport class Operator {\r\n    public static empty() {\r\n        return this.createStream((observer: IObserver) => {\r\n            observer.completed();\r\n        });\r\n    }\r\n\r\n    public static createStream(subscribeFunc) {\r\n        return AnonymousStream.create(subscribeFunc);\r\n    }\r\n\r\n    public static fromArray(array: Array<any>, scheduler = Scheduler.create()) {\r\n        return FromArrayStream.create(array, scheduler);\r\n    }\r\n}\r\n\r\nexport var createStream = Operator.createStream;\r\n\r\nexport var empty = Operator.empty;\r\n\r\nexport var fromArray = Operator.fromArray;\r\n\r\nexport var fromPromise = (promise: any, scheduler = Scheduler.create()) => {\r\n    return FromPromiseStream.create(promise, scheduler);\r\n};\r\n\r\nexport var fromEventPattern = (addHandler: Function, removeHandler: Function) => {\r\n    return FromEventPatternStream.create(addHandler, removeHandler);\r\n};\r\n\r\nexport var interval = (interval, scheduler = Scheduler.create()) => {\r\n    return IntervalStream.create(interval, scheduler);\r\n};\r\n\r\nexport var intervalRequest = (scheduler = Scheduler.create()) => {\r\n    return IntervalRequestStream.create(scheduler);\r\n};\r\n\r\nexport var timeout = (time, scheduler = Scheduler.create()) => {\r\n    return TimeoutStream.create(time, scheduler);\r\n};\r\nexport var callFunc = (func: Function, context = root) => {\r\n    return createStream((observer: IObserver) => {\r\n        try {\r\n            observer.next(func.call(context, null));\r\n        }\r\n        catch (e) {\r\n            observer.error(e);\r\n        }\r\n\r\n        observer.completed();\r\n    });\r\n};\r\n\r\nexport var judge = (condition: Function, thenSource: Function, elseSource: Function) => {\r\n    return condition() ? thenSource() : elseSource();\r\n};\r\n\r\nexport var defer = (buildStreamFunc: Function) => {\r\n    return DeferStream.create(buildStreamFunc);\r\n};\r\n\r\nexport var just = (returnValue: any) => {\r\n    return createStream((observer: IObserver) => {\r\n        observer.next(returnValue);\r\n        observer.completed();\r\n    });\r\n}\r\n","import { Observer } from \"../core/Observer\";\r\nimport { IObserver } from \"./IObserver\";\r\n\r\nexport class ConcatObserver extends Observer {\r\n    public static create(currentObserver: IObserver, startNextStream: Function) {\r\n        return new this(currentObserver, startNextStream);\r\n    }\r\n\r\n    //private currentObserver:IObserver = null;\r\n    protected currentObserver: any = null;\r\n    private _startNextStream: Function = null;\r\n\r\n    constructor(currentObserver: IObserver, startNextStream: Function) {\r\n        super(null, null, null);\r\n\r\n        this.currentObserver = currentObserver;\r\n        this._startNextStream = startNextStream;\r\n    }\r\n\r\n    protected onNext(value) {\r\n        /*!\r\n        if \"this.currentObserver.next\" error, it will pase to this.currentObserver->onError.\r\n        so it shouldn't invoke this.currentObserver.error here again!\r\n         */\r\n        //try{\r\n        this.currentObserver.next(value);\r\n        //}\r\n        //catch(e){\r\n        //    this.currentObserver.error(e);\r\n        //}\r\n    }\r\n\r\n    protected onError(error) {\r\n        this.currentObserver.error(error);\r\n    }\r\n\r\n    protected onCompleted() {\r\n        //this.currentObserver.completed();\r\n        this._startNextStream();\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { Collection } from \"wonder-commonlib/dist/es2015/Collection\";\r\nimport { JudgeUtils } from \"../JudgeUtils\";\r\nimport { fromPromise } from \"../global/Operator\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { GroupDisposable } from \"../Disposable/GroupDisposable\";\r\nimport { ConcatObserver } from \"../observer/ConcatObserver\";\r\nimport { ClassMapUtils } from \"../utils/ClassMapUtils\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"ConcatStream\")\r\nexport class ConcatStream extends BaseStream {\r\n    public static create(sources: Array<Stream>) {\r\n        var obj = new this(sources);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _sources: Collection<Stream> = Collection.create<Stream>();\r\n\r\n    constructor(sources: Array<Stream>) {\r\n        super(null);\r\n\r\n        var self = this;\r\n\r\n        //todo don't set scheduler here?\r\n        this.scheduler = sources[0].scheduler;\r\n\r\n        sources.forEach((source) => {\r\n            if (JudgeUtils.isPromise(source)) {\r\n                self._sources.addChild(fromPromise(source));\r\n            }\r\n            else {\r\n                self._sources.addChild(source);\r\n            }\r\n        });\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        var self = this,\r\n            count = this._sources.getCount(),\r\n            d = GroupDisposable.create();\r\n\r\n        function loopRecursive(i) {\r\n            if (i === count) {\r\n                observer.completed();\r\n\r\n                return;\r\n            }\r\n\r\n            d.add(self._sources.getChild(i).buildStream(ConcatObserver.create(\r\n                observer, () => {\r\n                    loopRecursive(i + 1);\r\n                })\r\n            ));\r\n        }\r\n\r\n        this.scheduler.publishRecursive(observer, 0, loopRecursive);\r\n\r\n        return GroupDisposable.create(d);\r\n    }\r\n}\r\n","import { Observer } from \"../core/Observer\";\r\nimport { IObserver } from \"./IObserver\";\r\n\r\nexport class IgnoreElementsObserver extends Observer {\r\n    public static create(currentObserver: IObserver) {\r\n        return new this(currentObserver);\r\n    }\r\n\r\n    private _currentObserver: IObserver = null;\r\n\r\n    constructor(currentObserver: IObserver) {\r\n        super(null, null, null);\r\n\r\n        this._currentObserver = currentObserver;\r\n    }\r\n\r\n    protected onNext(value) {\r\n    }\r\n\r\n    protected onError(error) {\r\n        this._currentObserver.error(error);\r\n    }\r\n\r\n    protected onCompleted() {\r\n        this._currentObserver.completed();\r\n    }\r\n}","import { BaseStream } from \"./BaseStream\";\r\nimport { Stream } from \"../core/Stream\";\r\nimport { IObserver } from \"../observer/IObserver\";\r\nimport { IgnoreElementsObserver } from \"../observer/IgnoreElementsObserver\";\r\nimport { IDisposable } from \"../Disposable/IDisposable\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\n\r\n@registerClass(\"IgnoreElementsStream\")\r\nexport class IgnoreElementsStream extends BaseStream {\r\n    public static create(source: Stream) {\r\n        var obj = new this(source);\r\n\r\n        return obj;\r\n    }\r\n\r\n    private _source: Stream = null;\r\n\r\n    constructor(source: Stream) {\r\n        super(null);\r\n\r\n        this._source = source;\r\n\r\n        this.scheduler = this._source.scheduler;\r\n    }\r\n\r\n    public subscribeCore(observer: IObserver) {\r\n        return this._source.buildStream(IgnoreElementsObserver.create(observer));\r\n    }\r\n}\r\n","import { root } from \"../global/Variable\";\r\n\r\nroot.requestNextAnimationFrame = (function() {\r\n    var originalRequestAnimationFrame = undefined,\r\n        wrapper = undefined,\r\n        callback = undefined,\r\n        geckoVersion = null,\r\n        userAgent = root.navigator && root.navigator.userAgent,\r\n        index = 0,\r\n        self = this;\r\n\r\n    wrapper = function(time) {\r\n        time = root.performance.now();\r\n        self.callback(time);\r\n    };\r\n\r\n    /*!\r\n     bug!\r\n     below code:\r\n     when invoke b after 1s, will only invoke b, not invoke a!\r\n\r\n     function a(time){\r\n     console.log(\"a\", time);\r\n     webkitRequestAnimationFrame(a);\r\n     }\r\n\r\n     function b(time){\r\n     console.log(\"b\", time);\r\n     webkitRequestAnimationFrame(b);\r\n     }\r\n\r\n     a();\r\n\r\n     setTimeout(b, 1000);\r\n\r\n\r\n\r\n     so use requestAnimationFrame priority!\r\n     */\r\n    if (root.requestAnimationFrame) {\r\n        return requestAnimationFrame;\r\n    }\r\n\r\n\r\n    // Workaround for Chrome 10 bug where Chrome\r\n    // does not pass the time to the animation function\r\n\r\n    if (root.webkitRequestAnimationFrame) {\r\n        // Define the wrapper\r\n\r\n        // Make the switch\r\n\r\n        originalRequestAnimationFrame = root.webkitRequestAnimationFrame;\r\n\r\n        root.webkitRequestAnimationFrame = function(callback, element) {\r\n            self.callback = callback;\r\n\r\n            // Browser calls the wrapper and wrapper calls the callback\r\n\r\n            return originalRequestAnimationFrame(wrapper, element);\r\n        }\r\n    }\r\n\r\n    //修改time参数\r\n    if (root.msRequestAnimationFrame) {\r\n        originalRequestAnimationFrame = root.msRequestAnimationFrame;\r\n\r\n        root.msRequestAnimationFrame = function(callback) {\r\n            self.callback = callback;\r\n\r\n            return originalRequestAnimationFrame(wrapper);\r\n        }\r\n    }\r\n\r\n    // Workaround for Gecko 2.0, which has a bug in\r\n    // mozRequestAnimationFrame() that restricts animations\r\n    // to 30-40 fps.\r\n\r\n    if (root.mozRequestAnimationFrame) {\r\n        // Check the Gecko version. Gecko is used by browsers\r\n        // other than Firefox. Gecko 2.0 corresponds to\r\n        // Firefox 4.0.\r\n\r\n        index = userAgent.indexOf('rv:');\r\n\r\n        if (userAgent.indexOf('Gecko') != -1) {\r\n            geckoVersion = userAgent.substr(index + 3, 3);\r\n\r\n            if (geckoVersion === '2.0') {\r\n                // Forces the return statement to fall through\r\n                // to the setTimeout() function.\r\n\r\n                root.mozRequestAnimationFrame = undefined;\r\n            }\r\n        }\r\n    }\r\n\r\n    return root.webkitRequestAnimationFrame ||\r\n        root.mozRequestAnimationFrame ||\r\n        root.oRequestAnimationFrame ||\r\n        root.msRequestAnimationFrame ||\r\n\r\n        function(callback, element) {\r\n            var start,\r\n                finish;\r\n\r\n            root.setTimeout(function() {\r\n                start = root.performance.now();\r\n                callback(start);\r\n                finish = root.performance.now();\r\n\r\n                self.timeout = 1000 / 60 - (finish - start);\r\n\r\n            }, self.timeout);\r\n        };\r\n}());\r\n\r\nroot.cancelNextRequestAnimationFrame = root.cancelRequestAnimationFrame\r\n    || root.webkitCancelAnimationFrame\r\n    || root.webkitCancelRequestAnimationFrame\r\n    || root.mozCancelRequestAnimationFrame\r\n    || root.oCancelRequestAnimationFrame\r\n    || root.msCancelRequestAnimationFrame\r\n    || clearTimeout;\r\n\r\n","import { ensure, assert } from \"../../definition/typescript/decorator/contract\";\r\nimport { Log } from \"../Log\";\r\n\r\nexport abstract class TimeController {\r\n    public elapsed: number = null;\r\n    public pauseElapsed: number = 0;\r\n    public pauseTime: number = null;\r\n    public startTime: number = null;\r\n\r\n    public start() {\r\n        this.startTime = this.getNow();\r\n        this.pauseElapsed = null;\r\n    }\r\n\r\n    public stop() {\r\n        this.startTime = null;\r\n    }\r\n\r\n    public pause() {\r\n        this.pauseTime = this.getNow();\r\n    }\r\n\r\n    public resume() {\r\n        this.pauseElapsed += this.getNow() - this.pauseTime;\r\n        this.pauseTime = null;\r\n    }\r\n\r\n    @ensure(function() {\r\n        assert(this.elapsed >= 0, Log.info.FUNC_SHOULD(`elapsed:${this.elapsed}`, \">= 0\"));\r\n    })\r\n    public computeElapseTime(time: number) {\r\n        if (this.pauseElapsed) {\r\n            this.elapsed = time - this.pauseElapsed - this.startTime;\r\n        }\r\n        else {\r\n            this.elapsed = time - this.startTime;\r\n        }\r\n\r\n        if (this.elapsed < 0) {\r\n            this.elapsed = 0;\r\n        }\r\n\r\n        return this.elapsed;\r\n    }\r\n\r\n    protected abstract getNow();\r\n}","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { TimeController } from \"./TimeController\";\r\nimport { root } from \"../../definition/Variable\";\r\n\r\nconst STARTING_FPS = 60,\r\n    GAMETIME_SCALE = 1000;\r\n\r\n@registerClass(\"DirectorTimeController\")\r\nexport class DirectorTimeController extends TimeController {\r\n    public static create() {\r\n        var obj = new this();\r\n\r\n        return obj;\r\n    }\r\n\r\n    public gameTime: number = null;\r\n    public fps: number = null;\r\n    public isTimeChange: boolean = false;\r\n    public deltaTime: number = null;\r\n\r\n    private _lastTime: number = null;\r\n\r\n    public tick(time: number) {\r\n        this.deltaTime = this._lastTime !== null ? time - this._lastTime : time;\r\n        this._updateFps(this.deltaTime);\r\n        this.gameTime = time / GAMETIME_SCALE;\r\n\r\n        this._lastTime = time;\r\n    }\r\n\r\n    public start() {\r\n        super.start();\r\n\r\n        this.isTimeChange = true;\r\n        this.elapsed = 0;\r\n    }\r\n\r\n    public resume() {\r\n        super.resume();\r\n\r\n        this.isTimeChange = true;\r\n    }\r\n\r\n    protected getNow() {\r\n        return root.performance.now();\r\n    }\r\n\r\n    private _updateFps(deltaTime: number) {\r\n        if (this._lastTime === null) {\r\n            this.fps = STARTING_FPS;\r\n        }\r\n        else {\r\n            this.fps = 1000 / deltaTime;\r\n        }\r\n    }\r\n}","import {\r\n    create as createGameObject, addChild as addGameObject, removeChild as removeGameObject,\r\n    hasComponent\r\n} from \"../gameObject/GameObjectSystem\";\r\nimport { GameObject } from \"../gameObject/GameObject\";\r\nimport { getTypeIDFromClass } from \"../../../component/ComponentTypeIdManager\";\r\nimport { CameraController } from \"../../../component/camera/CameraController\";\r\nimport { Scene } from \"./Scene\";\r\nimport { ensureFunc, it } from \"../../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\n\r\nexport var create = (GameObjectData: any) => {\r\n    return createGameObject(null, GameObjectData);\r\n}\r\n\r\nexport var addChild = (scene: Scene, child: GameObject, GameObjectData: any, SceneData: any) => {\r\n    if (_isCamera(child, GameObjectData)) {\r\n        SceneData.cameraArray.push(child);\r\n    }\r\n\r\n    addGameObject(scene, child, null, GameObjectData);\r\n}\r\n\r\nexport var removeChild = (gameObject: GameObject, child: GameObject, ThreeDTransformData: any, GameObjectData: any) => {\r\n    removeGameObject(gameObject, child, ThreeDTransformData, GameObjectData);\r\n}\r\n\r\nvar _isCamera = (gameObject: GameObject, GameObjectData: any) => {\r\n    return hasComponent(gameObject, getTypeIDFromClass(CameraController), GameObjectData);\r\n}\r\n\r\nexport var getCurrentCamera = ensureFunc((camera: GameObject, SceneData: any) => {\r\n    it(\"current camera should exist\", () => {\r\n        expect(camera).exist;\r\n    });\r\n}, (SceneData: any) => {\r\n    return SceneData.cameraArray[0];\r\n})\r\n\r\nexport var initData = (SceneData: any) => {\r\n    SceneData.cameraArray = [];\r\n}\r\n","import { Matrix4 } from \"../../math/Matrix4\";\r\nimport { EDrawMode } from \"../enum/EDrawMode\";\r\n\r\nexport class RenderCommand {\r\n    public materialIndex: number = null;\r\n    public shaderIndex: number = null;\r\n    public geometryIndex: number = null;\r\n\r\n    public mMatrix: Float32Array = null;\r\n    public vMatrix: Float32Array = null;\r\n    public pMatrix: Float32Array = null;\r\n    public drawMode: EDrawMode = null;\r\n}","import { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport curry from \"wonder-lodash/curry\";\r\nimport { Map } from \"immutable\";\r\nimport { RenderCommand } from \"./RenderCommand\";\r\nimport {\r\n    getComponent, getGeometry, getMaterial,\r\n    getTransform\r\n} from \"../../core/entityObject/gameObject/GameObjectSystem\";\r\nimport { it, requireCheckFunc } from \"../../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { getShader } from \"../../component/material/MaterialSystem\";\r\nimport { getDrawMode } from \"../../component/geometry/GeometrySystem\";\r\nimport {\r\n    getLocalToWorldMatrix,\r\n    getTempLocalToWorldMatrix\r\n} from \"../../component/transform/ThreeDTransformSystem\";\r\nimport { getCurrentCamera } from \"../../core/entityObject/scene/SceneSystem\";\r\nimport {\r\n    getPMatrix, getWorldToCameraMatrix\r\n} from \"../../component/camera/CameraControllerSystem\";\r\nimport { getTypeIDFromClass } from \"../../component/ComponentTypeIdManager\";\r\nimport { CameraController } from \"../../component/camera/CameraController\";\r\nimport { forEach } from \"../../utils/arrayUtils\";\r\n\r\nexport var createRenderCommands = requireCheckFunc(curry((state: Map<any, any>, GameObjectData: any, ThreeDTransformData: any, CameraControllerData: any, CameraData: any, MaterialData: any, GeometryData: any, SceneData: any, renderGameObjectArray: Array<GameObject>) => {\r\n    forEach(renderGameObjectArray, (gameObject: GameObject) => {\r\n        var geometry = getGeometry(gameObject, GameObjectData),\r\n            material = getMaterial(gameObject, GameObjectData);\r\n\r\n        it(\"geometry should exist in gameObject\", () => {\r\n            expect(geometry).exist;\r\n        });\r\n        it(\"material should exist in gameObject\", () => {\r\n            expect(material).exist;\r\n        });\r\n    });\r\n}), curry((state: Map<any, any>, GameObjectData: any, ThreeDTransformData: any, CameraControllerData: any, CameraData: any, MaterialData: any, GeometryData: any, SceneData: any, renderGameObjectArray: Array<GameObject>) => {\r\n    var commandArr: Array<RenderCommand> = [];\r\n\r\n    for (let gameObject of renderGameObjectArray) {\r\n        let command = new RenderCommand(),\r\n            currentCamera = getComponent(getCurrentCamera(SceneData), getTypeIDFromClass(CameraController), GameObjectData),\r\n            currentCameraIndex = currentCamera.index,\r\n            geometry = getGeometry(gameObject, GameObjectData),\r\n            material = getMaterial(gameObject, GameObjectData),\r\n            transform = getTransform(gameObject, GameObjectData),\r\n            materialIndex = material.index,\r\n            shader = getShader(materialIndex, MaterialData);\r\n\r\n        command.mMatrix = getLocalToWorldMatrix(transform, getTempLocalToWorldMatrix(transform, ThreeDTransformData), ThreeDTransformData).values;\r\n        command.vMatrix = getWorldToCameraMatrix(currentCameraIndex, ThreeDTransformData, GameObjectData, CameraControllerData, CameraData).values;\r\n        command.pMatrix = getPMatrix(currentCameraIndex, CameraData).values;\r\n\r\n\r\n        command.drawMode = getDrawMode(geometry, GeometryData);\r\n\r\n        command.materialIndex = materialIndex;\r\n        command.shaderIndex = shader.index;\r\n\r\n        command.geometryIndex = geometry.index;\r\n\r\n        commandArr.push(command);\r\n    }\r\n\r\n    return commandArr;\r\n}))","import { GameObject } from \"../../core/entityObject/gameObject/GameObject\";\r\nimport curry from \"wonder-lodash/curry\";\r\nimport { Map } from \"immutable\";\r\n\r\nexport var sortRenderCommands = curry((state: Map<any, any>, renderCommandArray: Array<GameObject>) => {\r\n    //todo sort\r\n\r\n    return renderCommandArray;\r\n})","import curry from \"wonder-lodash/curry\";\r\nimport { RenderCommand } from \"../command/RenderCommand\";\r\nimport { Map } from \"immutable\";\r\nimport { bindIndexBuffer, sendAttributeData, sendUniformData, use } from \"../shader/ShaderSystem\";\r\nimport { getType, getTypeSize } from \"../buffer/IndexBufferSystem\";\r\nimport { getGL } from \"../../device/DeviceManagerSystem\";\r\nimport { getDrawMode, getIndicesCount, getVerticesCount, hasIndices } from \"../../component/geometry/GeometrySystem\";\r\n\r\nexport var draw = curry((state: Map<any, any>, DeviceManagerData: any, MaterialData: any, ShaderData: any, GeometryData: any, ArrayBufferData: any, IndexBufferData: any, renderCommandArray: Array<RenderCommand>) => {\r\n    for (let renderCommand of renderCommandArray) {\r\n        var shaderIndex = renderCommand.shaderIndex,\r\n            geometryIndex = renderCommand.geometryIndex,\r\n            gl = getGL(DeviceManagerData, state);\r\n\r\n        use(gl, shaderIndex, ShaderData);\r\n\r\n        //todo set state\r\n\r\n        sendAttributeData(gl, shaderIndex, geometryIndex, ShaderData, GeometryData, ArrayBufferData);\r\n        sendUniformData(gl, shaderIndex, MaterialData, ShaderData, renderCommand);\r\n\r\n        if (hasIndices(geometryIndex, GeometryData)) {\r\n            bindIndexBuffer(gl, geometryIndex, ShaderData, GeometryData, IndexBufferData);\r\n\r\n            _drawElements(gl, geometryIndex, GeometryData);\r\n        }\r\n        else {\r\n            _drawArray(gl, geometryIndex, GeometryData);\r\n        }\r\n    }\r\n\r\n    return state;\r\n})\r\n\r\nvar _drawElements = (gl: WebGLRenderingContext, geometryIndex: number, GeometryData: any) => {\r\n    var startOffset: number = 0,\r\n        drawMode = getDrawMode(geometryIndex, GeometryData),\r\n        count = getIndicesCount(geometryIndex, GeometryData),\r\n        type = getType(GeometryData),\r\n        typeSize = getTypeSize(GeometryData);\r\n\r\n    gl.drawElements(gl[drawMode], count, gl[type], typeSize * startOffset);\r\n}\r\n\r\nvar _drawArray = (gl: WebGLRenderingContext, geometryIndex: number, GeometryData: any) => {\r\n    var startOffset: number = 0,\r\n        drawMode = getDrawMode(geometryIndex, GeometryData),\r\n        count = getVerticesCount(geometryIndex, GeometryData);\r\n\r\n    gl.drawArrays(gl[drawMode], startOffset, count);\r\n}\r\n\r\n","import { EBufferType } from \"../enum/EBufferType\";\r\n\r\nexport class ArrayBufferData {\r\n    public static buffers: Array<WebGLBuffer> = null;\r\n\r\n    public static bufferDataMap: ArrayBufferDataMap = null;\r\n}\r\n\r\nexport type ArrayBufferDataMap = {\r\n    [geometryIndex: number]: {\r\n        size: number;\r\n        type: EBufferType;\r\n    }\r\n}\r\n\r\n","export class IndexBufferData {\r\n    public static buffers: Array<WebGLBuffer> = null;\r\n}\r\n\r\n","import { Color } from \"../../structure/Color\";\r\n\r\nexport const render_config = {\r\n    \"render_setting\": {\r\n        \"clearColor\": Color.create(\"#000000\")\r\n    }\r\n}\r\n\r\n","import { GameObject } from \"../gameObject/GameObject\";\r\n\r\nexport class SceneData {\r\n    public static cameraArray: Array<GameObject> = null;\r\n}\r\n","import { Map } from \"immutable\";\r\nimport { getRenderList } from \"../../component/renderer/MeshRendererSystem\";\r\nimport { MeshRendererData } from \"../../component/renderer/MeshRendererData\";\r\nimport { compose } from \"../../utils/functionalUtils\";\r\nimport { createRenderCommands } from \"../command/RenderCommandSystem\";\r\nimport { sortRenderCommands } from \"../sort/SortRenderCommandSystem\";\r\nimport { draw } from \"../draw/DrawRenderCommandSystem\";\r\nimport { init as initMaterial } from \"../../component/material/MaterialSystem\";\r\nimport { MaterialData } from \"../../component/material/MaterialData\";\r\nimport { GameObjectData } from \"../../core/entityObject/gameObject/GameObjectData\";\r\nimport { ShaderData } from \"../shader/ShaderData\";\r\nimport { material_config } from \"../data/material_config\";\r\nimport { shaderLib_generator } from \"../data/shaderLib_generator\";\r\nimport { GeometryData } from \"../../component/geometry/GeometryData\";\r\nimport { ArrayBufferData } from \"../buffer/ArrayBufferData\";\r\nimport { IndexBufferData } from \"../buffer/IndexBufferData\";\r\nimport { clear as clearGL, getGL } from \"../../device/DeviceManagerSystem\";\r\nimport { render_config } from \"../data/render_config\";\r\nimport { DeviceManagerData } from \"../../device/DeviceManagerData\";\r\nimport { ThreeDTransformData } from \"../../component/transform/ThreeDTransformData\";\r\nimport { SceneData } from \"../../core/entityObject/scene/SceneData\";\r\nimport { CameraControllerData } from \"../../component/camera/CameraControllerData\";\r\nimport { CameraData } from \"../../component/camera/CameraData\";\r\n\r\nexport var init = (state: Map<any, any>) => {\r\n    initMaterial(state, material_config, shaderLib_generator as any, DeviceManagerData, ShaderData, MaterialData);\r\n\r\n    return state;\r\n}\r\n\r\nexport var clear = (state: Map<any, any>) => {\r\n    clearGL(getGL(DeviceManagerData, state), render_config.render_setting.clearColor, DeviceManagerData);\r\n\r\n    return state;\r\n}\r\n\r\nexport var render = (state: Map<any, any>) => {\r\n    return compose(\r\n        draw(state, DeviceManagerData, MaterialData, ShaderData, GeometryData, ArrayBufferData, IndexBufferData),\r\n        sortRenderCommands(state),\r\n        createRenderCommands(state, GameObjectData, ThreeDTransformData, CameraControllerData, CameraData, MaterialData, GeometryData, SceneData),\r\n        getRenderList(state)\r\n    )(MeshRendererData)\r\n}\r\n","import {\r\n    getCanvas, getHeight, getStyleHeight, getStyleWidth, getWidth, setHeight, setStyleWidth, getX, setX, getY, setY,\r\n    setWidth, setCanvas, setStyleHeight\r\n} from \"./ViewSystem\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { getState } from \"../core/DirectorSystem\";\r\nimport { DirectorData } from \"../core/DirectorData\";\r\n\r\n@registerClass(\"View\")\r\nexport class View {\r\n    public static create() {\r\n        var obj = new this();\r\n\r\n        return obj;\r\n    }\r\n\r\n    get dom() {\r\n        return getCanvas(getState(DirectorData));\r\n    }\r\n    set dom(dom: HTMLCanvasElement) {\r\n        setCanvas(dom).run();\r\n    }\r\n\r\n    get width() {\r\n        return getWidth(this.dom);\r\n    }\r\n    set width(width: number) {\r\n        setWidth(width, this.dom).run();\r\n    }\r\n\r\n    get height() {\r\n        return getHeight(this.dom);\r\n    }\r\n    set height(height: number) {\r\n        setHeight(height, this.dom).run();\r\n    }\r\n\r\n    get styleWidth() {\r\n        return getStyleWidth(this.dom);\r\n    }\r\n    set styleWidth(styleWidth: string) {\r\n        setStyleWidth(styleWidth, this.dom).run();\r\n    }\r\n\r\n    get styleHeight() {\r\n        return getStyleHeight(this.dom);\r\n    }\r\n    set styleHeight(styleHeight: string) {\r\n        setStyleHeight(styleHeight, this.dom).run();\r\n    }\r\n\r\n    get x() {\r\n        return getX(this.dom);\r\n    }\r\n    set x(x: number) {\r\n        setX(x, this.dom).run();\r\n    }\r\n\r\n    get y() {\r\n        return getY(this.dom);\r\n    }\r\n    set y(y: number) {\r\n        setY(y, this.dom).run();\r\n    }\r\n}\r\n\r\n","import { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { singleton } from \"../definition/typescript/decorator/singleton\";\r\nimport { ContextConfigData } from \"../core/MainSystem\";\r\nimport { createGL, getGL, getViewport, setGL, setScreen } from \"./DeviceManagerSystem\";\r\nimport { View } from \"../structure/View\";\r\nimport { getState } from \"../core/DirectorSystem\";\r\nimport { DirectorData } from \"../core/DirectorData\";\r\nimport { it, requireCheck } from \"../definition/typescript/decorator/contract\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { getCanvas } from \"../structure/ViewSystem\";\r\nimport { fromJS } from \"immutable\";\r\nimport { IO } from \"wonder-fantasy-land/dist/es2015/types/IO\";\r\nimport { DeviceManagerData } from \"./DeviceManagerData\";\r\n\r\n//todo change to function\r\n\r\n/*!\r\n DeviceManager is responsible for global setting of gl\r\n */\r\n@singleton()\r\n@registerClass(\"DeviceManager\")\r\nexport class DeviceManager {\r\n    public static getInstance(): any { }\r\n\r\n    get gl() {\r\n        return getGL(DeviceManagerData, getState(DirectorData));\r\n    }\r\n    // set gl(gl: WebGLRenderingContext) {\r\n    //     setGL(gl, getState(DirectorData));\r\n    // }\r\n\r\n    get viewport() {\r\n        return getViewport(getState(DirectorData));\r\n    }\r\n\r\n    public view: View = View.create();\r\n\r\n    private constructor() { }\r\n\r\n    public createGL(canvasId: string, contextConfig: ContextConfigData) {\r\n        return createGL(canvasId, fromJS(contextConfig), getState(DirectorData));\r\n    }\r\n\r\n    @requireCheck(() => {\r\n        it(\"canvas should be setter\", () => {\r\n            expect(getCanvas(getState(DirectorData))).exist;\r\n        });\r\n    })\r\n    public setScreen() {\r\n        return setScreen(DeviceManagerData, getState(DirectorData));\r\n    }\r\n}\r\n\r\nexport var setDeviceManagerGL = (gl: WebGLRenderingContext) => {\r\n    return setGL(gl, DeviceManagerData, getState(DirectorData));\r\n}\r\n","import \"wonder-frp/dist/es2015/stream/ConcatStream\";\r\nimport \"wonder-frp/dist/es2015/stream/IgnoreElementsStream\";\r\nimport \"wonder-frp/dist/es2015/extend/root\";\r\nimport { registerClass } from \"../definition/typescript/decorator/registerClass\";\r\nimport { singleton } from \"../definition/typescript/decorator/singleton\";\r\n// import { DeviceManager } from \"../device/DeviceManager\";\r\n// import { SceneDispatcher } from \"./entityObject/scene/SceneDispatcher\";\r\n// import { Renderer } from \"../renderer/renderer/Renderer\";\r\nimport { IDisposable } from \"wonder-frp/dist/es2015/Disposable/IDisposable\";\r\nimport { DirectorTimeController } from \"../utils/time/DirectorTimeController\";\r\n// import { WebGLRenderer } from \"../renderer/renderer/WebGLRenderer\";\r\nimport { callFunc, intervalRequest } from \"wonder-frp/dist/es2015/global/Operator\";\r\n// import { GameObjectScene } from \"./entityObject/scene/gameObjectScene/GameObjectScene\";\r\n// import { BasicState } from \"../renderer/state/BasicState\";\r\n// import { EventManager } from \"../event/EventManager\";\r\n// import { CustomEvent } from \"../event/object/CustomEvent\";\r\n// import { EEngineEvent } from \"../event/EEngineEvent\";\r\nimport {\r\n    init as initTransform, initData as initThreeDTransformData, addAddComponentHandle as addThreeDTransformAddComponentHandle, addDisposeHandle as addThreeDTransformDisposeHandle, update as updateTransform\r\n} from \"../component/transform/ThreeDTransformSystem\";\r\nimport { getState, setState } from \"./DirectorSystem\";\r\nimport { DirectorData } from \"./DirectorData\";\r\nimport { ThreeDTransformData } from \"../component/transform/ThreeDTransformData\";\r\nimport { Map } from \"immutable\";\r\nimport { GlobalTempData } from \"../definition/GlobalTempData\";\r\nimport { Scene } from \"./entityObject/scene/Scene\";\r\nimport { GameObjectData } from \"./entityObject/gameObject/GameObjectData\";\r\nimport { create, initData as initSceneData } from \"./entityObject/scene/SceneSystem\";\r\nimport {\r\n    addAddComponentHandle as addGeometryAddComponentHandle, addDisposeHandle as addGeometryDisposeHandle, addInitHandle as addGeometryInitHandle,\r\n    init as initGeometry, initData as initGeometryData, isIndicesBufferNeed32BitsByData\r\n} from \"../component/geometry/GeometrySystem\";\r\nimport { clear, init as initRenderer, render } from \"../renderer/render/WebGLRenderSystem\";\r\nimport { GeometryData } from \"../component/geometry/GeometryData\";\r\nimport { initData as initShaderData } from \"../renderer/shader/ShaderSystem\";\r\nimport { ShaderData } from \"../renderer/shader/ShaderData\";\r\nimport { Geometry } from \"../component/geometry/Geometry\";\r\nimport { DataBufferConfig } from \"../config/DataBufferConfig\";\r\nimport {\r\n    addAddComponentHandle as addMaterialAddComponentHandle, addDisposeHandle as addMaterialDisposeHandle, addInitHandle as addMaterialInitHandle,\r\n    initData as initMaterialData\r\n} from \"../component/material/MaterialSystem\";\r\nimport { MaterialData } from \"../component/material/MaterialData\";\r\nimport {\r\n    addAddComponentHandle as addMeshRendererAddComponentHandle,\r\n    addDisposeHandle as addMeshRendererDisposeHandle,\r\n    initData as initMeshRendererData\r\n} from \"../component/renderer/MeshRendererSystem\";\r\nimport { MeshRendererData } from \"../component/renderer/MeshRendererData\";\r\nimport { initData as initTagData, addAddComponentHandle as addTagAddComponentHandle, addDisposeHandle as addTagDisposeHandle } from \"../component/tag/TagSystem\";\r\nimport { TagData } from \"../component/tag/TagData\";\r\nimport { Tag } from \"../component/tag/Tag\";\r\nimport { ThreeDTransform } from \"../component/transform/ThreeDTransform\";\r\nimport { initData as initIndexBufferData } from \"../renderer/buffer/IndexBufferSystem\";\r\nimport { IndexBufferData } from \"../renderer/buffer/IndexBufferData\";\r\nimport { initData as initArrayBufferData } from \"../renderer/buffer/ArrayBufferSystem\";\r\nimport { ArrayBufferData } from \"../renderer/buffer/ArrayBufferData\";\r\nimport { Material } from \"../component/material/Material\";\r\nimport { MeshRenderer } from \"../component/renderer/MeshRenderer\";\r\nimport {\r\n    addAddComponentHandle as addCameraControllerAddComponentHandle, addDisposeHandle as addCameraControllerDisposeHandle, init as initCameraController,\r\n    update as updateCameraController\r\n} from \"../component/camera/CameraControllerSystem\";\r\nimport { PerspectiveCameraData } from \"../component/camera/PerspectiveCameraData\";\r\nimport { CameraData } from \"../component/camera/CameraData\";\r\nimport { CameraControllerData } from \"../component/camera/CameraControllerData\";\r\nimport { SceneData } from \"./entityObject/scene/SceneData\";\r\nimport { initData as initCameraControllerData } from \"../component/camera/CameraControllerSystem\";\r\nimport { CameraController } from \"../component/camera/CameraController\";\r\nimport { DeviceManager } from \"../device/DeviceManager\";\r\nimport { addAddComponentHandle, addDisposeHandle, addInitHandle } from \"../component/ComponentSystem\";\r\nimport { material_config } from \"../renderer/data/material_config\";\r\nimport { shaderLib_generator } from \"../renderer/data/shaderLib_generator\";\r\nimport { initData as initGameObjectData } from \"./entityObject/gameObject/GameObjectSystem\";\r\nimport { DeviceManagerData } from \"../device/DeviceManagerData\";\r\n\r\n@singleton(true)\r\n@registerClass(\"Director\")\r\nexport class Director {\r\n    public static getInstance(): any { };\r\n\r\n    private constructor() { }\r\n\r\n    get view() {\r\n        return DeviceManager.getInstance().view;\r\n    }\r\n\r\n    // public scene: SceneDispatcher = null;\r\n    public scene: Scene = create(GameObjectData);\r\n    // public renderer: Renderer = null;\r\n\r\n    private _gameLoop: IDisposable = null;\r\n    // private _gameState: EGameState = EGameState.NORMAL;\r\n    private _timeController: DirectorTimeController = DirectorTimeController.create();\r\n    // private _transformSystem: ThreeDTransformSystem = ThreeDTransformSystem.create();\r\n\r\n    public initWhenCreate() {\r\n        // this.scene = SceneDispatcher.create();\r\n        // this.renderer = WebGLRenderer.create();\r\n    }\r\n\r\n    public start() {\r\n        // this._gameState = EGameState.NORMAL;\r\n\r\n        this._startLoop();\r\n    }\r\n\r\n    private _startLoop() {\r\n        var self = this;\r\n\r\n        // console.log(IgnoreElementsStream, ConcatStream);\r\n\r\n        this._gameLoop = this._buildInitStream()\r\n            .ignoreElements()\r\n            .concat(this._buildLoopStream())\r\n            .subscribe((time) => {\r\n                //todo need polyfill\r\n                /*!\r\n                 I assume that the time is DOMHighResTimeStamp, but it may be DOMTimeStamp in some browser!\r\n                 so it need polyfill\r\n                 */\r\n                setState(self._loopBody(time, getState(DirectorData)), DirectorData).run();\r\n                // }, (e) => {\r\n                //     console.error(e);\r\n                //     throw e;\r\n                // });\r\n            });\r\n    }\r\n\r\n    private _buildInitStream() {\r\n        return callFunc(() => {\r\n            setState(this._init(getState(DirectorData)), DirectorData);\r\n        }, this);\r\n    }\r\n\r\n    private _init(state: Map<any, any>) {\r\n        var resultState = state;\r\n\r\n        // resultState = this._initGameObjectScene(resultState);\r\n        resultState = this._initSystem(resultState);\r\n\r\n        resultState = this._initRenderer(resultState);\r\n\r\n        // this.renderer.init();\r\n\r\n        // this._timeController.start();\r\n\r\n        return resultState;\r\n    }\r\n\r\n    // private _initGameObjectScene(state: Map<any, any>) {\r\n    //     var resultState = state,\r\n    //         gameObjectScene: GameObjectScene = this.scene.gameObjectScene;\r\n    //\r\n    //     gameObjectScene.init(resultState);\r\n    //\r\n    //     return resultState;\r\n    // }\r\n\r\n    private _initSystem(state: Map<any, any>) {\r\n        var resultState = initTransform(GlobalTempData, ThreeDTransformData, state);\r\n\r\n        resultState = initGeometry(GeometryData, state);\r\n\r\n        resultState = initCameraController(PerspectiveCameraData, CameraData, CameraControllerData, state);\r\n\r\n        return resultState;\r\n    }\r\n\r\n    private _initRenderer(state: Map<any, any>) {\r\n        var resultState = initRenderer(state);\r\n\r\n        return resultState;\r\n    }\r\n\r\n    private _buildLoopStream() {\r\n        return intervalRequest();\r\n    }\r\n\r\n    private _loopBody(time: number, state: Map<any, any>) {\r\n        var elapsed: number = null;\r\n\r\n        // if (this._gameState === EGameState.PAUSE || this._gameState === EGameState.STOP) {\r\n        //     return false;\r\n        // }\r\n\r\n        // elapsed = this._timeController.computeElapseTime(time);\r\n\r\n        return this._run(elapsed, state);\r\n    }\r\n\r\n    private _run(elapsed: number, state: Map<any, any>) {\r\n        // this._timeController.tick(elapsed);\r\n\r\n        // EventManager.trigger(CustomEvent.create(<any>EEngineEvent.STARTLOOP));\r\n\r\n        var resultState = this._update(elapsed, state);\r\n\r\n        resultState = this._render(state);\r\n\r\n        // EventManager.trigger(CustomEvent.create(<any>EEngineEvent.ENDLOOP));\r\n\r\n        return resultState;\r\n    }\r\n\r\n    private _update(elapsed: number, state: Map<any, any>) {\r\n        // this.scene.gameObjectScene.update(elapsed);\r\n\r\n        var resultState = this._updateSystem(elapsed, state);\r\n\r\n        return resultState;\r\n    }\r\n\r\n    private _render(state: Map<any, any>) {\r\n        var resultState = state;\r\n\r\n        // this.scene.gameObjectScene.render(this.renderer);\r\n        //\r\n        // this.renderer.clear();\r\n        //\r\n        // if (this.renderer.hasCommand()) {\r\n        //     this.renderer.webglState = BasicState.create();\r\n        //     this.renderer.render();\r\n        // }\r\n\r\n        resultState = clear(state);\r\n\r\n        resultState = render(state);\r\n\r\n        return resultState\r\n    }\r\n\r\n    private _updateSystem(elapsed: number, state: Map<any, any>) {\r\n        var resultState = updateTransform(elapsed, GlobalTempData, ThreeDTransformData, state);\r\n\r\n        resultState = updateCameraController(PerspectiveCameraData, CameraData, CameraControllerData);\r\n\r\n        return resultState;\r\n    }\r\n}\r\n\r\ninitShaderData(ShaderData);\r\n\r\ninitGeometryData(DataBufferConfig, GeometryData);\r\naddGeometryAddComponentHandle(Geometry);\r\naddGeometryDisposeHandle(Geometry);\r\naddGeometryInitHandle(Geometry);\r\n\r\ninitMaterialData(MaterialData);\r\naddMaterialAddComponentHandle(Material);\r\naddMaterialDisposeHandle(Material);\r\naddMaterialInitHandle(Material);\r\n\r\ninitMeshRendererData(MeshRendererData);\r\naddMeshRendererAddComponentHandle(MeshRenderer);\r\naddMeshRendererDisposeHandle(MeshRenderer);\r\n\r\ninitTagData(TagData);\r\naddTagAddComponentHandle(Tag);\r\naddTagDisposeHandle(Tag);\r\n\r\ninitThreeDTransformData(GlobalTempData, ThreeDTransformData);\r\naddThreeDTransformAddComponentHandle(ThreeDTransform);\r\naddThreeDTransformDisposeHandle(ThreeDTransform);\r\n\r\ninitArrayBufferData(ArrayBufferData);\r\n\r\ninitIndexBufferData(IndexBufferData);\r\n\r\ninitSceneData(SceneData);\r\n\r\ninitCameraControllerData(CameraControllerData, PerspectiveCameraData, CameraData);\r\naddCameraControllerAddComponentHandle(CameraController);\r\naddCameraControllerDisposeHandle(CameraController);\r\n\r\ninitGameObjectData(GameObjectData);\r\n\r\n","import { GameObject } from \"../gameObject/GameObject\";\r\nimport { it, requireCheckFunc } from \"../../../definition/typescript/decorator/contract\";\r\nimport { isAlive } from \"../gameObject/GameObjectSystem\";\r\nimport { GameObjectData } from \"../gameObject/GameObjectData\";\r\nimport { addChild, removeChild } from \"./SceneSystem\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { ThreeDTransformData } from \"../../../component/transform/ThreeDTransformData\";\r\nimport { SceneData } from \"./SceneData\";\r\n\r\nexport class Scene extends GameObject {\r\n}\r\n\r\nexport var addSceneChild = requireCheckFunc((scene: Scene, gameObject: GameObject) => {\r\n    it(\"scene should alive\", () => {\r\n        expect(isAlive(scene, GameObjectData)).true;\r\n    });\r\n}, (scene: Scene, gameObject: GameObject) => {\r\n    addChild(scene, gameObject, GameObjectData, SceneData);\r\n})\r\n\r\nexport var removeSceneChild = requireCheckFunc((scene: Scene, gameObject: GameObject) => {\r\n    it(\"scene should alive\", () => {\r\n        expect(isAlive(scene, GameObjectData)).true;\r\n    });\r\n}, (scene: Scene, gameObject: GameObject) => {\r\n    removeChild(scene, gameObject, ThreeDTransformData, GameObjectData);\r\n})\r\n","import { getIsTest, init, MainConfigData, setConfig, setIsTest, setLibIsTest } from \"./MainSystem\";\r\nimport { CompileConfig } from \"../config/CompileConfig\";\r\nimport { Map } from \"immutable\";\r\nimport { DirectorData } from \"./DirectorData\";\r\nimport { getState, setState } from \"./DirectorSystem\";\r\nimport { it, requireCheck } from \"../definition/typescript/decorator/contract\";\r\nimport { MainData } from \"./MainData\";\r\nimport { expect } from \"wonder-expect.js\";\r\nimport { DeviceManagerData } from \"../device/DeviceManagerData\";\r\n\r\nexport class Main {\r\n    static get isTest() {\r\n        return getIsTest(MainData);\r\n    }\r\n    static set isTest(isTest: boolean) {\r\n        setIsTest(isTest, MainData).run();\r\n\r\n        setLibIsTest(isTest).run();\r\n    }\r\n\r\n    private static _configState: Map<any, any> = null;\r\n\r\n    public static setConfig(configState: MainConfigData) {\r\n        this._configState = setConfig(CompileConfig.closeContractTest, MainData, configState).run();\r\n\r\n        setState(getState(DirectorData).set(\"Main\", this._configState.get(\"Main\")), DirectorData).run();\r\n\r\n        return this;\r\n    }\r\n\r\n    @requireCheck(() => {\r\n        it(\"configState should exist\", () => {\r\n            expect(Main._configState).exist;\r\n        });\r\n    })\r\n    public static init() {\r\n        setState(init(getState(DirectorData), this._configState.get(\"config\"), DeviceManagerData).run(), DirectorData).run();\r\n\r\n        return this;\r\n    }\r\n}\r\n","export function execOnlyOnce(flagName: string) {\r\n    return function(target, name, descriptor) {\r\n        var value = descriptor.value;\r\n\r\n        descriptor.value = function(...args) {\r\n            var result = null;\r\n\r\n            if (this[flagName]) {\r\n                return;\r\n            }\r\n\r\n            this[flagName] = true;\r\n\r\n            return value.apply(this, args);\r\n        };\r\n\r\n        return descriptor;\r\n    }\r\n}","export function virtual(target, name, descriptor) {\r\n    return descriptor;\r\n}","import { DomQuery as DomQueryFromCommonlib } from \"wonder-commonlib/dist/es2015/utils/DomQuery\";\r\nimport { fromArray as fromArrayFromFrp, Operator } from \"wonder-frp/dist/es2015/global/Operator\";\r\nimport { initData as initThreeDTransformDataSystem } from \"../component/transform/ThreeDTransformSystem\";\r\nimport { initData as initTagDataSystem } from \"../component/tag/TagSystem\";\r\nimport { initData as initGeometryDataSystem } from \"../component/geometry/GeometrySystem\";\r\nimport { initData as initMaterialDataSystem } from \"../component/material/MaterialSystem\";\r\nimport {\r\n    initData as initShaderDataSystem,\r\n    sendAttributeData as sendAttributeDataSystem, sendUniformData as sendUniformDataSystem,\r\n    use\r\n} from \"../renderer/shader/ShaderSystem\";\r\n\r\nimport {\r\n    disableVertexAttribArray as disableVertexAttribArraySystem\r\n} from \"../renderer/shader/programSystem\";\r\nimport { initData as initMeshRendererDataSystem } from \"../component/renderer/MeshRendererSystem\";\r\nimport { createState as createStateUtils } from \"../utils/stateUtils\";\r\nimport { Map } from \"immutable\";\r\nimport { initData as initArrayBufferDataSystem } from \"../renderer/buffer/ArrayBufferSystem\";\r\nimport { initData as initIndexBufferDataSystem } from \"../renderer/buffer/IndexBufferSystem\";\r\nimport { RenderCommand } from \"../renderer/command/RenderCommand\";\r\nimport { DataUtils as DataUtilsUtils } from \"../utils/DataUtils\";\r\nimport { initData as initDeviceManagerDataSystem } from \"../device/DeviceManagerSystem\";\r\nimport { initData as initCameraControllerDataSystem } from \"../component/camera/CameraControllerSystem\";\r\nimport { initData as initGameObjectDataSystem } from \"../core/entityObject/gameObject/GameObjectSystem\";\r\n\r\nexport var initThreeDTransformData = initThreeDTransformDataSystem;\r\n\r\nexport var DomQuery = DomQueryFromCommonlib;\r\n\r\nexport var fromArray = fromArrayFromFrp;\r\n\r\nexport var initTagData = initTagDataSystem;\r\n\r\nexport var initGeometryData = initGeometryDataSystem;\r\n\r\nexport var initMaterialData = initMaterialDataSystem;\r\n\r\nexport var initShaderData = initShaderDataSystem;\r\n\r\nexport var initMeshRendererData = initMeshRendererDataSystem;\r\n\r\nexport var initArrayBufferData = initArrayBufferDataSystem;\r\n\r\nexport var initIndexBufferData = initIndexBufferDataSystem;\r\n\r\nexport var initDeviceManagerData = initDeviceManagerDataSystem;\r\n\r\nexport var initCameraControllerData = initCameraControllerDataSystem;\r\n\r\nexport var initGameObjectData = initGameObjectDataSystem;\r\n\r\nexport var createState = createStateUtils;\r\n\r\nexport var useProgram = use;\r\n\r\nexport var sendAttributeData = sendAttributeDataSystem;\r\n\r\nexport var sendUniformData = sendUniformDataSystem;\r\n\r\nexport var disableVertexAttribArray = disableVertexAttribArraySystem;\r\n\r\nexport var DataUtils = DataUtilsUtils;\r\n","import { registerClass } from \"../../definition/typescript/decorator/registerClass\";\r\nimport { TimeController } from \"./TimeController\";\r\nimport { Director } from \"../../core/Director\";\r\nimport { root } from \"../../definition/Variable\";\r\n\r\n@registerClass(\"CommonTimeController\")\r\nexport class CommonTimeController extends TimeController {\r\n    public static create() {\r\n        var obj = new this();\r\n\r\n        return obj;\r\n    }\r\n\r\n    protected getNow() {\r\n        if (Director.getInstance().isTimeChange) {\r\n            return Director.getInstance().elapsed;\r\n        }\r\n\r\n        return root.performance.now();\r\n    }\r\n}"],"names":["Log","Log$","error","this","JudgeUtils","JudgeUtils$","it","expect","addAddComponentHandle","addDisposeHandle","ComponentData","deleteBySwap","addAddComponentHandleToMap","addDisposeHandleToMap","CameraControllerData","init","PerspectiveCameraData","CameraData","initCamera","updateProjectionMatrix","dispose","getWorldToCameraMatrix","getWorldToCameraMatrixCamera","getPMatrix","getPMatrixCamera","initData","initDataCamera","create","setBatchDatas","getParent","setParent","getGameObject","global","require$$0","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","require$$8","require$$9","define","chrome","firefox","_addChild","_setParent","addToDirtyList","isTranslate","update","getThreeDTransformDataParent","addTag","checkShouldAlive","addTagSystemTag","removeTag","removeTagSystemTag","findGameObjectsByTag","findTagSystemTagGameObjectsByTag","addComponent","disposeComponent","TagData","ThreeDTransformData","_buildUID","GlobalTempData","setParentHierarchy","setBatchDatasSystem","updateSystem","_disposeMapDatas","toString","Map","createThreeDTransform","initGameObject","initGameObjectSystem","getIsTest","fromJS","root","DomQuery","addInitHandle","addInitHandleToMap","initGeometry","GeometryData","getDrawMode","getVertices","getIndices","deleteObjectBySwap","getGeometryDrawMode","getGeometryVertices","getGeometryIndices","initGeometrySystem","lowp_fragment","mediump_fragment","highp_fragment","getOrCreateBuffer","_initBuffer","_resetBindedBuffer","use","sendAttributeData","getOrCreateArrayBuffer","sendUniformData","sendAttributeDataProgram","sendUniformDataProgram","getOrCreateIndexBuffer","useProgram","initMaterial","MaterialData","material_config","shaderLib_generator","DeviceManagerData","ShaderData","initShader","initMaterialSystem","updateProjectionMatrixPerspectiveCamera","disposePerspectiveCamera","initDataPerspectiveCamera","_generateTypeID","_typeID","getTypeIDFromClass","_table","getTypeIDFromComponent","_addTypeID","createGeometry","createMaterial","createShader","MeshRendererData","$BREAK","$REMOVE","ExtendUtils","List","Collection","requireCheck","assert","registerClass","createGameObject","addChild","addGameObject","removeChild","removeGameObject","clear","clearGL","initTransform","initCameraController","initRenderer","updateTransform","updateCameraController","initShaderData","initGeometryData","addGeometryAddComponentHandle","addGeometryDisposeHandle","addGeometryInitHandle","initMaterialData","addMaterialAddComponentHandle","addMaterialDisposeHandle","addMaterialInitHandle","initMeshRendererData","addMeshRendererAddComponentHandle","addMeshRendererDisposeHandle","initTagData","addTagAddComponentHandle","addTagDisposeHandle","initThreeDTransformData","addThreeDTransformAddComponentHandle","addThreeDTransformDisposeHandle","initArrayBufferData","initIndexBufferData","initSceneData","initCameraControllerData","addCameraControllerAddComponentHandle","addCameraControllerDisposeHandle","initGameObjectData","Main","initThreeDTransformDataSystem","DomQueryFromCommonlib","fromArray","fromArrayFromFrp","initTagDataSystem","initGeometryDataSystem","initMaterialDataSystem","initShaderDataSystem","initMeshRendererDataSystem","initArrayBufferDataSystem","initIndexBufferDataSystem","initDeviceManagerDataSystem","initCameraControllerDataSystem","initGameObjectDataSystem","createState","createStateUtils","sendAttributeDataSystem","sendUniformDataSystem","disableVertexAttribArray","disableVertexAttribArraySystem","DataUtils","DataUtilsUtils"],"mappings":"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AAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACX,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACX,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACX,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACX,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACX,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACX,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACX,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACX,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACX,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QACZ,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QACZ,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QACZ,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QACZ,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QACZ,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QAEZ,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QAC5B,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QAC5B,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QAC5B,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QAC5B,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QAC5B,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QAC5B,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QAC5B,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QAC5B,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QAC5B,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QAC5B,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QAC5B,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QAE5B,MAAM,GAAG,CAAC,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;QAErF,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QACpD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QACrD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QACpD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QACrD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QACrD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QACpD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QACrD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QACpD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QACpD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QACrD,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QACrD,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QACtD,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QACtD,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QACrD,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QACtD,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,MAAM,CAAC;QAErD,OAAO,IAAI,CAAC;KACf;IAEM,6BAAW,GAAlB;QACI,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAC3C,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC;QACpB,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;QAE5B,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;QAEhB,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;QAEhB,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACjC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAClC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAChC,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAClC,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACjC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACjC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAChC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACjC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAEhC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;QAC3C,IAAI,GAAG,KAAK,CAAC,EAAE;YACXjB,MAAG,CAAC,IAAI,CAAC,uCAAuC,CAAC,CAAC;YAElD,OAAO,IAAI,CAAC;SACf;QAED,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC;QAEf,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC;QAClB,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC;QAClB,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC;QAClB,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC;QAClB,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC;QAClB,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC;QAClB,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC;QAClB,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC;QAClB,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC;QAElB,OAAO,IAAI,CAAC;KACf;IAMM,2BAAS,GAAhB;QACI,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC;QACrB,IAAI,GAAG,CAAC;QAER,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QAAC,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;QACxC,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QAAC,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;QACxC,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QAAC,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;QAExC,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;QAAC,EAAE,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC;QAC1C,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;QAAC,EAAE,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC;QAC1C,GAAG,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;QAAC,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;QAAC,EAAE,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC;QAE5C,OAAO,IAAI,CAAC;KACf;IASM,8BAAY,GAAnB,UAAoB,CAAC,EAAE,CAAC,EAAE,CAAC;QACvB,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;QACpB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QACzC,OAAO,IAAI,CAAC;KACf;IASM,2BAAS,GAAhB,UAAiB,CAAC,EAAE,CAAC,EAAE,CAAC;QACpB,IAAI,CAAC,WAAW,CAAC,SAAO,CAAC,MAAM,EAAE,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAEzD,OAAO,IAAI,CAAC;KACf;IAgBM,2BAAS,GAAhB,UAAiB,KAAa,EAAE,CAAS,EAAE,CAAS,EAAE,CAAS;QAC3D,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QAEnD,IAAI,KAAK,GAAG,IAAI,CAAC,EAAE,GAAG,KAAK,GAAG,GAAG,CAAC;QAClC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;QAEhB,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACpB,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAEpB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;YAE/B,IAAI,CAAC,GAAG,CAAC,EAAE;gBACP,CAAC,GAAG,CAAC,CAAC,CAAC;aACV;YACD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YACxC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YACzC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YACzC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;SAC5C;aAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;YAEtC,IAAI,CAAC,GAAG,CAAC,EAAE;gBACP,CAAC,GAAG,CAAC,CAAC,CAAC;aACV;YACD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YACxC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YACxC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YAC1C,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;SAC5C;aAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;YAEtC,IAAI,CAAC,GAAG,CAAC,EAAE;gBACP,CAAC,GAAG,CAAC,CAAC,CAAC;aACV;YACD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YACzC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YACxC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YACzC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;SAC5C;aAAM;YAEH,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YACvC,IAAI,GAAG,KAAK,CAAC,EAAE;gBAEX,IAAI,GAAG,CAAC,GAAG,GAAG,CAAC;gBACf,CAAC,IAAI,IAAI,CAAC;gBACV,CAAC,IAAI,IAAI,CAAC;gBACV,CAAC,IAAI,IAAI,CAAC;aACb;YAED,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;YACX,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;YACX,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;YACX,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;YACX,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;YACX,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;YACX,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;YAEX,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YACtB,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAET,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YACtB,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YAET,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;YACpB,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YACvB,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YAEV,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YACV,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YACV,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;YACV,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;SACb;QAED,OAAO,IAAI,CAAC;KACf;IAcM,wBAAM,GAAb;QAAc,cAAO;aAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;YAAP,yBAAO;;QACjB,IAAI,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QAEpB,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;YACnB,IAAI,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YAEtB,IAAI,CAAC,WAAW,CAAC,SAAO,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC,KAAK,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAChH;aACI,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;YACxB,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EACX,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EACX,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YAEhB,IAAI,CAAC,WAAW,CAAC,SAAO,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;SAChE;QAED,OAAO,IAAI,CAAC;KACf;IASM,0BAAQ,GAAf,UAAgB,CAAC,EAAE,CAAC,EAAE,CAAC;QACnB,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;QACpB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QACzC,OAAO,IAAI,CAAC;KACf;IASM,uBAAK,GAAZ,UAAa,CAAC,EAAE,CAAC,EAAE,CAAC;QAChB,IAAI,CAAC,WAAW,CAAC,SAAO,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAErD,OAAO,IAAI,CAAC;KACf;IAmBM,2BAAS,GAAhB;QAAiB,cAAO;aAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;YAAP,yBAAO;;QACpB,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EACP,GAAG,EAAE,MAAM,EAAE,EAAE,CAAC;QAEpB,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;YACnB,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACd,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACjB,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,CAAA;SACf;aACI,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;YACxB,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YAChD,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YACnD,EAAE,GAAG,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;SAClD;QACD,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;QAErB,CAAC,GAAG,GAAG,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE,CAAC;QAExC,CAAC,GAAG,EAAE,CAAC,KAAK,EAAE,CAAC,SAAS,EAAE,CAAC;QAC3B,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC;QAC1B,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAEd,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;QAEpB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACX,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACX,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACX,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACT,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACX,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACX,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACX,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACT,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACX,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACX,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACZ,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QACV,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;QACd,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;QACd,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;QACd,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QAEV,OAAO,IAAI,CAAC;KACf;IAYM,wBAAM,GAAb;QAAc,cAAO;aAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;YAAP,yBAAO;;QACjB,IAAI,MAAM,GAAG,SAAO,CAAC,MAAM,EAAE,CAAC;QAE9B,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC;QAEvD,OAAO,IAAI,CAAC;KACf;IAKM,0BAAQ,GAAf,UAAgB,IAAY,EAAE,KAAa,EAAE,MAAc,EAAE,GAAW,EAAE,IAAY,EAAE,GAAW;QAC/F,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,EACf,EAAE,EACF,EAAE,EACF,EAAE,CAAC;QAEP,EAAE,GAAG,CAAC,IAAI,KAAK,GAAG,IAAI,CAAC,CAAC;QACxB,EAAE,GAAG,CAAC,IAAI,GAAG,GAAG,MAAM,CAAC,CAAC;QACxB,EAAE,GAAG,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,CAAC;QAEtB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;QACd,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACT,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACT,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAET,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACT,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;QACd,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACT,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAET,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACT,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACT,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;QAChB,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QAEV,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,KAAK,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAC7B,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,GAAG,MAAM,CAAC,GAAG,EAAE,CAAC;QAC7B,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAC3B,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QAEV,OAAO,IAAI,CAAC;KACf;IAEM,uBAAK,GAAZ,UAAa,IAAY,EAAE,KAAa,EAAE,MAAc,EAAE,GAAW,EAAE,IAAY,EAAE,GAAW;QAC5F,IAAI,CAAC,WAAW,CAAC,SAAO,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;QAEjF,OAAO,IAAI,CAAC;KACf;IAgBM,gCAAc,GAArB,UAAsB,IAAY,EAAE,MAAc,EAAE,IAAY,EAAE,GAAW;QACzE,IAAI,CAAC,GAAG,IAAI,EACR,EAAE,GAAG,IAAI,EACT,CAAC,GAAG,IAAI,EACR,EAAE,GAAG,IAAI,EACT,IAAI,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC;QAEpC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACnBA,MAAG,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,EAAEA,MAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC;QAEjE,EAAE,GAAG,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,CAAC;QACtB,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAExB,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;QAEhB,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,MAAM,CAAC;QACnB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACT,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACT,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAET,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACT,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;QACV,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACT,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAET,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACT,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACT,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAC3B,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;QAEX,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QACV,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QACV,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,GAAG,GAAG,GAAG,EAAE,CAAC;QAC7B,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QAEV,OAAO,IAAI,CAAC;KACf;IAEM,6BAAW,GAAlB,UAAmB,IAAY,EAAE,MAAc,EAAE,IAAY,EAAE,GAAW;QACtE,IAAI,CAAC,WAAW,CAAC,SAAO,CAAC,MAAM,EAAE,CAAC,cAAc,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;QAE3E,OAAO,IAAI,CAAC;KACf;IAEM,6BAAW,GAAlB,UAAmB,KAAc,EAAE,aAA8B;QAA9B,8BAAA,EAAA,qBAA8B;QAC7D,IAAI,CAAC,GAAG,IAAI,EAER,CAAC,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;QAQtB,IAAI,aAAa,EAAE;YACf,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;SACxB;QAED,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;QAEnC,OAAO,IAAI,CAAC;KACf;IAKM,0BAAQ,GAAf;QAAgB,cAAO;aAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;YAAP,yBAAO;;QACnB,IAAI,IAAI,GAAG,IAAI,EACX,IAAI,GAAG,IAAI,EACX,MAAM,GAAG,IAAI,CAAC;QAElB,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAErB,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;YACnB,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC;YACnB,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;SACzB;aACI,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;YACxB,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;YACtB,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;SAEzB;QAED,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAClD,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAClD,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,EACpD,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,EACtD,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAClD,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAClD,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,EACpD,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;QAE3D,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC1C,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC1C,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC1C,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC1C,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC1C,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC1C,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;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"}