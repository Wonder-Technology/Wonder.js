* DONE write user design(with imgui extend) 

dispatch ui state
custom control
skin
event handle



middleware
(middleware can invoke other middleware by injected middlewareAPI!
e.g. wonder-imgui can invoke vertex-buffer-manage!
)





# registerEventHandler
# showAllRegistedEventHandlers

# edit

# TODO run



# registerMenuUI
# ////showAllRegistedMenuUIs


# TODO run


# registerMiddleware


# TODO run



# registerEnginePlugin
# (need refresh page!)

# TODO run



# registerEngineComponent


# TODO run


* DONE fix "register plugin not work" bug



wpk now only contain asb, not contain wdb!

** DONE change to string

** DONE fix "register plugin not work" bug

# ** TODO generate

# ** TODO load


need generate and save to indexdb and reload



# * TODO implement, pass run test

# use render webgpu cube to instead of imgui render for demo!


# * TODO add "multi edit the same scene" 








# * TODO add "redo/undo"


** DONE think ui

editor ui state, scene ui state:{
    all ui's state map,
    canvas
}


*** DONE event handler


*** DONE handle custom control

////no need??? because register ui is already equal to custom control!!!

need! because custom control is commonlib control as lib, while register ui is used one!

*** DONE handle skin


*** DONE game ui








* TODO improve

** DONE refactor: change packages(e.g. editor/, engine/, ...) to default/, middleware/, component/, work-plugin/, event-handler/, ui/



** TODO change wonder-commonlib, wonder-bs-most, wonder-engine-core to be middleware so that not pack it by webpack for who(e.g. EventManager, UI, transform component) use it!

** TODO split type from wonder-engine-core to be wonder-engine-core-type package

edit component package(e.g. wonder-component-transform)


** TODO use middlwareState(contain allMiddlewareStatesMap), editorUIState, engineCoreState(create by wonder-engine-core)

ui,event handler no need state! so no editorState!


** TODO inject api(only remain MiddlewareManager.unsafeGet) and { middlewareState, engineCoreState } as states

inject api and states to ui->execFunc, event handler->handler(
    e.g.: 
let handler = ((middlwareState, engineState), api , e,) => {
...
(middlwareState, engineState)

);


inject api to middleware->getData; inject states to middleware->getData's functions;


how to inject to component, work plugin???






* TODO new demo: rewrite old demo

** TODO implement register middleware, event handler

# *** TODO use drawCopyTextarea

** TODO implement register ui


** TODO improve imgui

based on design

*** TODO handle custom control

////no need??? because register ui is already equal to custom control!!!

need! because custom control is commonlib control as lib, while register ui is used one!

*** TODO handle skin


*** TODO only editor ui



** TODO generate and load wpk(only has asb) instead of save!

# wpk = asb + wdb, but now only has asb


** TODO add multi user edit


** TODO add redo,undo



** TODO register work plugin


** TODO register component



** TODO add one edit scene

has one default camera

can add one gameObject + outline once

add editSceneUI

** TODO add one run scene

use default camera

add runSceneUI


** TODO wpk should contain wdb



* TODO add custom middleware for change str to fields(for extend data, like stateValue, skin, script attribute)

write by typescript


** TODO generate asb, can combine it to the exist wpk(combine asb)




* TODO improve

** TODO be interface(e.g. eventManager, UI, ...)




