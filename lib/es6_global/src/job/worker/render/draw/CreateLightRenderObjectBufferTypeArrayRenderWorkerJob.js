// Generated by BUCKLESCRIPT VERSION 4.0.0, PLEASE EDIT WITH CARE

import * as MostUtils$Wonderjs from "../../../../asset/utils/MostUtils.js";
import * as IsRenderUtils$Wonderjs from "./utils/IsRenderUtils.js";
import * as MessageService$Wonderjs from "../../../../service/primitive/worker/MessageService.js";
import * as StateRenderWorkerService$Wonderjs from "../../../../service/state/render_worker/state/StateRenderWorkerService.js";
import * as CreateTypeArrayRenderObjectService$Wonderjs from "../../../../service/record/all/render/CreateTypeArrayRenderObjectService.js";

function execJob(_, e, stateData) {
  return MostUtils$Wonderjs.callFunc((function () {
                var state = StateRenderWorkerService$Wonderjs.unsafeGetState(stateData);
                var data = MessageService$Wonderjs.getRecord(e);
                var match = IsRenderUtils$Wonderjs.isRender(data);
                if (match) {
                  var lightRenderData = data.renderData.light;
                  var match$1 = CreateTypeArrayRenderObjectService$Wonderjs.createTypeArrays(lightRenderData.buffer, lightRenderData.bufferCount);
                  state[/* renderRecord */21][/* lightRenderObjectRecord */1] = /* record */[
                    /* count */lightRenderData.count,
                    /* transformIndices */match$1[0],
                    /* materialIndices */match$1[1],
                    /* geometryIndices */match$1[2],
                    /* geometryTypes */match$1[4],
                    /* sourceInstanceIndices */match$1[3]
                  ];
                  StateRenderWorkerService$Wonderjs.setState(stateData, state);
                  return e;
                } else {
                  return e;
                }
              }));
}

export {
  execJob ,
  
}
/* MostUtils-Wonderjs Not a pure module */
