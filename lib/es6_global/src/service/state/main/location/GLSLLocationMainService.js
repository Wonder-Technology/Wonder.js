// Generated by BUCKLESCRIPT VERSION 2.1.0, PLEASE EDIT WITH CARE
'use strict';

import * as HashMapService$WonderCommonlib   from "../../../../../../../node_modules/wonder-commonlib/lib/es6_global/src/HashMapService.js";
import * as SparseMapService$WonderCommonlib from "../../../../../../../node_modules/wonder-commonlib/lib/es6_global/src/SparseMapService.js";

function _getLocation(param, getGlLocationFunc, gl) {
  var locationMap = param[2];
  var name = param[1];
  var match = HashMapService$WonderCommonlib.get(name, locationMap);
  if (match) {
    return match[0];
  } else {
    var pos = getGlLocationFunc(param[0], name, gl);
    HashMapService$WonderCommonlib.set(name, pos, locationMap);
    return pos;
  }
}

function _getGlAttribLocation(program, name, gl) {
  return gl.getAttribLocation(program, name);
}

function _getGlUniformLocation(program, name, gl) {
  return gl.getUniformLocation(program, name);
}

function getAttribLocation(program, name, attributeLocationMap, gl) {
  return _getLocation(/* tuple */[
              program,
              name,
              attributeLocationMap
            ], _getGlAttribLocation, gl);
}

function getUniformLocation(program, name, uniformLocationMap, gl) {
  return _getLocation(/* tuple */[
              program,
              name,
              uniformLocationMap
            ], _getGlUniformLocation, gl);
}

function getAttributeLocationMap(shaderIndex, state) {
  return SparseMapService$WonderCommonlib.get(shaderIndex, state[/* glslLocationRecord */25][/* attributeLocationMap */0]);
}

function setAttributeLocationMap(shaderIndex, attributeLocationMap, state) {
  SparseMapService$WonderCommonlib.set(shaderIndex, attributeLocationMap, state[/* glslLocationRecord */25][/* attributeLocationMap */0]);
  return state;
}

function getUniformLocationMap(shaderIndex, state) {
  return SparseMapService$WonderCommonlib.get(shaderIndex, state[/* glslLocationRecord */25][/* uniformLocationMap */1]);
}

function setUniformLocationMap(shaderIndex, uniformLocationMap, state) {
  SparseMapService$WonderCommonlib.set(shaderIndex, uniformLocationMap, state[/* glslLocationRecord */25][/* uniformLocationMap */1]);
  return state;
}

function createLocationMap() {
  return HashMapService$WonderCommonlib.createEmpty(/* () */0);
}

export {
  _getLocation            ,
  _getGlAttribLocation    ,
  _getGlUniformLocation   ,
  getAttribLocation       ,
  getUniformLocation      ,
  getAttributeLocationMap ,
  setAttributeLocationMap ,
  getUniformLocationMap   ,
  setUniformLocationMap   ,
  createLocationMap       ,
  
}
/* HashMapService-WonderCommonlib Not a pure module */
