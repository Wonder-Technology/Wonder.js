// Generated by BUCKLESCRIPT VERSION 2.1.0, PLEASE EDIT WITH CARE
'use strict';

import * as ShaderSystem$Wonderjs              from "../../../../renderer/shader/ShaderSystem.js";
import * as RenderConfigSystem$Wonderjs        from "../../../../renderer/config/render/RenderConfigSystem.js";
import * as ShaderSourceBuildCommon$Wonderjs   from "../../../../renderer/shader/ShaderSourceBuildCommon.js";
import * as MaterialGameObjectCommon$Wonderjs  from "./MaterialGameObjectCommon.js";
import * as MaterialShaderIndexCommon$Wonderjs from "./MaterialShaderIndexCommon.js";

function _initMaterialShader(gl, materialIndex, initShaderFuncTuple, state) {
  var shaderData = RenderConfigSystem$Wonderjs.getShaders(state);
  var shader_libs = shaderData[/* basic_material */2][/* material_shader */0][/* shader_libs */0];
  var shaderLibs = RenderConfigSystem$Wonderjs.getShaderLibs(state);
  var gameObject = MaterialGameObjectCommon$Wonderjs.unsafeGetGameObject(materialIndex, state);
  var match = MaterialShaderIndexCommon$Wonderjs.hasShaderIndex(materialIndex, state);
  if (match !== 0) {
    return state;
  } else {
    var shaderIndex = ShaderSystem$Wonderjs.initMaterialShader(materialIndex, /* tuple */[
          gl,
          RenderConfigSystem$Wonderjs.getMaterialShaderLibDataArr(gameObject, /* tuple */[
                shaderData,
                shader_libs,
                shaderLibs
              ], state)
        ], initShaderFuncTuple, state);
    return MaterialShaderIndexCommon$Wonderjs.setShaderIndex(materialIndex, shaderIndex, state);
  }
}

function _buildInitShaderFuncTuple() {
  return ShaderSourceBuildCommon$Wonderjs.buildGLSLSource;
}

function initMaterial(gl, materialIndex, state) {
  return _initMaterialShader(gl, materialIndex, ShaderSourceBuildCommon$Wonderjs.buildGLSLSource, state);
}

var handleInitComponent = initMaterial;

export {
  _initMaterialShader       ,
  _buildInitShaderFuncTuple ,
  initMaterial              ,
  handleInitComponent       ,
  
}
/* ShaderSystem-Wonderjs Not a pure module */
